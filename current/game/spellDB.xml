<!--

Spell Database for Dungeons of Dredmor. As always, don't look if you don't want spoilers...

-->

<spellDB>

<!-- The Spell DB

  This database stores every activated effect available from within the game; each "spell" must have the following things:
  name, type, icon, animation information, description
  
  The spell header contains the name, type, and icon, and is used as a container for each spell.
  Names can be pretty much anything
  Type designates what archetypal group the spell falls under.  this contains:
    


-->
   <!--
   
   requirements tag
   mp="1" : magic point cost
   magPowBonus="0.2"
   savvyBonus="0.2"
   : total mana cost = magic point cost - magic power stat * X - savvy stat * Y whereas X and Y are the associated bonus values.
      
   buff specials:
   brittle="1" : brittle buff
   attacks="3" : limited attack charges
   manaUpkeep="3" : mana upkeep for buff
   -->
<!-- sample, known working, warrior skill. -->

<!-- Generic Burning! -->

<spell name="Burn Hit A" type="target" >
   <effect type="damage" conflagratory="1" affectsCaster="1" />
   </spell>
  
<spell name="On Fire" type="target" icon="skills/burning64.png" >
	<effect type="damage" conflagratory="1" affectsCaster="1"/>
	<anim sprite="sprites/sfx/impact_fire/impact_fire" frames="5" sfx="flame" framerate="100" centerEffect="1"/>
	<buff useTimer="1" time="12" stacksize="1" allowstacking="0" self="0"
      icon="skills/burning64.png"
      smallicon="skills/burning32.png" bad="1">
		<halo name="sprites/sfx/burnD/burnD" first="0" num="5" frameRate="100"/>
		<secondarybuff id="9" amount="-10"/> <!-- edr -->
		<secondarybuff id="10" amount="-1"/> <!-- armor -->
      <primaryBuff id="2" amount="-3" /> <!-- NIM -->
      <primaryBuff id="5" amount="-3" /> <!-- SAV -->
		<resistbuff hyperborean="3" />
   </buff>
   <effect type="dot" amount="12" spell="Burn Hit A" />
   <description text="Fire bad!" />
</spell>


<spell name="Curse Removal" type="target" icon="skills/spells/radiant_aura32.png" wand="1">
   <anim sprite="sprites/sfx/summonA/summonA" frames="10" framerate="60" centerEffect="1" sfx="choir" />
   <effect type="uncurse" amount="1" />
   <description text="Cleans your curses away!"/>
   <ai hint="ally" />
   </spell>

<spell name="Corrupt Equipment" type="target" icon="skills/spells/radiant_aura32.png" wand="0">
   <anim sprite="sprites/sfx/acid_bolt/acid_bolt" frames="3" framerate="80" sfx="missile" />
   <effect type="corrupt" amount="1"/>
   <description text="Used by blobbies to grind your equipment to dust." monsterText="corrupts your equipment!"/>
   <ai hint="target"/>
   </spell>

<!-- for healing and vampirism -->
<spell name="Knitting Tissue" type="target" icon="skills/spells/restoration32.png" >
	<effect type="heal" amount="1" amountF="0.25" />
  <ai hint="ally" />
</spell>

<!-- for blinky batty -->
<spell name="Monster Blink" type="target" icon="skills/spells/blink32.png" >
  <anim sprite="sprites/sfx/flame_buff_loop/flame_buff_loop" frames="6" framerate="50" sfx="flame" />
  <effect type="targetblink" sfx="teleport" />
  <description monsterText="blinks!"/>
   <ai hint="self"/>
</spell>

<!-- For fire eelys ; and wand? ; Maybe spread this love around. -->
<spell name="Weak Firebolt" type="missile" icon="skills/placeholder32.png" wand="0">
	<requirements mp="8" savvyBonus="0.2"/>
	<effect type="damage" blasting="3" conflagratory="5" affectscaster="1"/>
	<description text="Pew pew, fire!" monsterText="shoots a feeble-looking bolt of fire!"/>
	<anim sprite="sprites/sfx/flame_buff_loop/flame_buff_loop" frames="6" framerate="50" sfx="flame" />
	<impact sprite="sprites/sfx/explosion_med/explosion_med" frames="8" framerate="90" sfx="flame_weak" />
   <effect type="trigger" spell="Fire 0" />
</spell>
  
<spell name="Firebolt" type="missile" icon="skills/placeholder32.png" wand="1">
	<requirements mp="8" savvyBonus="0.2"/>
	<effect type="damage" blasting="6" conflagratory="10" affectscaster="1"/>
	<description text="Pew pew, fire!" monsterText="shoots a reasonably impressive bolt of fire!"/>
	<anim sprite="sprites/sfx/flame_buff_loop/flame_buff_loop" frames="6" framerate="50" sfx="flame" />
	<impact sprite="sprites/sfx/explosion_med/explosion_med" frames="8" framerate="90" sfx="flame_weak" />
  <effect type="trigger" spell="Fire 1" />
</spell>

<spell name="Weak Icebolt" type="missile" icon="skills/placeholder32.png" wand="0">
	<requirements mp="8" savvyBonus="0.2"/>
	<effect type="damage" blasting="3" hyperborean="5" affectscaster="1"/>
	<description text="Pew pew, ice!" monsterText="hurls a somewhat ineffectual ice bolt!"/>
	<anim sprite="sprites/sfx/energy_ball/energy_ball" frames="6" framerate="90" sfx="magic" />
	<impact sprite="sprites/sfx/glacial_hit/glacial_hit" frames="6" framerate="90" sfx="magic" />
   <effect type="trigger" spell="Small Weak Snowstorm" />
   </spell>
  
<spell name="Icebolt" type="missile" icon="skills/placeholder32.png" wand="1">
	<requirements mp="8" savvyBonus="0.2"/>
	<effect type="damage" blasting="6" hyperborean="10" affectscaster="1"/>
	<description text="Pew pew, ice!" monsterText="flings ice!"/>
	<anim sprite="sprites/sfx/energy_ball/energy_ball" frames="6" framerate="90" sfx="magic" />
	<impact sprite="sprites/sfx/glacial_hit/glacial_hit" frames="6" framerate="90" sfx="magic" />
   <effect type="trigger" spell="Small Weak Snowstorm" />
   </spell>

<spell name="Strong Icebolt" type="missile" icon="skills/placeholder32.png" wand="1">
	<requirements mp="8" savvyBonus="0.2"/>
	<effect type="damage" blasting="4" slashing="6" hyperborean="18" affectscaster="1"/>
	<description text="Pew pew, ice!" monsterText="flings ice!"/>
	<anim sprite="sprites/sfx/energy_ball/energy_ball" frames="6" framerate="90" sfx="magic" />
	<impact sprite="sprites/sfx/glacial_hit/glacial_hit" frames="6" framerate="90" sfx="magic" />
   <effect type="trigger" spell="Small Weak Snowstorm" />
   </spell>

<spell name="Weak Electrobolt" type="missile" icon="skills/placeholder32.png" wand="0">
	<requirements mp="8" savvyBonus="0.2"/>
	<effect type="damage" blasting="3" voltaic="5" affectscaster="1"/>
	<description text="Pew pew, zap!" monsterText="disgorges electrical current!"/>
   <anim sprite="sprites/sfx/energy_ball/energy_ball" frames="6" framerate="80" sfx="elec" />
   <impact sprite="sprites/sfx/impactA/impactA" frames="6" framerate="80" sfx="magic" centerEffect="0"/>
   </spell>
<spell name="Electrobolt" type="missile" icon="skills/placeholder32.png" wand="0">
	<requirements mp="8" savvyBonus="0.2"/>
	<effect type="damage" blasting="6" voltaic="10" affectscaster="1"/>
	<description text="Pew pew, zap!" monsterText="disgorges a lot of electrical current!"/>
   <anim sprite="sprites/sfx/energy_ball/energy_ball" frames="6" framerate="80" sfx="elec" />
   <impact sprite="sprites/sfx/impactA/impactA" frames="6" framerate="80" sfx="magic" centerEffect="0"/>
   </spell>

<!-- For Mustache Golem -->
<spell name="Mustache Root" type="target" >
	<effect type="lockdown" amount="5" />
   <buff useTimer="1" time="5" allowstacking="1" icon="skills/spells/mustache64.png" smallicon="skills/spells/mustache32.png" bad="1" self="0">
      <secondarybuff id="6" amount="-8"/> <!-- dodge -->
      </buff>
   <description text="Rooted by facial hair! Dodging is more difficult, movement is impossible." monsterText="uses its terrifying facial hair attack!"/>
	<anim sprite="sprites/sfx/skathas_roots/skathas_roots" frames="6" centerEffect="0"/>
   </spell>

<!-- For Monstrous Mask -->
<spell name="Arctic Chill" type="target" >
	<effect type="damage" hyperborean="3" hyperboreanF="0.10" affectscaster="1" />
  <description text="freezes!" monsterText="freezes!"/>
   </spell>
  
<spell name="Arctic Swirly" type="target" icon="skills/spells/arctic_vortex32.png" >
	<requirements mp="9" savvyBonus="0.22" />
	<buff useTimer="1" time="4" self="0" allowstacking="1" icon="skills/spells/arctic_vortex64.png" smallicon="skills/spells/arctic_vortex32.png" stacksize="8" bad="1" >
		<halo name="sprites/sfx/arctic_vortex/arctic_vortex" first="0" num="6" frameRate="100" />
		<primarybuff id="2" amount="-1" /> <!-- Nimbleness -->
		<secondarybuff id="5" amount="-5" /> <!-- dodge -->
		<resistbuff hyperborean="-1" />
      </buff>
	<description monsterText="summons the cold winds of the north!" text="Summons the cold Winds Of The North to bedevil your foes and chill their flesh from the bone. Does damage over time and decreases their ability to dodge and their resistance to cold." />
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="80" sfx="magic" centerEffect="1" />
	<effect type="dot" amount="4" spell="Arctic Chill" />
</spell>

<!-- For Infernal Torus -->
<spell name="Torus Blast 1" type="template" templateID="20" >
  <effect type="damage" blasting="10" conflagratory="10" conflagratoryF="0.35" affectscaster="1" />
  <effect type="knock" self="0" amount="1" />
  <anim sprite="sprites/sfx/thermite_hit/thermite_hit" frames="8" framerate="40" sfx="blast"/>
   </spell>
<spell name="Torus Blast 2" type="template" templateID="21" >
  <effect type="damage" blasting="8" conflagratory="7" conflagratoryF="0.30" affectscaster="1" />
  <effect type="knock" self="0" amount="1" />
  <anim sprite="sprites/sfx/thermite_hit/thermite_hit" frames="8" framerate="40" sfx="blast"/>
   </spell>
<spell name="Torus Blast 3" type="template" templateID="22" >
  <effect type="damage" blasting="6" conflagratory="5" conflagratoryF="0.25" affectscaster="1" />
  <effect type="knock" self="0" amount="1" />
  <anim sprite="sprites/sfx/thermite_hit/thermite_hit" frames="8" framerate="40" sfx="blast"/>
   </spell>

<spell name="Cogito Ergo Splat" downtime="5" type="template" templateID="99" anchored="1"
       icon="skills/warrior/axemanship3_32.png" attack="1">
   <description text="Damage your opponents with the power of Latin."/>
   <effect type="damage" existential="5"/>
   <anim sprite="sprites/sfx/fleshbore/fleshbore" frames="7" firstframe="0"  sfx="magic" framerate="100" centerEffect="0"/>
   </spell>

<spell name="Corpse Reviver" type="targetcorpse" icon="skills/wizard/vampirism1_32.png" >
   <description text="Revives a monster, just to annoy the player. Bastards." monsterText="BRINGS THE DEAD BACK TO LIFE!"/>
   <effect type="resurrection"/>
   <ai hint="corpse"/>
   <anim sprite="sprites/sfx/corpus_burst/corpus_burst" frames="7" framerate="100" sfx="fleshbore" centerEffect="0"/>
   </spell>

<spell name="Aethereal Missile" type="missile" >
   <effect type="damage" affectsCaster="1" aethereal="7" aetherealF="0.10" blasting="3" />
   <anim sprite="sprites/sfx/aetherial_missile/aetherial_missile" frames="6" framerate="100" sfx="aetherial" />
   <impact sprite="sprites/sfx/impactA/impactA" frames="6" framerate="80" sfx="blast" centerEffect="0"/>
   <description text="An aethereal missile. Nothing at all like Magic Missile." monsterText="fires an aethereal missile!"/>
   </spell>

<spell name="Monstrous Rage" type="self" icon="skills/warrior/berserker0_32.png" wand="0">
   <anim sprite="sprites/sfx/rage/rage" frames="3" framerate="50" sfx="ping" />
   <buff useTimer="1" time="10" stacksize="5" icon="skills/spells/monstrous_rage64.png" smallicon="skills/spells/monstrous_rage32.png">
      <primarybuff id="0" amount="1"/> <!-- Bur -->
      <primarybuff id="3" amount="1"/> <!-- Cad -->
      <secondarybuff id="2" amount="2"/> <!-- melee -->
      <secondarybuff id="10" amount="2"/> <!-- armour -->
      </buff>
   <description text="This rage is monstrous!" monsterText="smoulders with RAGE!"/>
   <ai hint="buff"/>
   </spell>

<spell name="Diggle Flu" type="target">
	<buff useTimer="1" time="44" 
		allowstacking="0" 
		icon="skills/spells/diggle_flu64.png" 
		smallicon="skills/spells/diggle_flu32.png" 
      bad="1" >
      <primarybuff id="0" amount="-1"/> <!-- Burliness -->
      <primarybuff id="1" amount="-1"/> <!-- Sagacity -->
      <primarybuff id="2" amount="-1"/> <!-- Nimbleness -->
      <secondarybuff id="0" amount="-2"/> <!-- hp -->
   </buff>
  
	<anim sprite="sprites/sfx/corpse_hit_mini/corpse_hit_mini" frames="4" framerate="100" sfx="impact" centerEffect="0"/>
   <description text="You've caught an embarrassing and debilitating disease." monsterText="sneezes!"/>
   </spell>

  <!-- Misc Wizard buffs-->

  <!-- the following things are used by targeted things and must go AT THE TOP OF THIS FILE -->

<!-- this is a ring around the target -->
<spell name="Lightning Blast" type="template" templateID="20" >
   <effect type="damage" blasting="3" blastingF="0.1" voltaic="4" voltaicF="0.15" />
   <effect type="paralyze"  amount="3" turns="1" affectscaster="1"/>
   <anim sprite="sprites/sfx/voltaic_hit/voltaic_hit" frames="8" framerate="90" sfx="elec" />
   </spell>
<spell name="Electrical Strike" type="missile" wand="0" >
   <effect type="damage" affectsCaster="1" voltaic="4" voltaicF="0.2" blasting="2" />
   <effect type="paralyze"  amount="3" affectsCaster="1" turns="1" self="0" />
  <anim sprite="sprites/sfx/lightningstrike/lightningstrike" frames="6" framerate="60" sfx="elec" />
   <impact sprite="sprites/sfx/voltaic_hit/voltaic_hit" frames="8" framerate="80"/>
   <effect type="trigger" spell="Blast Effect A" />
   <description text="A smaller, gentler lightning strike. Indoor use only."/>
   </spell>
<spell name="Small Electrical Strike" type="target" wand="0" icon="skills/spells/magic_steel32.png" >
   <effect type="damage" affectsCaster="1" voltaic="3" voltaicF="0.2" blasting="1" />
   <effect type="paralyze"  amount="3"  affectsCaster="1" turns="1" />
   <anim sprite="sprites/sfx/lightningstrike/lightningstrike" frames="6" framerate="100" sfx="elect" />
   <effect type="trigger" spell="Blast Effect A" />
   <description text="A smaller, gentler lightning strike. Indoor use only."/>
   </spell>
<spell name="Boot to the Head" type="target" >
   <effect type="knock" amount="2" />
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="impact" />
   </spell>
<spell name="Arctic Cold" type="target" >
	<effect type="damage" hyperborean="3" hyperboreanF="0.30" affectscaster="1" /> 
   </spell>
<spell name="Tesla's Power" type="self" icon="skills/spells/zenziz32.png" wand="0">
	<anim sprite="sprites/sfx/lightningstrike/lightningstrike" frames="6" framerate="100" sfx="elec" />
	<buff useTimer="1" time="43" stacksize="3"  icon="skills/spells/tesla64.png" smallicon="skills/spells/tesla32.png">
		<primarybuff id="1" amount="3"/> <!-- Sagacity -->
		<secondarybuff id="3" amount="6"/> <!-- Magic Power -->
		<secondarybuff id="14" amount="3"/> <!-- mp regen -->
      </buff>
   <description text="The power of electricity flows through your being!" />
   </spell>
<spell name="Zalgohit1" type="target" icon="skills/spells/fleshbore32.png" >
   <effect type="damage" necromantic="2" necromanticF="0.25" />
   </spell>
<spell name="Blungecap Vampirism Attack" type="target" >
   <effect type="drain" necromantic="3" taxa="Animal" piercingF="0.25" sfx="fleshbore" />
   <effect type="drain" necromantic="3" taxa="Demon" piercingF="0.25" sfx="fleshbore" />
   <effect type="drain" necromantic="3" taxa="Other" piercingF="0.25" sfx="fleshbore" />
   <effect type="drain" necromantic="3" taxa="Animal" />
   </spell>
  
<spell name="Acidhit0" type="target" >
   <effect type="damage" acidic="2" affectsCaster="1" />
</spell>
  
<spell name="Acid Burn" type="target" icon="skills/spells/acid_burn32.png" wand="1">
	<effect type="damage" bleed="1" acidic="6" affectsCaster="1"/>
	<anim sprite="sprites/sfx/acid_burn/acid_burn" frames="7" sfx="magic" framerate="100" centerEffect="1"/>
	<buff useTimer="1" time="5" stacksize="1" allowstacking="0" self="0" icon="skills/spells/acid_burn64.png" smallicon="skills/spells/acid_burn32.png" bad="1">
		<halo name="sprites/sfx/acid_puff/acid_puff" first="0" num="6" frameRate="100"/>
		<secondarybuff id="0" amount="-4"/> <!-- hp -->
		<secondarybuff id="10" amount="-1"/> <!-- armor -->
		<resistbuff crushing="-1" slashing="-1"/>
   </buff>
   <effect type="dot" amount="5" spell="Acidhit0" />
   <description text="This powerful acid burns flesh and armour alike." />
</spell>

<!-- Vampirism Powers -->

<spell name="Vampirism Attack" type="target" >
   <effect type="drain" necromantic="1" necromanticF="0.6" secondaryScale="13" taxa="Demon" />
   <effect type="drain" necromantic="1" necromanticF="0.4"  secondaryScale="13" taxa="Other" />
   <effect type="drain" necromantic="2" necromanticF="1.0"  secondaryScale="13" taxa="Animal" />
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="fleshbore" />
   <effect type="trigger" spell="Regen Life Effect 1"/> <!-- a free point of health, for effort. -->
   </spell>
<spell name="Corpse Drain Heal" type="self" >
   <effect type="heal" amount="3" amountF="1.2"  secondaryScale="13" />
   </spell>
<spell name="Corpse Drain" downtime="4" type="targetadjacentcorpse" icon="skills/wizard/vampirism1_32.png" >
	<description text="Drains a corpse of its blood to gain (un)life. Bottoms up!" />
	<effect type="trigger" spell="Corpse Drain Heal" />
	<anim sprite="sprites/sfx/corpus_burst/corpus_burst" frames="7" framerate="100" sfx="naughty" centerEffect="0"/>
   </spell>
<spell name="Sparkly Glamour" type="self" icon="skills/wizard/vampirism2_32.png" downtime="24" >
	<effect type="trigger" spell="Sparkly Area Hit" amount="0" />
	<anim sprite="sprites/sfx/blinding_flash/blinding_flash" frames="8" framerate="60" centerEffect="0" sfx="magic_damage" />
	<description text="Dazzles your enemies, leaving them stunned by your spooky, sparkly vampire glamour.  This also saps some of their life-force. Because seriously." />
   </spell>
<spell name="Sparkly Area Hit" type="template" templateID="13" >
   <effect type="drain" righteous="1" righteousF="0.10" />
   <effect type="damage" righteous="1" righteousF="0.10" />
   <effect type="paralyze"  amount="2" turns="6" />
	 <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="magic_open" />
</spell>



  <!-- Special Bolt Effects-->

<spell name="Ignition Bolt" type="target" >
   <effect type="damage" conflagratory="3" burn="1"/>
   <anim sprite="sprites/sfx/fireburst/fireburst" frames="7" framerate="80" sfx="flame_weak"/>
   <effect type="trigger" spell="Blast Effect A" />
   </spell>

   <!-- lightning bolt! -->


<!-- Fungus Effects -->

<spell name="Plumber's Strength" type="self" >
   <anim sprite="sprites/sfx/fleshy_buff/fleshy_buff" frames="6" sfx="magic_open" framerate="100" centerEffect="1"/>
   <buff useTimer="1" time="63" stacksize="3" allowstacking="1" icon="skills/spells/plumber64.png" smallicon="skills/spells/plumber32.png">
      <primarybuff id="0" amount="3"/> <!-- Burliness -->
      </buff>
   <description text="You are imbued with the brick-smashing strength of a plumber! Plumbers hate bricks." />
   </spell>
<spell name="Lobstery Toughness" type="self" >
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="magic_open" />
   <buff brittle="5" useTimer="0" stacksize="3" allowstacking="1" icon="skills/lobster64.png" smallicon="skills/lobster32.png">
      <primarybuff id="4" amount="1" /> <!-- Stubborness -->
      <secondarybuff id="10" amount="1" /> <!-- Armour -->
      </buff>
   <description text="You are imbued with lobstery toughness from this fungus. The lobsteryness can be knocked off of you in five hits." />
   </spell>
<spell name="Regal Vim" type="self" >
   <anim sprite="sprites/sfx/fleshy_buff/fleshy_buff" frames="6" sfx="magic_open" framerate="100" centerEffect="1"/>
   <buff useTimer="0" stacksize="1" allowstacking="0" brittle="5" icon="skills/regal64.png" smallicon="skills/regal32.png">
      <secondarybuff id="0" amount="12"/> <!-- hitpoints -->
      </buff>
   <description text="You are imbued with regal vim." />
   </spell>
<spell name="Azure Magicks" type="self" >
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="magic_open" />
   <buff useTimer="1" time="63" stacksize="3" allowstacking="1" icon="skills/spells/azure_magicks64.png" smallicon="skills/spells/azure_magicks32.png">
      <primarybuff id="1" amount="5"/> <!-- Sagacity -->
      <primarybuff id="5" amount="5"/> <!-- Savvy -->
      </buff>
   <description text="You are imbued with arcane azure-hued magicks! Mages love azure." />
   </spell>
<spell name="Fell Power" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="naughty" />
	<buff useTimer="0" attacks="6" allowstacking="0" icon="skills/spells/fell_power64.png" smallicon="skills/spells/fell_power32.png">
		<halo name="sprites/sfx/zalgoA/zalgoA" first="0" num="10" frameRate="100" />
		<secondarybuff id="2" amount="1" /> <!-- melee power -->
		<secondarybuff id="4" amount="2" /> <!-- crit -->
      <damagebuff necromantic="4" putrefying="2" />
		<targetHitEffectBuff percentage="25" name="Zalgohit1" />
      </buff>
   <description text="Fell fungus has given you deadly fell powers." />
   </spell>
<spell name="Plaid Power" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="magic_open" />
	<buff useTimer="1" time="63" stacksize="3" allowstacking="1" icon="skills/spells/plaid64.png" smallicon="skills/spells/plaid32.png">
		<primarybuff id="4" amount="2"/> <!-- Stubborness -->
		<resistbuff hyperborean="3" crushing="1" conflagratory="1" slashing="1" voltaic="1" acidic="1"/>
      </buff>
   <description text="You are protected by the power of plaid, well-known as a powerful defensive sigil." />
   </spell>
<spell name="Blungecap Vampirism" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="naughty" />
	<buff useTimer="1" time="19" allowstacking="0" icon="skills/spells/blungecap_vampirism64.png" smallicon="skills/spells/blungecap_vampirism32.png">
		<targetHitEffectBuff percentage="100" name="Blungecap Vampirism Attack" />
      </buff> 
	<description text="The Greedy Blungecap gives you the ability to drain life from your enemies when you attack them." />
   </spell>
<spell name="Make Puffballs" type="self" >
	<effect type="spawn" itemname="Puffball" amount="3" />
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1"/>
   </spell>
<spell name="Toxic Spore Cloud" 
		type="targetfloor" 
		icon="skills/spells/lethian_mist32.png" 
		mineTimer="18" 
		mineUseGlints="1" 
		mineGlintDensity="8" 
		mineSpritePNGSeries="sprites/sfx/smokepuffA/smokepuffA" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="8" 
		mineSpritePNGRate="120" 
		mine="1" 
		mineradius="3" >
	<description text="Creates clouds of highly-confusing toxic spores."/>
	<effect type="confuse" amount="8" self="0" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" />
	<effect type="damage" toxic="3" affectscaster="1" />
	<anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" sfx="darkmagic" centerEffect="1"/>
   </spell>
<spell name="Mini Toxic Spore Cloud" 
      type="targetfloor" 
      icon="skills/spells/lethian_mist32.png" 
      mineTimer="6" 
      mineUseGlints="1" 
      mineGlintDensity="8"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/smokepuffA/smokepuffA" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="8" 
      mineSpritePNGRate="120" 
      mine="1" 
      mineradius="1" 
      minesMustBeUnobstructed="0" >
   <description text="Creates clouds of highly-confusing toxic spores."/>
   <effect type="confuse" amount="8" self="0" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" />
   <effect type="damage" toxic="2" affectscaster="1" />
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" sfx="darkmagic" centerEffect="1"/>
   </spell>
<spell name="Fungal Heal 0" type="self" >
   <effect type="heal" amount="1" />
   </spell>	
<spell name="Fairywodger Fungal Healing" type="self" icon="skills/skill_mushroomlore.png" >
	<effect type="heal" amount="5" />
	<effect type="dot" resistable="0" self="1" amount="6" spell="Fungal Heal 0" />
	<anim sprite="sprites/sfx/goosplatA/goosplatA" frames="4" framerate="100" sfx="magic_damage" />
	<description text="The Fairywodger heals you by way of tingling fungal power."/>
	<buff useTimer="1" time="6" allowstacking="1" icon="skills/spells/fungal_healing64.png" smallicon="skills/spells/fungal_healing32.png">
      </buff>
   </spell>
<spell name="Summon Slime" type="targetfloor" downtime="60" icon="skills/rogue/fungus1_32.png">
	<description text="By studying the lore of the Slime-herders from the Mushroom Jungles of Smome, you gain the ability to summon a fiercly loyal Slime Mold." />
	<effect type="summon" monsterType="Summon Slime" />
	<anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" framerate="100" sfx="small_spell" centerEffect="1" />  
	<effect type="trigger" spell="Toxic Spore Cloud" />
   </spell>
<spell name="Summon Mushroom Beast" type="targetfloor" downtime="90" icon="skills/rogue/fungus4_32.png">
	<description text="As the Mi-go once did (and shall again), you can summon living weapons of fungus to serve your will." />
	<effect type="summon" monsterType="Summon Mushroom-beast" />
	<anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" framerate="100" sfx="magic" centerEffect="1" />  
	<effect type="trigger" spell="Toxic Spore Cloud" />
   </spell>

  <!-- For blood magic -->

<spell name="Stolen Spirit" type="self" icon="skills/wizard/bloodmagic2_64.png">
   <buff useTimer="1" allowstacking="0"  time="10" icon="skills/wizard/bloodmagic2_64.png" smallicon="skills/wizard/bloodmagic2_32.png">
      <secondarybuff id="3" amount="2"/> <!-- spellpower -->
      <secondarybuff id="14" amount="1"/> <!-- mp regen -->
      </buff>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="portal" />
   <description text="The spirit of a slain enemy fuels your magical power for a short time."/>
   </spell>

<spell name="Stolen Soul" type="self" icon="skills/wizard/bloodmagic3_64.png">
   <buff useTimer="1" allowstacking="0" time="25" icon="skills/wizard/bloodmagic3_64.png" smallicon="skills/wizard/bloodmagic3_32.png" >
      <primarybuff id="1" amount="4"/> <!-- sagacity -->
      <secondarybuff id="14" amount="1"/> <!-- mp regen -->
      </buff>
   <description text="The stolen soul of a slain enemy enhances your arcane abilities."/>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="portal" />
   </spell>

<!-- Deadshot -->
<spell name="Bleedout Pain" type="target" >
	<effect type="damage" piercing="3" affectscaster="1"/>
   </spell>
<spell name="Bleeding Out" type="target">
	<effect type="bleed" />
	<buff useTimer="1" time="8" 
		self="0" 
		stacksize="3" 
		allowstacking="1" 
		icon="skills/bleeding_out64.png" 
		smallicon="skills/bleeding_out32.png"
      bad="1" >
	<primarybuff id="0" amount="-1"/> <!-- Burliness -->
	<secondarybuff id="0" amount="-3"/> <!-- hp -->
	</buff>
	<anim sprite="sprites/sfx/corpse_hit_mini/corpse_hit_mini" frames="4" framerate="100" sfx="impact" centerEffect="0"/>
   <description text="Сильная кровопотеря лишает сил." />
   <effect type="dot" spell="Bleedout Pain" amount="8" />
   </spell>
<spell name="Crippling Wound" type="target">
	<buff useTimer="1" time="24" 
		self="0" 
		stacksize="2" 
		allowstacking="1" 
		icon="skills/crippled64.png" 
		smallicon="skills/crippled32.png"
      bad="1" >
      <primarybuff id="0" amount="-2"/> <!-- Burliness -->
      <primarybuff id="1" amount="-1"/> <!-- Sagacity -->
      <primarybuff id="2" amount="-4"/> <!-- Nimbleness -->
      <secondarybuff id="0" amount="-3"/> <!-- hp -->
   </buff>
	<anim sprite="sprites/sfx/corpse_hit_mini/corpse_hit_mini" frames="4" framerate="100" sfx="impact" centerEffect="0"/>
   <description text="A crippling wound impairs abilities." />
   </spell>

<!-- Warrior effects -->
<!-- Berserker -->

<spell name="Berserker Rage" type="self" icon="skills/warrior/berserker0_32.png" wand="0">
	<anim sprite="sprites/sfx/rage/rage" frames="3" framerate="50" sfx="ping" />
	<buff useTimer="1" time="7" stacksize="3" icon="skills/warrior/berserker0_64.png" smallicon="skills/warrior/berserker0_32.png">
		<primarybuff id="0" amount="1"/> <!-- Bur -->
		<primarybuff id="3" amount="1"/> <!-- Cad -->
		<secondarybuff id="2" amount="1"/> <!-- melee -->
		<secondarybuff id="10" amount="1"/> <!-- armour -->
      </buff>
	<description text="Do it! Do it for Crom! (Your rage gives you extra strength and helps you ignore pain.)" />
   </spell>
<spell name="Berserker Vengeance" type="self" icon="skills/warrior/berserker1_32.png" wand="0">
	<anim sprite="sprites/sfx/rage/rage" frames="3" framerate="50" sfx="ping" />
	<buff useTimer="1" time="7" stacksize="3" icon="skills/warrior/berserker1_64.png" smallicon="skills/warrior/berserker1_32.png">
		<primarybuff id="0" amount="1"/> <!-- Bur -->
		<primarybuff id="4" amount="1"/> <!-- Stub -->
		<secondarybuff id="2" amount="1"/> <!-- melee -->
		<secondarybuff id="10" amount="2"/> <!-- armour -->
      </buff>
	<description text="Do it! Do it for Crom! (Your rage gives you extra strength and helps you ignore pain.)" />
   </spell>
<spell name="More Berserker Rage" type="self" icon="skills/skill_berserker_small.png" wand="0">
	<anim sprite="sprites/sfx/rage/rage" frames="3" framerate="50" sfx="ping" />
	<buff useTimer="1" time="7" stacksize="3" icon="skills/skill_berserker.png" smallicon="skills/skill_berserker_small.png">
		<primarybuff id="0" amount="2"/> <!-- Bur -->
		<primarybuff id="3" amount="2"/> <!-- Cad -->
		<secondarybuff id="2" amount="2"/> <!-- melee -->
		<secondarybuff id="10" amount="2"/> <!-- armour -->
      </buff>
	<description text="Do it! Do it for Crom! (Your rage gives you extra strength and helps you ignore pain.)" />
   </spell>

<!-- Armour Skills -->

<spell name="Suit Up" downtime="40" type="self" icon="skills/warrior/armourer1_32.png" wand="0">
	<buff useTimer="0" brittle="12" stacksize="1" allowstacking="0" icon="skills/warrior/armourer1_64.png" smallicon="skills/warrior/armourer1_32.png">
		<secondarybuff id="10" amount="2"/> <!-- armour -->
		<secondarybuff id="7" amount="4"/> <!-- block -->
		<secondarybuff id="13" amount="4"/> <!-- hp regen -->
	</buff>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="metal_get" />
	<description text="Если вы в доспехах, надо чтобы они и выглядели хорошо. Этот навык дает вам бонус защиты на пару-другую ударов." />
   </spell>
<spell name="Walk It Off" type="self" icon="skills/stat_con64.png" wand="0">
	<anim sprite="sprites/sfx/rage/rage" frames="3" framerate="50" sfx="ping" />
	<buff useTimer="1" time="6" stacksize="3" icon="skills/stat_con64.png" smallicon="skills/stat_con32.png">
		<primarybuff id="4" amount="2"/> <!-- Stb -->
		<secondarybuff id="13" amount="10"/> <!-- hp regen -->
      </buff>
	<description text="Это всего лишь царапина, просто забудь. Шанс увеличить регенерацию здоровья и stubborness, на короткое время, после получения удара." />
   </spell>
<spell name="It Only Makes You Stronger" type="self" icon="skills/stat_str64.png" wand="0">
	<anim sprite="sprites/sfx/rage/rage" frames="3" framerate="50" sfx="ping" />
	<buff useTimer="1" time="80" stacksize="1" icon="skills/stat_str64.png" smallicon="skills/stat_str32.png">
		<primarybuff id="0" amount="3"/> <!-- bur -->
		<secondarybuff id="0" amount="7"/> <!-- hp -->
      <resistbuff piercing="1"/>
      </buff>
	<description text="Полученные синяки, порезы и травмы сделали вас 'спецом' в этом деле. После получения удара есть шанс, что ваше здоровье, burliness и сопротивление проникающему удару временно увеличатся." />
   </spell>

<!-- Shieldbearer -->
<!--
<spell name="Duck And Cover!" type="self" icon="skills/warrior/shieldbearer1_32.png" wand="0">
	<buff time="8" stacksize="3" allowstacking="1" icon="skills/warrior/shieldbearer1_64.png" smallicon="skills/warrior/shieldbearer1_32.png">
		<secondarybuff id="10" amount="1"/> 
		<secondarybuff id="7" amount="3"/> 
		<secondarybuff id="13" amount="1"/>
	</buff>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="metal_drop" />
	<description text="Increases your defense - though only after you've been hit." />
   </spell>
-->
<spell name="Tortoise Maneuver" downtime="36" type="self" icon="skills/warrior/shieldbearer3_32.png" wand="0">
	<requirements shield="1" />
	<buff useTimer="0" brittle="9" stacksize="1" allowstacking="0" icon="skills/warrior/shieldbearer3_64.png" smallicon="skills/warrior/shieldbearer3_32.png"
		requiresShield="1">
		<primarybuff id="4" amount="2"/> <!-- Stubborness -->
		<primarybuff id="2" amount="-2"/> <!-- Nimbleness -->
		<secondarybuff id="10" amount="2"/> <!-- armour -->
		<secondarybuff id="7" amount="5"/> <!-- block -->
		<secondarybuff id="13" amount="4"/> <!-- hp regen -->
	</buff>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="metal_drop" />
	<description text="The Tortoise Maneuver is not particularly feared by anyone because it mostly involves just holding your shield over your head and cowering, but it might help you survive a little longer." />
   </spell>
<spell name="Defensive Bash" downtime="12" type="adjacent" icon="skills/warrior/shieldbearer2_32.png" wand="0">
	<requirements shield="1" />
	<!-- <effect type="paralyze"  amount="3" turns="3" oneChanceIn="2" /> -->
   <effect type="paralyze" turns="3" />
	<effect type="damage" crushing="6" crushingF="0.20" secondaryScale="7" />
   <effect type="knock" self="0" amount="1" />
   <effect type="trigger" spell="Crushed Bones" />
	<description text="Sometimes the best defense is to hit the other guy really hard on the head with your shield. Deals a large, crushing impact to an enemy, perhaps stunning them. Damage scales to Block Chance." />
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="blast" />
   </spell>
<spell name="Duck And Cover!" downtime="48" type="self" icon="skills/skill_shieldbearer_small.png" wand="0">
	<requirements shield="1" />
	<buff useTimer="1" time="24" stacksize="1" allowstacking="0" icon="skills/skill_shieldbearer.png" smallicon="skills/skill_shieldbearer_small.png">
		<primarybuff id="4" amount="2"/> <!-- Stubborness -->
		<primarybuff id="2" amount="-1"/> <!-- Nimbleness -->
		<secondarybuff id="2" amount="-1"/> <!-- melee power -->
		<secondarybuff id="10" amount="2"/> <!-- armour -->
		<secondarybuff id="7" amount="10"/> <!-- block -->
		<secondarybuff id="13" amount="4"/> <!-- hp regen -->
		<resistbuff crushing="1" piercing="2"/>
	</buff>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="metal_drop" />
	<description text="Fight smarter, not better! Can increase your defense for a while after you get hit." />
   </spell>

<!-- Dual Wield -->

<spell name="Offensive Maneuvering" type="self" icon="skills/warrior/dualwield1_32.png" wand="0">
   <buff useTimer="0" brittle="2" stacksize="1" allowstacking="0" icon="skills/warrior/dualwield1_64.png" smallicon="skills/warrior/dualwield1_32.png">
      <primarybuff id="2" amount="1"/> <!-- Nimbleness -->
      <secondarybuff id="9" amount="3"/> <!-- edr -->
      <secondarybuff id="8" amount="3"/> <!-- counter -->
      <secondarybuff id="4" amount="2"/> <!-- crit -->
   </buff>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="blades" />
   <description text="Атака всем оружием одновременно! Ваши боевые качества увеличены пока вы не получите пару ударов и не пропадет концентрация." />
   </spell>


<!-- Sword abilities -->

<spell name="Liechtenauer's Overhau" downtime="5" type="adjacent" icon="skills/warrior/swordplay1_32.png" >
	<requirements weapon="0" />
	<description text="You have a chance to strike your enemies with Teutonic Might! Hits one enemy very hard. Scales to Nimbleness."/>
	<effect type="damage" piercing="1" piercingF="0.25" bleed="1" primaryScale="0" />
	<anim sprite="sprites/sfx/fleshbore/fleshbore" frames="7" firstframe="0" sfx="fleshbore" framerate="100" centerEffect="0"/>
   </spell>
<spell name="Thibault's Trompement" downtime="9" type="template" templateID="03" anchored="1" icon="skills/warrior/swordplay2_32.png" attack="1">
   <description text="Why go around when you can attack *through* your foe? This attack strikes your enemy and anyone standing behind them. Scales to Nimbleness."/>
   <effect type="damage" slashing="2" slashingF="0.25" piercing="2" primaryScale="2" />
   <anim sprite="sprites/sfx/impact_piercing/impact_piercing" frames="3" sfx="impact" framerate="100" centerEffect="0"/>
   </spell>  
	
<!-- Axe abilities -->

<spell name="Viking Strike" downtime="7" type="adjacent" icon="skills/warrior/axemanship1_32.png" >
   <description text="Strike with the strength of your Viking ancestors!"/>
   <effect type="damage" slashing="5" />
   <effect type="bleed" />
   <effect type="trigger" spell="Blast Effect A" />
   <anim sprite="sprites/sfx/impact_piercing/impact_piercing" frames="3" sfx="impact" framerate="100" centerEffect="0"/>
   </spell>
  
<spell name="Norwegian Axenado" downtime="13" type="template" templateID="98" anchored="1" icon="skills/warrior/axemanship2_32.png" attack="1">
   <description text="Destroy all of those who dare to surround you with axe-wielding powers described in the ancient sagas! A circular area-effect attack."/>
   <effect type="damage" slashing="4" />
   <effect type="bleed" />
   <anim sprite="sprites/sfx/impact_piercing/impact_piercing" frames="3" sfx="blades" framerate="100" centerEffect="0"/>
   </spell>  
	
<!-- Mace abilities -->

<spell name="Dwarven Handshake" downtime="7" type="adjacent" icon="skills/warrior/macery1_32.png" >
   <description text="This is the art of teaching your enemy how to back off. Hits an enemy with a blast that knocks them back."/>
   <effect type="damage" blasting="4"/>
   <effect type="knock" amount="2" self="0"/>
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60"  sfx="blast" centerEffect="0"/>
   </spell>
<spell name="Ragnar's Meteor" downtime="13" type="template" templateID="89" anchored="1" icon="skills/warrior/macery2_32.png" attack="1">
	<description text="Drops a veritable meteor of crushing violence everywhere in front of you!"/>
	<effect type="damage" blasting="4" />
	<effect type="knock" amount="1" self="0"/>
	<anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60"  sfx="blast" centerEffect="0"/>
   </spell>

<!-- Staff Abilities -->

<spell name="Spirit Conduit" downtime="7" type="adjacent" icon="skills/warrior/staff-fighting1_32.png" >
	<description text="This ability channels some of your mana into an especially powerful attack that takes place partly in the aetherial realm."/>
	<effect type="damage" aethereal="3" aetherealF="0.15"/>
	<effect type="paralyze" amount="2" turns="2" /> 
	<anim sprite="sprites/sfx/summonB/summonB" frames="10" sfx="magic_damage" framerate="70" centerEffect="0"/>
	<effect type="trigger" spell="Blast Effect A" />
   </spell>
<spell name="Ki Cascade Strike" downtime="14" type="template" templateID="89" anchored="1" icon="skills/warrior/staff-fighting2_32.png" attack="1">
	<description text="Extending your reach by mysterious, secret methods developed by a cheesemonger turned gladiator, this maneuver strikes at an entire swath of enemies."/>
	<effect type="damage" aethereal="2" aetherealF="0.15" />
	<effect type="paralyze" amount="2" turns="3" />
	<anim sprite="sprites/sfx/summonB/summonB" frames="10" sfx="magic_damage" framerate="70" centerEffect="0"/>
   </spell> 
<!-- Unarmed Abilities -->
<spell name="Throwing Buffalo Technique" downtime="6" type="adjacent" icon="skills/warrior/unarmed_art1_32.png" attack="1">
   <description text="Intense training allows you to shove large herd animals with surprising power. This skill has worldly applications, to boot."/>
   <effect type="damage" crushing="2"/>
   <effect type="knock" amount="1" self="0"/>
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60"  sfx="impact" centerEffect="0"/>
   </spell>
<spell name="Gray Heron Takes Flight" downtime="12" type="template" templateID="98" anchored="1" icon="skills/warrior/unarmed_art2_32.png" attack="1">
   <description text="A gale of flesh shall blow your opponents away. Does an area-effect attack which knocks back enemies."/>
   <effect type="damage" blasting="4" />
   
   
   <effect type="knock" amount="1" self="0"/>
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60" sfx="missile" centerEffect="0"/>
   </spell> 

<!-- Jump, jump! -->

<spell name="Knightly Leap" type="knightlyleap" downtime="7" icon="skills/rogue/leap32.png">
	<description text="Jump, jump!"/>
	<effect type="teleport" skipanimation="1" />
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60" sfx="missile" centerEffect="0"/>
   </spell>

<!-- Rook Teleport -->


	<!-- end warrior spell-like abilities	-->

<!-- ### Traps! ### -->

<spell name="Crude Blade Trap Effect" type="target" >
   <effect type="damage" slashing="8" affectsCaster="1" />
   <anim sprite="sprites/sfx/blade_trap/blade_trap" frames="5" framerate="70" sfx="blade" />
   </spell>
<spell name="Rough Blade Trap Effect" type="target" >
   <effect type="damage" slashing="10" affectsCaster="1" />
   <anim sprite="sprites/sfx/blade_trap/blade_trap" frames="5" framerate="70" sfx="blade" />
   </spell>
<spell name="Blade Trap Effect" type="target" >
   <effect type="damage" slashing="18" affectsCaster="1" />
   <anim sprite="sprites/sfx/blade_trap/blade_trap" frames="5" framerate="70" sfx="blade" />
   </spell>
<spell name="Boulder Drop" type="target" >
   <effect type="damage" crushing="9" affectsCaster="1" />
   <anim sprite="sprites/sfx/boulder_drop/boulder_drop" frames="9" framerate="80" sfx="missile" />
   </spell>
<spell name="Gargoyle Arrow" type="missile" >
   <effect type="damage" piercing="4" slashing="3" affectsCaster="1" />
   <anim sprite="sprites/sfx/bigbolt_spin/bigbolt_spin" frames="4" framerate="80" sfx="missile" />
   <effect type="trigger" spell="Blast Effect A" />
   </spell>
<spell name="Gargoyle Acid Bolt" type="missile" >
   <effect type="damage" blasting="2" affectsCaster="1" />
   <anim sprite="sprites/sfx/acid_bolt/acid_bolt" frames="3" framerate="80" sfx="missile" />
   <effect type="trigger" spell="Acid Burn" />
   <effect type="trigger" spell="Weak Acid Pool" />
   </spell>
    
<spell name="Robo Bolt" type="missile" >
   <effect type="damage" affectsCaster="1" voltaic="6" blasting="2" />
   <effect type="paralyze" amount="2" affectsCaster="1" turns="1" />
   <anim sprite="sprites/sfx/lightningstrike/lightningstrike" frames="6" framerate="100" sfx="elec" />
   <impact sprite="sprites/sfx/voltaic_hit/voltaic_hit" frames="8" framerate="80" sfx="blast" />
   <effect type="trigger" spell="Blast Effect A" />
   </spell>
<spell name="Weak Acid Sprayer" type="target" >
  <effect type="trigger" spell="Weak Acid Cloud"/>
  <effect type="trigger" spell="Weak Acid Pool" />
   </spell>
<spell name="Weak Acid Cloud" 
      type="targetfloor" 
      mineTimer="6" 
      mineUseGlints="1" 
      mineGlintDensity="10"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/acid_puff/acid_puff" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="6" 
      mineSpritePNGRate="100" 
      mine="1" 
      mineradius="2"
      minePermanent="1" >
   <effect type="damage" acidic="2" affectscaster="1" />
   <anim sprite="sprites/sfx/acid_burn/acid_burn" frames="7" framerate="100" centerEffect="1" />
   </spell>
<spell name="Acid Sprayer" type="target" >
   <effect type="trigger" spell="Acid Cloud"/>
   <effect type="trigger" spell="Acid Burn" />
    </spell>
<spell name="Acid Cloud" 
		type="targetfloor" 
		mineTimer="6" 
		mineUseGlints="1" 
		mineGlintDensity="10"
      mineSpriteDrawOrder="1"
		mineSpritePNGSeries="sprites/sfx/acid_puff/acid_puff" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="6" 
		mineSpritePNGRate="100" 
		mine="1" 
		mineradius="2"
		minePermanent="1" >
	<effect type="damage" acidic="6" affectscaster="1" />
	<anim sprite="sprites/sfx/acid_burn/acid_burn" frames="7" framerate="100" centerEffect="1" />
   </spell>
<spell name="Tesla Mine Effect" type="target" >
   <effect type="damage" affectsCaster="1" voltaic="8" blasting="2" />
   <effect type="paralyze" amount="2" affectsCaster="1" turns="2" />
   <anim sprite="sprites/sfx/lightningstrike/lightningstrike" frames="6" framerate="100" sfx="elec" />
   <effect type="trigger" spell="Blast Effect A" />
   </spell>
<!-- and spawn a cannon ball? -->
<spell name="Cannon Shot" type="missile" >
   <effect type="damage" affectsCaster="1" crushing="8" blasting="3" />
   <anim sprite="items/thrown_solid_shot.png" />
   <impact sprite="sprites/sfx/impactA/impactA" frames="6" framerate="80" centerEffect="0" />
   </spell>
<spell name="Explosive Cannon Shot" type="missile" >
   <effect type="damage" affectsCaster="1" crushing="8" blasting="3" />
   <effect type="trigger" spell="Grenade Center" />
   <effect type="trigger" spell="Grenade Blast" />
   <anim sprite="items/thrown_solid_shot.png" />
   <impact sprite="sprites/sfx/impactA/impactA" frames="6" framerate="80" centerEffect="0" />
   </spell>
<spell name="Steam Burst" type="target" >
   <effect type="damage" conflagratory="2" blasting="8" affectsCaster="1" />
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" framerate="100" centerEffect="0" />
   <effect type="trigger" spell="Harmless Steam Cloud" amount="1" />
   </spell>  
<spell name="Harmless Steam Cloud" 
		type="targetfloor" 
		mineTimer="4" 
		mineUseGlints="1" 
		mineGlintDensity="10"
      mineSpriteDrawOrder="1"
		mineSpritePNGSeries="sprites/sfx/lethian_mist_mini/lethian_mist_mini" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="6" 
		mineSpritePNGRate="100" 
		mine="1" 
		mineradius="2" >
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" centerEffect="1"/>
   </spell>  
<spell name="Mage's Circle Effect" type="target" >
   <effect type="damage" aethereal="1" aetherealF="0.40" affectsCaster="1"/>
   <effect type="paralyze" turns="5" self="0"/>
   <anim sprite="sprites/sfx/energyring/energyring" frames="8" sfx="magic_damage" />
   </spell>
<spell name="Very Toxic Spore Cloud" 
		type="targetfloor" 
		icon="skills/spells/lethian_mist32.png" 
		mineTimer="16" 
		mineUseGlints="1" 
		mineGlintDensity="8"
      mineSpriteDrawOrder="1"
		mineSpritePNGSeries="sprites/sfx/smokepuffA/smokepuffA" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="8" 
		mineSpritePNGRate="120" 
		mine="1" 
		mineradius="3" >
	<description text="Creates clouds of highly-confusing toxic spores."/>
	<effect type="confuse" amount="8" self="0" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" />
	<effect type="damage" toxic="4" toxicF="0.15" asphyxiative="3" affectscaster="1" />
	<anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" sfx="darkmagic" centerEffect="1"/>
   </spell>
<spell name="Toxichit0" type="target" >
	<effect type="damage" toxic="4" affectsCaster="1" sfx="darkmagic" />
   </spell>
<spell name="Toxic Sludge" type="target" >
   <effect type="damage" bleed="1" toxic="2" toxicF="0.15" affectsCaster="1" />
   <anim sprite="sprites/sfx/goosplatA/goosplatA" frames="4" sfx="magic" framerate="100" centerEffect="1"/>
   <buff useTimer="1" time="6" stacksize="5" allowstacking="1" icon="skills/spells/acid_burn64.png" smallicon="skills/spells/acid_burn32.png" bad="1" self="0">
      <secondarybuff id="0" amount="-3"/> <!-- hp -->
      <secondarybuff id="10" amount="-1"/> <!-- armor -->
      <resistbuff toxic="-1"/>
      </buff>
   <effect type="dot" amount="5" spell="Toxichit0" />
   <description text="Horrid toxic sludge covers everything, reducing defense and life-force." />
   </spell>
<spell name="Gargoyle Ice Shard" type="missile" >
	<effect type="damage" piercing="4" slashing="2" hyperborean="8" affectsCaster="1" />
	<anim sprite="sprites/sfx/ice_shard.png" />
	<effect type="trigger" spell="Blast Effect A" />
   </spell>
<spell name="Blinding Mist Cloud" 
		type="targetfloor" 
		mineTimer="10" 
		mineUseGlints="1" 
		mineGlintDensity="10"
      mineSpriteDrawOrder="1"
		mineSpritePNGSeries="sprites/sfx/lethian_mist_mini/lethian_mist_mini" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="6" 
		mineSpritePNGRate="100" 
		mine="1"
		mineradius="2" >
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" sfx="magic" centerEffect="1"/>
   <effect type="trigger" spell="Darkened Vision" />
   <effect type="damage" asphyxiative="2" />
   </spell> 
<spell name="Darkened Vision" type="target">
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="darkmagic" />
   <buff useTimer="1" time="12"
         allowstacking="1"
         icon="skills/spells/blinding_goodness64.png"
         smallicon="skills/spells/blinding_goodness32.png"
         bad="1" self="0">
      <halo name="sprites/sfx/glintA/glintA" first="0" num="5" frameRate="100"/>
      <secondarybuff id="17" amount="-1"/> <!-- trap sight -->
      <primarybuff id="2" amount="-1"/> <!-- nim -->
      <sightbuff amount="-1" />
      </buff>
   <description text="Your vision is darkened, causing you to stumble more awkwardly through the dungeon."/>
</spell>

<spell name="Shroud of Darkness" type="target">
  <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="darkmagic" />
  <buff useTimer="1" time="15" allowstacking="1" icon="skills/spells/blinding_goodness64.png" smallicon="skills/spells/blinding_goodness32.png" bad="1" >
    <halo name="sprites/sfx/glintA/glintA" first="0" num="5" frameRate="100"/>
    <secondarybuff id="17" amount="-2"/>
    <!-- trap sight -->
    <primarybuff id="2" amount="-2"/>
    <!-- nim -->
    <sightbuff amount="-3" />
  </buff>
  <description text="For some reason, you never noticed how dark dungeons are before now."/>
</spell>

  <spell name="Brimstone Cloud" 
		type="targetfloor" 
		icon="skills/spells/conjure_miasma32.png" 
		mineTimer="14" 
		mineUseGlints="1" 
		mineGlintDensity="8"
      mineSpriteDrawOrder="1"
		mineSpritePNGSeries="sprites/sfx/skullpuffC/skullpuffC" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="10" 
		mineSpritePNGRate="100" 
		mine="1" 
		mineradius="3"
		minePermanent="1" >
	<effect type="damage" toxic="2" toxicF="0.10" asphyxiative="2" asphyxiativeF="0.10" acidic="1" conflagratory="1" affectscaster="1" />
	<anim sprite="sprites/sfx/skullpuffC/skullpuffC" frames="10" framerate="100" centerEffect="1" />
    <ai hint="mine"/>
    
   </spell>
<spell name="Strong Brimstone Cloud" 
		type="targetfloor" 
		icon="skills/spells/conjure_miasma32.png" 
		mineTimer="14" 
		mineUseGlints="1" 
		mineGlintDensity="8"
      mineSpriteDrawOrder="1"
		mineSpritePNGSeries="sprites/sfx/skullpuffC/skullpuffC" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="10" 
		mineSpritePNGRate="100" 
		mine="1" 
		mineradius="3"
		minePermanent="1" >
	<effect type="damage" toxic="4" toxicF="0.15" asphyxiative="4" asphyxiativeF="0.15" acidic="1" conflagratory="1" affectscaster="1" />
	<anim sprite="sprites/sfx/skullpuffC/skullpuffC" frames="10" framerate="100" centerEffect="1" />
   </spell>
   
<spell name="Tentacular Infestation Bolt" type="missile" icon="skills/spells/eldritch_pillar32.png" self="0" >
   <anim sprite="sprites/sfx/hex_orb/hex_orb" frames="6" framerate="100" sfx="naughty" />
   <impact sprite="sprites/sfx/curse_hit/curse_hit" frames="6" framerate="100" sfx="magic" centerEffect="1"/>
   <effect type="dot" amount="3" spell="Zalgohit1" affectsCaster="1" />
   <effect type="confuse" amount="7"/>
   <effect type="trigger" spell="Infested With Tentacles" amount="0" affectsCaster="1" />
   <effect type="trigger" spell="Thermite Center" amount="5" />
   <effect type="trigger" spell="Blast Effect A" amount="5" />
   <effect type="trigger" spell="Zalgo Blast1" amount="4" />
   <description text="This spell possesses the target with tentacular beings which do not belong in this reality; they will tear their way back to whence they came with destructive results." />
   </spell>

<spell name="Infested With Tentacles" type="target" icon="skills/spells/eldritch_pillar32.png" self="0" >
      <buff useTimer="1" time="4" stacksize="3" allowstacking="1" self="0"
        icon="skills/spells/eldritch_pillar64.png"
        smallicon="skills/spells/eldritch_pillar32.png"
        bad="1" >
      <halo name="sprites/sfx/zalgoA/zalgoA" first="0" num="10" frameRate="100" centereffect="1"/>
      <primarybuff id="2" amount="-5"/> <!-- Nimbleness -->
      </buff>
      <description text="They tickle!" />
   </spell>
<!-- 
		#### Spells! #### 
-->

<!-- Fleshsmithing : Fleshy Magic Spells -->

<spell name="Knit Tissue" type="self" icon="skills/spells/restoration32.png" >
	<requirements mp="15" savvyBonus="0.20" mincost="3" />
	<effect type="heal" amount="6" amountF="0.27" />
	<effect type="dot" self="1" amount="6" resistable="0" spell="Knitting Tissue" />
	<effect type="trigger" spell="Healing Wound" />
	<anim sprite="sprites/sfx/flesh_heal/flesh_heal" sfx="flesh_heal" frames="7" framerate="100" />
	<description text="Knit your flesh to make it whole! This is a healing spell, but be warned: casting this will temporarily weaken you as your wounds heal themselves."/>
  <ai hint="ally"/>
</spell>
  
<spell name="Healing Wound" type="self" icon="skills/spells/restoration32.png" >
	<buff useTimer="1" time="6" allowstacking="0" icon="skills/spells/restoration64.png" smallicon="skills/spells/restoration32.png">
		<halo name="sprites/sfx/blood_loop/blood_loop" num="6" frameRate="100" />
		<secondarybuff id="13" amount="2"/> <!-- hp regen -->
      <secondarybuff id="2" amount="-2"/> <!-- meleepower -->
		<primarybuff id="4" amount="3"/> <!-- stub -->
	</buff>
	<description text="Still-healing wounds leave you in a stubborn, regenerative state."/>
   </spell>

<spell name="Fleshbore" type="target" icon="skills/spells/fleshbore32.png" wand="1">
	<requirements mp="10" savvyBonus="0.18" mincost="3" />  
	<effect type="bleed"/>
	<anim sprite="sprites/sfx/fleshbore/fleshbore" frames="7" sfx="fleshbore" framerate="100" centerEffect="1"/>
	<buff useTimer="1" time="4" self="0" stacksize="5" allowstacking="1" icon="skills/spells/fleshbore64.png" smallicon="skills/spells/fleshbore32.png" bad="1" >
		<halo name="sprites/sfx/blood_loop/blood_loop" num="6" frameRate="100" />
		<primarybuff id="0" amount="-3"/> <!-- Burliness -->
		<primarybuff id="2" amount="-3"/> <!-- Nimbleness -->
      <secondarybuff id="7" amount="-20"/> <!-- block -->
		<secondarybuff id="10" amount="-2"/> <!-- armor -->
		<resistbuff crushing="-1" slashing="-1" blasting="-1"/>
  </buff>
	<effect type="dot" amount="4" spell="Fleshrun" />
	<description text="Bores the flesh of your enemies, sapping their strength and life-blood. Makes a bloody awful mess. More magic power makes the spell slightly easier to cast." />
</spell>
  
<spell name="Fleshrun" type="target" icon="skills/spells/fleshbore32.png">
	<effect type="damage" piercing="2" piercingF="0.15" slashing="2" slashingF="0.15"/>
   </spell>
<spell name="Meatshield" type="self" icon="skills/spells/meatshield32.png" wand="0">
	<requirements mp="9" savvyBonus="0.27" mincost="3" />
	<anim sprite="sprites/sfx/fleshy_buff/fleshy_buff" frames="6" sfx="magic" framerate="100" centerEffect="1"/>
	<!-- <buff manaUpkeep="6" timer="0" stacksize="1" allowstacking="0" icon="skills/spells/meatshield64.png" smallicon="skills/spells/meatshield32.png"> -->
   <buff removable="1"
         manaUpkeep="8"
         brittle="10"
         useTimer="0"
         stacksize="1"
         allowstacking="0"
         icon="skills/spells/meatshield64.png"
         smallicon="skills/spells/meatshield32.png">
		<primarybuff id="0" amount="3"/> <!-- Burliness -->
		<secondarybuff id="0" amount="10"/> <!-- hp -->
		<secondarybuff id="13" amount="3"/> <!-- hp regen -->
		<resistbuff crushing="2" blasting="1" slashing="1"/>
   <ai hint="self"/>
	</buff>
	<description text="When the flesh grows weak, grow more flesh! This spell strengthens your body and your life-force. Requires some mana upkeep. Will be torn off if you take too many hits." />
   </spell>
<spell name="Corpus Burst" type="targetcorpse" icon="skills/spells/corpus_burst32.png" wand="0">
   <description text="This spell makes corpses explode! Who doesn't like exploding corpses? ... Pretty much everyone, as it happens." />
   <requirements mp="12" savvyBonus="0.23" mincost="4" />
   <effect type="damage" blasting="20" blastingF="0.29" toxic="8" toxicF="0.16" putrefying="4" putrefyingF="0.15" />
   <effect type="trigger" spell="Corpse Blast" />
   <effect type="trigger" spell="Poison Cloud 1" />
   <anim sprite="sprites/sfx/corpus_burst/corpus_burst" frames="7" framerate="100" sfx="darkmagic" centerEffect="1"/>
   <ai hint="corpse"/>
   </spell>
<spell name="Corpse Blast" type="template" templateID="20" anchored="0">
	<effect type="damage" blasting="10" blastingF="0.22" toxic="3" toxicF="0.18" putrefying="1" putrefyingF="0.10" affectscaster="1" />
	<anim sprite="sprites/sfx/corpse_hit_mini/corpse_hit_mini" frames="4" framerate="100" sfx="blast" />
   </spell>

<spell name="Zombyfycation" type="template" templateID="98" icon="skills/spells/zombyfycation32.png" >
   <requirements mp="16" savvyBonus="0.26" mincost="6" />
   <effect type="trigger" spell="Summon Zomby" />
   <!-- turn this into a template thing to summon 3 of 'em -->
   <anim sprite="sprites/sfx/mystic_hit/mystic_hit" frames="5" framerate="60" centerEffect="0" sfx="blast" />
   <description text="Give new life to the rather recently dead - as your undead Zomby minions!" />
   </spell>

<spell name="Miasmatic Putrefaction" 
		type="targetfloor" 
		icon="skills/spells/conjure_miasma32.png" 
		mineTimer="16" 
		mineUseGlints="1" 
		mineGlintDensity="8"
      mineSpriteDrawOrder="1"
		mineSpritePNGSeries="sprites/sfx/skullpuff/skullpuff" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="10" 
		mineSpritePNGRate="140" 
		mine="1" 
		mineradius="2"
		minePermanent="1" >
	<requirements mp="28" savvyBonus="0.28" mincost="9" />
	<effect type="damage" toxic="4" toxicF="0.18" asphyxiative="4" asphyxiativeF="0.18" putrefying="2" putrefyingF="0.12" affectscaster="1" />
	<anim sprite="sprites/sfx/miasmapuffbig/miasmapuffbig" frames="6" framerate="100" centerEffect="1" sfx="magic" />
	<description text="Putrefies the flesh of the world to create clouds of noxious fumes that will cause any living being to become poisoned and choke. This spell essentially summons a cloud of toxic gas." />
   </spell>
  
<!-- Golemancy -->
<!-- redo sound -->
<spell name="Animate Blade Being" 
		type="targetfloor" 
		mine="1" 
		mineradius="1"
		mineSpritePNGSeries="sprites/sfx/whirlingblades/whirlingblades" 
		mineSpritePNGFirst="0"
      mineSpriteDrawOrder="1"
		mineSpritePNGNum="3" 
		mineSpritePNGRate="70" 
		mineTimer="96" 
		icon="skills/spells/blade_being32.png" >
	<effect type="damage" slashing="7" slashingF="0.24" affectscaster="1" />
	<!-- <effect bleed="1" /> TODO maybe replace with a very light bleed effect -->
	<requirements mp="7" savvyBonus="0.20" mincost="3" />
	<anim sprite="sprites/sfx/impact_blast/impact_blast" frames="5" framerate="80" sfx="blades" centerEffect="0" />
	<description text="Summons a small disc of whirling blades whose entire goal in life is to cut something up bad. Real bad. It's not smart enough to move on its own."/>
   </spell>

<spell name="Animate Mustache" type="targetfloor" icon="skills/spells/mustache32.png" >
   <requirements mp="30" savvyBonus="0.32" mincost="8" />
   <description text="Animates a small mustache golem to fight alongside you. (But where does the mustache come from?)" />
   <effect type="summon" monsterType="Animate Mustache" />
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" framerate="90" sfx="small_spell" centerEffect="1" />  
   </spell>

<spell name="Animate Sanguiblobby" type="targetfloor" icon="skills/spells/animate_sanguiblobby32.png">
   <requirements mp="30" savvyBonus="0.31" />
   <description text="Animates a portion of your own living blood to fight alongside you in the form of a cute little blobby. Be mindful that this spell will sap your strength and life-force for a short time." />
   <effect type="summon" monsterType="Animate Blood" />
   <anim sprite="sprites/sfx/summon_blood/summon_blood" frames="9" framerate="100" sfx="small_spell" centerEffect="1" />  
   <effect type="trigger" spell="Summoning-related Blood Loss" />
   </spell>
<spell name="Summoning-related Blood Loss" type="self">
	<buff useTimer="1" time="22" allowstacking="1" icon="skills/spells/fleshbore64.png" smallicon="skills/spells/fleshbore32.png" bad="1">
		<primarybuff id="0" amount="-1"/> <!-- Burliness -->
		<secondarybuff id="0" amount="-5"/> <!-- hp -->
		<secondarybuff id="13" amount="-1"/> <!-- hp regen -->
      </buff>
	<description text="Using a large amount of blood in a recent summoning spell has left you in a weakened state."/>
   </spell>
  
<spell name="Unliving Wall" type="targetfloor"  icon="skills/spells/summon_wall32.png" wand="1">
	<anim sprite="sprites/sfx/magic_wall/magic_wall" sync="1" frames="11" framerate="80" sfx="earth" centerEffect="0"/>
	<effect type="damage" crushing="6" crushingF="0.25" blasting="2" self="0"/>
	<effect type="knock" amount="1"/>
	<effect type="create" turns="48" objectSprite="dungeon/summoned_wall.png" self="0"/>
	<requirements mp="10" savvyBonus="0.32" mincost="3" />
	<description text="First concocted by the Mad Architect Montresor, this spell grows a wall from the floor, crushing and moving any who stand in the spot. Delightfully unnatural."/>
   </spell>
    
  <!-- need friendly petrolblobby in monDB -->
  <!-- need connection between magpow and summon level??? -->
  <!-- does oil effect work? -->
  
<spell name="Animate Petroleum" type="targetfloor" icon="skills/spells/animate_petroleum32.png" >
   <requirements mp="30" savvyBonus="0.27"/>
   <description text="This spells gives ablife to a blob of petroleum. Be mindful of using this spell around open flame..."/>
   <effect type="summon" monsterType="Animated Oil"/>
   <anim sprite="sprites/sfx/summon_oil/summon_oil" frames="9" framerate="100" sfx="magic" centerEffect="1"/>
   <effect type="oil" /> <!-- trigger oil splash? -->
</spell>
  
<spell name="Invive Thaumite Swarm" 
		type="targetfloor" 
		icon="skills/spells/thaumite_swarm32.png" 
		mineTimer="32" 
		mineSpritePNGSeries="sprites/sfx/thaumites/thaumites" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="4" 
		mineSpritePNGRate="100" 
		mine="1"
      mineSpriteDrawOrder="1"
		mineradius="1" minesMustBeUnobstructed="0">
	<description text="Instills a cloud of thaumaturgons with a crude semblance of life and a terrible voracious fecundity. Let's break it down: Puts a cloud of hungry magic particles on a tile which are just jumping to infect and consume un/living beings."/>
	<effect type="confuse" self="0" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1"  />
	<anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" sfx="small_spell" centerEffect="1"/>
	<effect type="trigger" spell="Thaumite Infection" />
   <ai hint="mine" />
   </spell>
<spell name="Thaumite Infection" type="target" icon="skills/spells/thaumite_swarm32.png" wand="1" >
	<requirements mp="21" savvyBonus="0.30" mincost="8" />
	<effect type="damage" putrefying="3" putrefyingF="0.18" affectsCaster="1" />
	<description text="A cloud of thaumaturgons comes alive and consumes beings it touches with thoughtless voracity."/>
	<anim sprite="sprites/sfx/miasmapuffbig/miasmapuffbig" frames="6" framerate="100" sfx="small_spell" centerEffect="1"/>
	<buff useTimer="1" time="8" self="0" allowstacking="0" icon="skills/spells/thaumite_swarm64.png" smallicon="skills/spells/thaumite_swarm32.png" bad="1" >
		<halo name="sprites/sfx/thaumites/thaumites" framerate="100" first="0" num="4" />
		<secondarybuff id="13" amount="-10" /> <!-- hp regen -->
		<secondarybuff id="0" amount="-2" /> <!-- hp -->
      </buff>
	<effect type="dot" spell="Thaumite Consumption" amount="7" affectsCaster="1" requirebuff="1" />
	<effect type="trigger" amount="8" spell="Invive Thaumite Swarm" requirebuff="1" />
   </spell>	
<spell name="Thaumite Consumption" type="target" >
	<effect type="damage" putrefying="4" putrefyingF="0.21" affectsCaster="1"/>
   </spell>
<spell name="Invive Lethian Mist" 
		type="targetfloor" 
		icon="skills/spells/lethian_mist32.png" 
		mineTimer="22" 
		mineUseGlints="1" 
		mineGlintDensity="8" 
		mineSpritePNGSeries="sprites/sfx/smokepuffA/smokepuffA" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="8" 
		mineSpritePNGRate="150" 
		mine="1"
      mineSpriteDrawOrder="1"
		mineradius="3" wand="1">
	<requirements mp="20" savvyBonus="0.30" />
	<effect type="confuse" self="0" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" />
	<anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" sfx="magic" centerEffect="1"/>
   <description text="The Lethian Mist spell was created by the little known mage Trog the Younger, after watching Trog the Elder succumb to senile dementia. Use it to confuse your foes for a quick getaway!"/>
   </spell>
<spell name="Grant Machine Mortality" type="targetfloor" icon="skills/spells/animate_robot32.png" >
   <requirements mp="50" savvyBonus="0.25" mincost="10"/>
   <description text="It lives! Gives live to a Robo to defend you, to hold you, to kill for you."/>
   <effect type="summon" monsterType="Mortal Machine"/>
   <anim sprite="sprites/sfx/mechanical_buff/mechanical_buff" frames="8" framerate="100" sfx="magic_damage" centerEffect="1"/>
   </spell>

<!-- Digging Ray goes here. Unless we stick it in some other school. -->
<spell name="Digging Ray" type="diggingbeam" icon="skills/spells/digging_ray32.png" >
   <requirements mp="60" savvyBonus="0.55" mincost="10"/>
   <description text="What was once formed, can be unformed." />
   <effect type="dig"/>
   <anim sprite="sprites/sfx/digging_ray_hit/digging_ray_hit" frames="9" framerate="90" sync="1" sfx="magic" centerEffect="1"/>
   </spell>
 
<!-- Mathemagic -->
<!-- What in the name of Krong is going on with this spell! -->
<spell name="Froda's Jump Discontinuity" type="self" icon="skills/spells/blink32.png" wand="1" >
   <requirements mp="4" savvyBonus="0.15" mincost="2"/>
   <effect type="blink" self="1"/>  
   <anim sprite="sprites/sfx/energyring/energyring" frames="8" framerate="50" sfx="teleport" centerEffect="1"/>
   <!-- blinks: note that an animation is also built into player sprite -->
   <description text="This prototype teleportation spell was developed by Froda as part of a wizarding thesis project, 'A Study of Extra-planar Momentum in the 200 GeV Thaumaturgen Collision Range'. Its effects are considered unstable."/>
   <ai hint="self"/>
   </spell>
  
<spell name="Beklam's Diminuating Calculus" type="target" icon="skills/spells/weakness32.png" wand="1" >
	<requirements mp="9" savvyBonus="0.15" mincost="4" />
	<effect type="damage" necromantic="1" necromanticF="0.32" transmutative="1" transmutativeF="0.1" />
	<anim sprite="sprites/sfx/weakness_hit/weakness_hit" frames="11" framerate="70" sfx="weakness" centerEffect="1"/>
	<buff
      useTimer="1"
      time="10"
      self="0"
      stacksize="10"
      allowstacking="1"
      icon="skills/spells/weakness64.png"
      smallicon="skills/spells/weakness32.png"
      bad="1">
      
		<halo name="sprites/sfx/weakness_loop/weakness_loop" first="0" framerate="70" num="7" />
		<primarybuff id="0" amount="-3"/> <!-- Burliness -->
		<primarybuff id="2" amount="-1"/> <!-- Nimbleness -->
      <secondarybuff id="2" amount="-2"/> <!-- melee power -->
      <secondarybuff id="0" amount="-3"/> <!-- life -->
      </buff>
   <description text="Can you subtract life itself? The Great Beklam discovered a way, much to his undoing. Curses an enemy, depleting their strength, agility, and life-force itself."/>
   </spell>	
		
  <!-- a nice glinting field effect would be quite appropriate for this spell -->
<spell name="Curse of the Golden Ratio" type="target"  icon="skills/spells/curse_of_midas32.png">
	<requirements mp="24" savvyBonus="0.15" mincost="10"/>
	<effect type="dot" spell="Midas" amount="6" />
	<description text="The curse of the Golden ratio was first used by the great Mathemagician Xeuclid to convert the flesh of his enemies into useful, useful gold. You just have to keep poking to be sure it takes."/>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="100" sfx="ping" centerEffect="1"/>   
   </spell>

<spell name="Midas" type="target" >
	<anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="100" sfx="item_purchased" centerEffect="1"/>
	<effect type="damage" transmutative="4" transmutativeF="0.15" midas="1" affectsCaster="1" />
   </spell>

<spell name="Mega Midas" type="target" >
	<anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="100" sfx="item_purchased" centerEffect="1"/>
	<effect type="damage" transmutative="9" transmutativeF="0.25" midas="1" affectsCaster="1" />
   </spell>

<spell name="Zenzizenzizenzic" type="self" icon="skills/spells/zenziz32.png" wand="0">
	<requirements mp="40" savvyBonus="0.7" />
	<anim sprite="sprites/sfx/evil_pact/evil_pact" frames="16" sfx="zenziz" framerate="80" centerEffect="1"/>
	<buff useTimer="1" removable="1" time="42" manaUpkeep="5" stacksize="3" icon="skills/spells/zenziz64.png" smallicon="skills/spells/zenziz32.png">
		<primarybuff id="1" amount="2"/> <!-- Sagacity -->
		<secondarybuff id="3" amount="3"/> <!-- Magic Power -->
		<secondarybuff id="14" amount="1"/> <!-- mp regen -->
      </buff>
	<description text="The enhancement of one's own magical power is simply a function of correctly applying magical power. This effect can be combined with itself only three times, though we have top men working on breaking the fourth wall. It runs out after a time and drains your mana slightly." />
   </spell>
<spell name="Xeuclid's Translation" type="targetemptyfloor" icon="skills/spells/zephyric_transport32.png">
	<requirements mp="20" savvyBonus="0.35" mincost="8" />
	<description text="A more refined (read: accurate) but more costly version of the Jump Discontinuity. We are assured that flesh-eating teleportation worms do not really exist."/>
	<effect type="teleport"/>
	<anim sprite="sprites/sfx/energyring/energyring" frames="8" framerate="50" sfx="teleport" centerEffect="1"/>
   </spell>
<spell name="The Recursive Curse" type="target" icon="skills/spells/recursive_curse32.png" wand="1" >
	<requirements mp="40" savvyBonus="0.55" mincost="6" />
	<effect type="damage" transmutative="5" transmutativeF="0.30" existential="3" existentialF="0.27"/>
	<anim sprite="sprites/sfx/curse_hit/curse_hit" frames="6" framerate="100" sfx="magic_damage" centerEffect="1"/>
	<buff useTimer="1" time="10" 
			self="0" 
			allowstacking="0" 
			icon="skills/spells/recursive_curse64.png" 
			smallicon="skills/spells/recursive_curse32.png"
         bad="1" >
		<halo name="sprites/sfx/hex_orb/hex_orb" framerate="70" first="0" num="6" />
		<primarybuff id="3" amount="-1"/> <!-- Caddishness -->
		<primarybuff id="4" amount="-1"/> <!-- Stubborness -->
		<primarybuff id="5" amount="-1"/> <!-- Savvy -->
	</buff>
	<effect type="dot" amount="10" spell="Recurse Hit" requirebuff="1" />
	<effect type="dot" amount="6" spell="Mini Recursive Curse" requirebuff="1" />
	<description text="This is the Curse that keeps on Cursing!" />
   </spell>
<spell name="Mini Recursive Curse" type="target">
	<buff useTimer="1" time="10" 
		self="0" 
		stacksize="10" 
		allowstacking="1" 
		icon="skills/spells/recursive_curse64.png" 
		smallicon="skills/spells/recursive_curse32.png"
      bad="1" >
      <primarybuff id="0" amount="-1"/> <!-- Burliness -->
      <primarybuff id="1" amount="-1"/> <!-- Sagacity -->
      <primarybuff id="2" amount="-1"/> <!-- Nimbleness -->
      <secondarybuff id="0" amount="-1"/> <!-- hp -->
      </buff>
	<anim sprite="sprites/sfx/curse_hit/curse_hit" frames="6" framerate="100" sfx="magic_damage" centerEffect="1"/>
   </spell>
<spell name="Recurse Hit" type="target" icon="skills/spells/fleshbore32.png">
   <effect type="damage" transmutative="4" transmutativeF="0.4"/>
   </spell>	
	
<!-- Psionics -->

<spell name="Narcosomatic Induction" type="missile" icon="skills/spells/sleep32.png" >
   <effect type="damage" asphyxiative="2" asphyxiativeF="0.2" />
   <effect type="sleep" />
   <requirements mp="5" savvyBonus="0.15" mincost="2" />
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="induction" />
   <description text="Sleep, now. Sends an enemy into relatively blissful slumber with a painful blast of tiredness." />
   </spell>
<spell name="Psychokinetic Shove" type="template" templateID="11" anchored="0" icon="skills/spells/psychokinetic_shove32.png" wand="1">
	<requirements mp="5" savvyBonus="0.20" mincost="1" />
   <effect type="paralyze" turns="1" self="0" /> <!-- works? -->
	<effect type="damage" blasting="2" blastingF="0.15" />
	<effect type="knock" amount="3" />
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="psychic_shove" />
	<description text="Shove, now. Pushes enemies (and other things) around."/>
   </spell>
<!-- needs a WHOM sound -->
<spell name="Crystal Healing" type="targetfloor" mine="1" mineradius="2" mineSpriteDrawOrder="0" minesprite="dungeon/healing_crystals.png" icon="skills/spells/crystal_healing32.png">
   <requirements mp="14" savvyBonus="0.30" mincost="3" />
   <effect type="heal" amount="4" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="choir" />
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="choir" centerEffect="0"/>
   <description text="Lays magic crystals on the floor which release healing magic when they're stepped on. Ooooh."/>
   <ai hint="ally"/>
   </spell>
   <!-- Additional shimmering effect would not be out of place. -->
<spell name="Pyrokinesis" type="target" icon="skills/spells/pyrokinesis32.png" wand="1" >
	<requirements mp="10" savvyBonus="0.3" mincost="5" />
	<effect type="damage" conflagratory="3" conflagratoryF="0.75" affectscaster="1" sfx="magic_close"/>
	<anim sprite="sprites/sfx/fireburst/fireburst" frames="7" sfx="flame" framerate="90"  centerEffect="0" />    
	<description text="You're a firestarter, a terrific firestarter. Blasts the target with prodigious fire." />
   <effect type="trigger" spell="Fire 1" />
   </spell>

<spell name="Nerve Staple" type="target" icon="skills/spells/nerve_staple32.png" >
   <requirements mp="14" savvyBonus="0.25" mincost="3" />
   <effect type="damage" existential="9" existentialF="0.45" />
   <effect type="paralyze" turns="3" self="0" />
   <anim sprite="sprites/sfx/rage/rage" frames="3" framerate="50" sfx="disintegrate" />  
   <buff useTimer="1" time="20" stacksize="3" self="0" bad="1" icon="skills/spells/nerve_staple64.png" smallicon="skills/spells/nerve_staple32.png">
      <primarybuff id="1" amount="-3"/> <!-- Sag -->
      <primarybuff id="3" amount="-3"/> <!-- cad -->
      <primarybuff id="4" amount="-3"/> <!-- stu -->
      <primarybuff id="5" amount="-3"/> <!-- sav -->
      <secondarybuff id="11" amount="-10"/> <!-- resist -->
      <resistbuff existential="20" />
      </buff>
   <description text="Deals crippling existential damage to one being. Indiscreet use of this spell may provoke economic sanctions." />
   </spell>

<spell name="Unconscious Precognition" type="self" icon="skills/spells/unconscious_precognition32.png" wand="0">
	<requirements mp="12" savvyBonus="0.32" mincost="3" />
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="psychic" centerEffect="1"/>
	<buff useTimer="0" stacksize="1" icon="skills/spells/unconscious_precognition64.png" brittle="1"  smallicon="skills/spells/unconscious_precognition32.png">
		<primarybuff id="2" amount="5"/> <!-- Nimbleness -->
		<secondarybuff id="8" amount="5"/> <!-- Counter -->
		<secondarybuff id="9" amount="10"/>  <!-- EDR -->
	</buff>
	<description text="You move like they do. Your agility is greatly enhanced - until you get hit, and sense gets knocked back into you." />
   </spell>
<spell name="Unconditional Love" type="target" icon="skills/spells/unconditional_love32.png" >
	<requirements mp="32" savvyBonus="0.48" />
	<effect type="charm" turns="24"/>
	<description text="Magically charms a monster into giving up their evil ways to become your buddy ... for a short time. Then they just stab you in the back again." />
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="choir"/>
   </spell>
	
<!-- Necronomiconomics -->
<!-- Self curses first -->

<spell name="Blood Debt" type="self" >
	<anim sprite="sprites/sfx/black_ritual/black_ritual" frames="10" framerate="100" centerEffect="1" sfx="darkmagic" />
	<buff useTimer="1" allowstacking="1" stacksize="10" time="6" icon="skills/spells/curse64.png" smallicon="skills/spells/curse32.png" bad="1" >
		<secondarybuff id="13" amount="-2" />
	</buff>
	<effect type="dot" spell="Necropain" amount="7" self="1"/>
	<description text="You are repaying debt with blood." />
   </spell>

<spell name="Lingering Weakness" type="self" >
	<anim sprite="sprites/sfx/black_ritual/black_ritual" frames="10" framerate="100" centerEffect="1" />
	<buff useTimer="1" allowstacking="1" stacksize="20" time="93" icon="skills/spells/lifedrained64.png" smallicon="skills/spells/lifedrained32.png" bad="1" >
		<secondarybuff id="0" amount="-1" />
	</buff>
	<description text="A lingering weakness saps your life-force due to contact with dark magicks." />
   </spell>
<spell name="Lingering Dullness" type="self" >
	<anim sprite="sprites/sfx/black_ritual/black_ritual" frames="10" framerate="100" centerEffect="1" />
	<buff useTimer="1" allowstacking="1" stacksize="20" time="73" icon="skills/spells/magicdrained64.png" smallicon="skills/spells/magicdrained32.png" bad="1" >
		<secondarybuff id="1" amount="-2" />
      <secondarybuff id="3" amount="-1" />
	</buff>
	<description text="A dullness afflicts your mind due to contact with dark magicks." />
   </spell>

<!--
<spell name="Cursed Weakness" type="self" >
	<anim sprite="sprites/sfx/black_ritual/black_ritual" frames="10" framerate="100" centerEffect="1" />
	<buff useTimer="1" allowstacking="1" stacksize="20" time="93" icon="skills/spells/lifedrained64.png" smallicon="skills/spells/lifedrained32.png" bad="1" >
		<secondarybuff id="0" amount="-1" />
	</buff>
	<description text="A lingering weakness saps your life-force due to contact with dark magicks." />
   </spell>
<spell name="Cursed Dullness" type="self" >
	<anim sprite="sprites/sfx/black_ritual/black_ritual" frames="10" framerate="100" centerEffect="1" />
	<buff useTimer="1" allowstacking="1" stacksize="20" time="73" icon="skills/spells/magicdrained64.png" smallicon="skills/spells/magicdrained32.png" bad="1" >
		<secondarybuff id="1" amount="-2" />
      <secondarybuff id="3" amount="-1" />
	</buff>
	<description text="A dullness afflicts your mind due to contact with dark magicks." />
   </spell>
-->
<spell name="Necropain" type="self" >
	<effect type="damage" necromantic="1" necromanticF="0.1" self="1" affectscaster="1"/>
   </spell>
<spell name="More Necropain" type="self" >
	<effect type="damage" necromantic="3" necromanticF="0.2" self="1" affectscaster="1"/>
   </spell>
<spell name="Minor Blood Debt" type="self" >
	<anim sprite="sprites/sfx/black_ritual/black_ritual" frames="10" framerate="100" centerEffect="1" sfx="darkmagic" />
   <buff useTimer="1" allowstacking="1" stacksize="10" time="6" icon="skills/spells/curse64.png" smallicon="skills/spells/curse32.png" bad="1" >
      <secondarybuff id="13" amount="-1" />
      </buff>
   <effect type="dot" spell="Necropain" amount="5" self="1" />
   <description text="You are repaying debt with blood." />
   </spell>
<spell name="Curse of Weakness" type="self" >
   <anim sprite="sprites/sfx/evil_pact/evil_pact" frames="16" framerate="80" centerEffect="1" sfx="darkmagic" />
   <buff useTimer="1" allowstacking="1" stacksize="10" time="13" icon="skills/wizard/spell_black6_64.png" smallicon="skills/wizard/spell_black6_32.png" bad="1" >
      <primarybuff id="0" amount="-1" /> <!-- burliness -->
      <secondarybuff id="0" amount="-2" /> <!-- hp -->
      <secondarybuff id="2" amount="-2" /> <!-- meleepower -->
      <secondarybuff id="13" amount="-2" /> <!-- hp regen -->
      </buff>
   <description text="You are repaying your debt with the strength of your flesh." />
   <effect type="dot" spell="Necropain" amount="2" />
   </spell>
<spell name="Soul Price" type="self" >
	<anim sprite="sprites/sfx/black_ritual/black_ritual" frames="10" framerate="100" centerEffect="1" sfx="darkmagic" />
	<buff useTimer="1" allowstacking="1" stacksize="10" time="6" icon="skills/spells/curse64.png" smallicon="skills/spells/curse32.png" bad="1" >
		<secondarybuff id="14" amount="-1" /> <!-- regen -->
      <resistbuff necromantic="-1" />
      </buff>
	<effect type="dot" spell="Necrodrain" amount="6" />
	<description text="You are repaying your debt with your spirit." />
   </spell>
<spell name="Necrodrain" type="self" >
	<effect type="drainMana" amount="13" self="1" affectscaster="1" /> <!-- drain 13% of mana -->
   </spell>
<spell name="Curse of the Mind" type="self" >
   <anim sprite="sprites/sfx/evil_pact/evil_pact" frames="16" framerate="80" centerEffect="1" sfx="darkmagic" />
   <buff allowstacking="1" useTimer="1" stacksize="10" time="13" icon="skills/wizard/spell_black4_64.png" smallicon="skills/wizard/spell_black4_32.png" bad="1" >
      <primarybuff id="1" amount="-1"/> <!-- sagacity -->
      <secondarybuff id="3" amount="-2"/> <!-- spellpower -->
      <secondarybuff id="14" amount="-2"/> <!-- mp regen -->
      <resistbuff necromantic="-1" />
      </buff>
   <description text="You are repaying your debt with the power of your mind." />
   </spell>


  <!-- Start actual spells -->

<spell name="Deathly Hex" type="missile" icon="skills/spells/deathly_hex32.png" wand="0">
	<requirements mp="6" savvyBonus="0.30" mincost="2" />
   <effect type="drain" necromanticF="0.3" sfx="fleshbore" />
	<effect type="damage" necromantic="6" necromanticF="0.1" affectscaster="1"/>
	<description text="Blast your enemies to necromantic ablution with the Bolt of Evil. Be careful, though - use of this spell curses the caster with Nerve-Searing, Pain-Wracking Death-Thingies."/>
	<anim sprite="sprites/sfx/hex_orb/hex_orb" frames="6" framerate="100" sfx="hex_missile" />
	<impact sprite="sprites/sfx/curse_loop/curse_loop" frames="7" framerate="100" sfx="magic_damage" />
	<effect type="trigger" amount="3" spell="Minor Blood Debt" />
	<effect type="trigger" spell="Blast Effect A" />
	<effect type="trigger" amount="2" spell="Lingering Weakness" />
   </spell>
<spell name="Nightmare Curse" type="target" icon="skills/spells/nightmare_curse32.png" wand="1" >
	<requirements mp="13" savvyBonus="0.28" mincost="5" />
	<effect type="damage" necromantic="1" necromanticF="0.15" />
	<description text="The dreaded Shobastian Nightmare Curse causes your enemies to fall into a blissful slumber. Meanwhile, their brains are beset by Eldritch Things who cunningly replace their internal thinkmeats with the Bees of Evil. Caution: exposure to Bees of Evil may prove to have toxic side effects to the caster."/>
	<anim sprite="sprites/sfx/curse_hit/curse_hit" frames="6" framerate="100" sfx="naughty" centerEffect="1"/>
	<buff useTimer="1" time="8" self="0" stacksize="1" allowstacking="0" icon="skills/spells/nightmare_curse64.png" smallicon="skills/spells/nightmare_curse32.png" bad="1" >
		<halo name="sprites/sfx/curse_loop/curse_loop" framerate="80" first="0" num="7" />
		<primarybuff id="0" amount="-3" /> <!-- Burliness -->
		<primarybuff id="2" amount="-3" /> <!-- Nimbleness -->
		<secondarybuff id="0" amount="-3" /> <!-- hp -->
      </buff>
	<effect type="dot"  affectsCorpses="0" spell="Nightmare" amount="8"/>
	<effect type="trigger" amount="5" spell="Curse of the Mind" />
	<effect type="trigger" amount="7" spell="Soul Price" />
   <effect type="trigger" amount="2" spell="Lingering Dullness" />
   </spell>

<spell name="Nightmare" type="target" >
  <anim sprite="sprites/sfx/curse_hit/curse_hit" frames="6" framerate="100" sfx="naughty" centerEffect="1"/>
   <effect type="damage" asphyxiative="3" asphyxiativeF="0.15" affectsCaster="1" />
   <effect type="sleep" />
   </spell>

  <spell name="Mark of Chthon" type="self" icon="skills/spells/mark_of_chthon32.png" wand="0">   
	<requirements mp="15" savvyBonus="0.29" mincost="5" />    
	<!-- buff: if you want this spell to add a buff, it goes in here. 
	time - how many turns does this spell do its thing? 
	stacksize - how many times can I stack this spell on myself?
	icon - the buff icon. (use the 64x64 ones)
	-->
	<buff useTimer="0" removable="1" manaUpkeep="4" stackable="0" icon="skills/spells/mark_of_chthon64.png" smallicon="skills/spells/mark_of_chthon32.png">
		<!-- as in the potions, and armour system. this should all now hopefully be consistent -->
		<secondarybuff id="2" amount="2"/> <!-- melee -->
		<damagebuff necromantic="2"/>
		<resistbuff necromantic="1" crushing="2" piercing="2" slashing="2" righteous="-5"/>
		<halo name="sprites/sfx/curse_loop/curse_loop" first="0" num="7" frameRate="100"/>
		<targetHitEffectBuff percentage="42" name="Nightmare" after="1"/>
  </buff> 
	<!-- anim: indicates the spell effect that is used. (this thing is context-sensitive, and is overloaded to poop.) 
		sprite - the sprite directory
		frames - the # of frames, starting at zero (so since mark of chthon has frames from 0 to 17, we have 18 frames total
		sfx - which spell effect noise is used? (there is a list, it's in the source code, I will grudgingly move it out...
		centereffect - is this effect centered on the source tile?      
	-->
	<anim sprite="sprites/sfx/mark_of_chthon/mark_of_chthon" frames="18" sfx="earth" framerate="90" centerEffect="1"/> 
	<effect type="trigger" amount="27" spell="Curse of Weakness" />
	<effect type="trigger" amount="33" spell="Minor Blood Debt" />
	<effect type="trigger" amount="10" spell="Lingering Weakness" />
	<description text="Using this spell you may wear Chthon's Mark (which makes men mightier than mortals, and allows your attacks to send enemies into terrible nightmare realms). Requires mana to upkeep. Beware the cost to your humanity, of course." />
   </spell>
	
	<!-- todo: needs health regen, dot self, etc. -->
   
<spell name="Pact Lifesteal" type="target" >
   <anim sprite="sprites/sfx/bloodmagic/bloodmagic" frames="6" framerate="90" sfx="darkmagic" centerEffect="1"/>
   <effect type="drain" necromantic="1" necromanticF="0.65" sfx="darkmagic" />
   </spell>
<spell name="Pact of Fleeting Life" type="self" icon="skills/spells/fleeting_life32.png" wand="0">   
	<requirements mp="11" savvyBonus="0.27" mincost="4" />    
	<buff useTimer="1" time="32" stacksize="1" icon="skills/spells/fleeting_life64.png" smallicon="skills/spells/fleeting_life32.png" >
		<primarybuff id="0" amount="3"/> <!-- Burliness -->
		<secondarybuff id="0" amount="13" /> <!-- hp -->
		<targetHitEffectBuff percentage="90" name="Pact Lifesteal" />
	</buff> 
	<anim sprite="sprites/sfx/curse_hit/curse_hit" frames="6" sfx="naughty" framerate="100" centerEffect="1"/>
	<description text="In exchange for the power to steal the life-force of your enemies, you promise to give some of your life to some elder being. This bartering is not for the faint of heart."/>
	<effect type="dot" spell="Necropain" amount="15"/>
	<effect type="trigger" spell="Curse of Weakness" amount="17" />
   </spell>

	<!-- Eldritch Pillar goes here. Who the hell knows how this works. -->
<spell name="Zalgo Blast1" type="template" templateID="12" >
   <effect type="damage" necromantic="2" necromanticF="0.55" affectscaster="1" />
   <anim sprite="sprites/sfx/corpse_hit_mini/corpse_hit_mini" frames="4" framerate="100" centereffect="1" sfx="blast" />
   </spell>
<spell name="Zalgo1" type="target" >
	<anim sprite="sprites/sfx/corpus_burst/corpus_burst" frames="7" framerate="100" sfx="darkmagic" centerEffect="1"/>
	<effect type="paralyze" amount="3" turns="1" />
	<effect type="bleed" />
	<effect type="trigger" spell="Corpse Blast" amount="2" />
	<effect type="trigger" spell="Nightmare" amount="3" />
   </spell>


<spell name="Eldritch Inhabitation" type="target" icon="skills/spells/eldritch_pillar32.png" >
	<requirements mp="24" savvyBonus="0.25" mincost="4" />  
	<effect type="bleed"/>
	<anim sprite="sprites/sfx/black_ritual/black_ritual" frames="10" framerate="100" centerEffect="1" sfx="darkmagic" />
	<buff useTimer="1" time="4" self="0" stacksize="3" allowstacking="1" icon="skills/spells/eldritch_pillar64.png" smallicon="skills/spells/eldritch_pillar32.png" bad="1" >
		<halo name="sprites/sfx/zalgoA/zalgoA" first="0" num="10" frameRate="100" centereffect="1"/>
		<primarybuff id="2" amount="-5"/> <!-- Nimbleness -->
      </buff>
	<effect type="dot" amount="3" spell="Zalgohit1" affectsCaster="1" />
	<effect type="confuse" amount="7"/>
	<effect type="trigger" spell="Thermite Center" amount="5" />
	<effect type="trigger" spell="Blast Effect A" />
	<effect type="trigger" spell="Zalgo Blast1" amount="4" />
	<effect type="trigger" amount="3" spell="Curse of the Mind" />
	<effect type="trigger" amount="1" spell="Necromantic Blinding" />
	<effect type="trigger" amount="2" spell="Lingering Weakness" />
   <effect type="trigger" amount="5" spell="Fleshbore" />
	<description text="This spell possesses the targeted being with an entity not of this reality; said entity will proceed to tear its way back to whence it came however it can, with destructive effect." />
   </spell>

<spell name="Tenebrous Rift" type="targetfloor" icon="skills/spells/tenebrous_rift32.png" >
   <effect type="damage" necromantic="5" necromanticF="0.50" self="0" />
   <effect type="rift" amount="9" />
   <requirements mp="35" savvyBonus="0.20" mincost="15" />
   <anim sprite="sprites/sfx/black_ritual/black_ritual" frames="10" framerate="100" centerEffect="1" sfx="portal" />
   <description text="Opens a fearful un-rift into abwhere. Oh, the horror. The Horror." />
   <effect type="trigger" spell="Tentacular Doom"/>
   <effect type="trigger" spell="Zalgo Blast1" />
   <effect type="trigger" amount="1" spell="Blood Debt" />
   <effect type="trigger" amount="3" spell="Soul Price" />
   <effect type="trigger" amount="5" spell="Curse of the Mind" />
   <effect type="trigger" amount="7" spell="Curse of Weakness" />
   <effect type="trigger" amount="2" spell="Lingering Weakness" />
   </spell>
<spell name="Tentacular Doom" type="targetfloor" icon="skills/spells/eldritch_pillar32.png"
		mineTimer="5" 
		mineUseGlints="1" 
		mineGlintDensity="16" 
		mineSpritePNGSeries="sprites/sfx/zalgoA/zalgoA"  
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="10" 
		mineSpritePNGRate="100" 
		mine="1"
      mineSpriteDrawOrder="1"
		mineradius="4"
		minePermanent="1" >
	<requirements mp="12" savvyBonus="0.25" />
	<effect type="damage" necromantic="1" necromanticF="0.35" affectsCaster="1" />
	<effect type="dot" spell="Zalgo1" amount="1" />
	<anim sprite="sprites/sfx/corpus_burst/corpus_burst" frames="7" framerate="100" sfx="magic_damage" centerEffect="1" />
	<description text="Open one of your six mouths and sing the song that ends the Earth." />  
   </spell>


	<!-- just for fun, tenebrous rift, done 2/9/2011
	<spell name="Tenebrous Rift" type="targetfloor" icon="skills/spells/tenebrous_rift32.png" >
		<effect type="damage" necromantic="30" self="0" />
		<effect type="knock" amount="1"/>
		<effect type="rift" />
		<requirements mp="24" />
		<anim sprite="sprites/sfx/corpus_burst/corpus_burst" frames="7" framerate="100" sfx="magic" centerEffect="1"/>
		<description text="Opens a fearful un-rift into the ab-where." />
	</spell> -->
   <!-- Other Necro spells -->
<spell name="Mini Curse Missile" type="missile">
   <buff useTimer="1" time="12" 
      self="0" 
      stacksize="10" 
      allowstacking="1" 
      icon="skills/spells/recursive_curse64.png" 
      smallicon="skills/spells/recursive_curse32.png"
      bad="1" >
      <primarybuff id="0" amount="-1"/> <!-- Burliness -->
      <primarybuff id="1" amount="-1"/> <!-- Sagacity -->
      <primarybuff id="2" amount="-1"/> <!-- Nimbleness -->
      <secondarybuff id="0" amount="-1"/> <!-- hp -->
      </buff>
	<anim sprite="sprites/sfx/hex_orb/hex_orb" frames="6" framerate="100" sfx="darkmagic" />
	<impact sprite="sprites/sfx/curse_loop/curse_loop" frames="7" framerate="100" sfx="magic_damage" />   
   <effect type="damage" transmutative="1" transmutativeF="0.25" />
   </spell>

<!-- Viking Magic -->

<spell name="Magic Steel" type="self" icon="skills/spells/magic_steel32.png" wand="0" >
   <requirements mp="16" savvyBonus="0.25" mincost="6" />
   <anim sprite="sprites/sfx/voltaic_hit/voltaic_hit" frames="8" framerate="80" sfx="magic_steel" centerEffect="1" />
   <buff useTimer="0" removable="1" manaUpkeep="6" allowstacking="0" stacksize="1" icon="skills/spells/magic_steel64.png" smallicon="skills/spells/magic_steel32.png">
      <!-- <halo name="sprites/sfx/voltaic_loop/voltaic_loop" first="0" num="5" frameRate="90" />-->
      <secondarybuff id="2" amount="1" /> <!-- melee power -->
      <secondarybuff id="4" amount="2" /> <!-- crit -->
      <damagebuff voltaic="2" />
      <resistbuff voltaic="2" />
      <targetHitEffectBuff percentage="55" name="Small Electrical Strike" /> <!-- remember: spell effect must come ABOVE before this line in XML -->
   </buff>
   <description text="Thunder and storm with the triumph of your Magick Steele! This spell strengthens your attacks, gives your attacks electrical damage, and gives you a chance to do exceptional electrical attacks which may knock your enemies away. Requires some mana to maintain enchantment." />
   <ai hint="buff"/>
   </spell>
<!-- <playerHitEffectBuff percentage="10" name="Electrical Strike" /> -->

<!-- Skatha's Roots, added 2/6/2011. On the documentation is a picture of a programmer and an artist. The programmer is crying. The artist is laughing. -->
	<!-- new things: 
	"mine" - indicates that this spell is a mine. It will leave a mine in its place that will trigger something. 
	"mineradius" - I'm not sure *what* this does. I think it indicates that where you taret, it will place a circle of mines within radius r. try it?
	"minesprite" - what sprite does the mine use? -->
<!-- effect: type="lockdown" - anything stepping on these mines is held in place for a certain # of turns. -->

<!-- Purely visual effect now. -->
<spell name="Skatha's Roots Mine"
      type="targetfloor" 
      mineTimer="6" 
      mineSpritePNGSeries="sprites/sfx/roots/roots" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="3" 
      mineSpritePNGRate="100" 
      mine="1" 
      mineradius="1"
      minePermanent="0"
      icon="skills/spells/skathas_roots32.png"
      minesMustBeUnobstructed="0" >
   <!-- <effect type="trigger" spell="Skatha's Roots" /> -->
	<!-- <anim sprite="sprites/sfx/skathas_roots/skathas_roots" frames="6" framerate="100" sfx="roots" centerEffect="0" /> -->
   <description text="These summoned roots stop your foes dead in their tracks. Also with the crushing of the throat and all that. Stops movement for a short while, restricts ability to dodge." />
   </spell>
   
<spell name="Skatha's Roots" type="target" icon="skills/spells/skathas_roots32.png" >
   <requirements mp="10" savvyBonus="0.23" mincost="2" />
   <effect type="lockdown" amount="6" self="0" />
   <anim sprite="sprites/sfx/skathas_roots/skathas_roots" frames="6" framerate="100" sfx="roots" centerEffect="0" />
	<effect type="dot" spell="Root Crush" amount="5" />
   <buff useTimer="1" self="0" time="6" allowstacking="1" icon="skills/spells/skathas_roots64.png" smallicon="skills/spells/skathas_roots32.png" bad="1" >
      <secondarybuff id="5" amount="-5" /> <!-- dodge -->
      <!-- <halo name="sprites/sfx/roots/roots" first="0" num="3" frameRate="100" centereffect="0" /> -->
      </buff>
	<description text="These summoned roots stop your foes dead in their tracks. Also with the crushing of the throat and all that. Stops movement for a short while, restricts ability to dodge." />
   <effect type="trigger" spell="Skatha's Roots Mine" />
   </spell>
   
<spell name="Root Crush" type="target" >
	<effect type="damage" asphyxiative="2" asphyxiativeF="0.15" affectscaster="1" />
   </spell>

<!-- Make this an actual DoT/debuff effect that works! -->
<spell name="Arctic Vortex" type="target" icon="skills/spells/arctic_vortex32.png" wand="1" >
	<requirements mp="14" savvyBonus="0.20" mincost="5"/>
	<buff useTimer="1" time="7" self="0" allowstacking="0" icon="skills/spells/arctic_vortex64.png" smallicon="skills/spells/arctic_vortex32.png" stacksize="1" bad="1" >
		<halo name="sprites/sfx/arctic_vortex/arctic_vortex" first="0" num="6" frameRate="100" />
		<primarybuff id="2" amount="-1" /> <!-- Nimbleness -->
		<secondarybuff id="5" amount="-2" /> <!-- dodge -->
		<resistbuff hyperborean="-1" />
      </buff>
	<description text="Summons the cold Winds Of The North to bedevil your foes and chill their flesh from the bone. Does damage over time and decreases their ability to dodge and their resistance to cold." />
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="80" sfx="magic" centerEffect="1" />
	<effect type="dot" amount="7" affectsCorpses="0" spell="Arctic Cold" />
</spell>
  
<!-- Make this an actual buff/debuff area effect that works! -->
<spell name="Unholy Warcry" anchored="1" type="template" templateID="100" icon="skills/spells/unholy_warcry32.png" wand="1" >
   <requirements mp="12" savvyBonus="0.20" mincost="4" />
   <effect type="damage" blasting="5"/>
   <effect type="fear" amount="12" />
   <effect type="paralyze" amount="3" turns="2" />
   <buff useTimer="1" time="12" self="0" allowstacking="0" icon="skills/spells/unholy_warcry64.png" smallicon="skills/spells/unholy_warcry32.png" bad="1" >
      <halo name="sprites/sfx/curse_loop/curse_loop" first="0" num="7" frameRate="100"/>
      <primarybuff id="2" amount="-2"/> <!-- Nimbleness -->
      <secondarybuff id="10" amount="-3"/> <!-- armor -->
      <secondarybuff id="2" amount="-3"/> <!-- melee power -->
      <resistbuff crushing="-1" slashing="-1" />
      </buff>
   <description text="Your unholy warcry drives fear and weakness into the hearts of your enemies, reducing their ability to fight and, more importantly, to fight back."/>
   <anim sprite="sprites/sfx/curse_hit/curse_hit" frames="6" framerate="60" sfx="magic" centerEffect="1"/>
   </spell>
<spell name="Hand of Belimawr" type="self" icon="skills/spells/firehand32.png" wand="0" >
   <requirements mp="14" savvyBonus="0.24" mincost="4" />
   <anim sprite="sprites/sfx/fleshy_buff/fleshy_buff" frames="6" sfx="magic" framerate="100" centerEffect="1"/>
   <buff useTimer="0" removable="1" stacksize="1" allowstacking="0" manaUpkeep="6" icon="skills/spells/firehand64.png" smallicon="skills/spells/firehand32.png">
      <secondarybuff id="2" amount="2"/> <!-- meleepower -->
      <damagebuff conflagratory="4"/>
      <resistbuff conflagratory="3"/>
      <targetHitEffectBuff percentage="51" name="Ignition Bolt"/>
   </buff>
   <description text="The Hand of Belimawr is a fiery one indeed; it grants you fiery defense and fiery attacks and sucks up mana like you wouldn't believe." />
   </spell>
<spell name="Thor's Fulminaric Bolt" type="targetfloor" icon="skills/spells/fulminaric_bolt32.png" wand="1">
   <requirements mp="17" savvyBonus="0.28" mincost="5" />
   <effect type="damage" blasting="14" blastingF="0.1" voltaic="22" voltaicF="0.55" affectscaster="1" />
   <effect type="paralyze" amount="2" turns="2" self="0"/> <!-- Why not -->
   <anim sprite="sprites/sfx/fulminaric_bolt/fulminaric_bolt" frames="10" sync="1" sfx="lightning_bolt" framerate="90"  centerEffect="0"/>
   <effect type="trigger" amount="1" spell="Lightning Blast"/>
   </spell>

<!-- copied from Tenebrous Rift; make this its own thing. -->
<!-- kill this
<spell name="Maalstrom" type="targetfloor" icon="skills/spells/maalstrom32.png">
   <effect type="damage" asphyxiative="10" hyperborean="10" voltaic="1" blasting="8" self="0"/>
   <effect type="knock" amount="1"/>
   <effect type="rift"/>
   <requirements mp="24"/>
   <anim sprite="sprites/sfx/manafount/manafont" frames="6" sfx="magic" centerEffect="1"/>
   <description text="Unleashes the terrible Maalstrom!."/>
   </spell> -->
   
   <!-- Other Viking Spells-->
<spell name="Small Weak Snowstorm" 
      type="targetfloor" 
      mineTimer="4" 
      mineUseGlints="1" 
      mineGlintDensity="16" 
      mineSpritePNGSeries="sprites/sfx/icepuff/icepuff" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="8" 
      mineSpritePNGRate="100" 
      mine="1" 
      mineradius="1"
      minePermanent="1" >
   <effect type="damage" hyperborean="1" hyperboreanF="0.1" affectscaster="1" />
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60" centerEffect="1" sfx="magic"/>
   </spell>
<spell name="Weak Snowstorm" 
      type="targetfloor" 
      mineTimer="4" 
      mineUseGlints="1" 
      mineGlintDensity="16" 
      mineSpritePNGSeries="sprites/sfx/icepuff/icepuff" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="8" 
      mineSpritePNGRate="100" 
      mine="1" 
      mineradius="2"
      minePermanent="1" >
   <effect type="damage" hyperborean="1" hyperboreanF="0.1" affectscaster="1" />
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60" centerEffect="1" sfx="magic"/>
   </spell>
<spell name="Small Snowstorm" 
      type="targetfloor" 
      mineTimer="4" 
      mineUseGlints="1" 
      mineGlintDensity="16" 
      mineSpritePNGSeries="sprites/sfx/icepuff/icepuff" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="8" 
      mineSpritePNGRate="100" 
      mine="1" 
      mineradius="2"
      minePermanent="1" wand="1">
   <effect type="damage" hyperborean="3" hyperboreanF="0.20" affectscaster="1" />
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60" centerEffect="1" sfx="magic"/>
   </spell>


<!-- Astrologer -->

<!-- though level 2, Blinding Flash must come before Radiant Aura in xml -->
<spell name="Blinding Flash" type="self" icon="skills/spells/blinding_light32.png" wand="1">
	<requirements mp="13" savvyBonus="0.32" mincost="3"/>
	<effect type="trigger" spell="Blinding Area Hit" amount="0" />
	<anim sprite="sprites/sfx/blinding_flash/blinding_flash" frames="8" sfx="magic_damage" framerate="60" centerEffect="0" />
	<description text="Blinds those in a ring around you with a burning flash of light."/>
   </spell>
<spell name="Blinding Area Hit" type="template" templateID="20" >
	<effect type="damage" righteous="2" righteousF="0.32" aethereal="2" aetherealF="0.23" self="0" affectscaster="1" />
	<effect type="paralyze" amount="2" turns="4" self="0" />
	<anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" />
   </spell>
  
<spell name="Radiant Aura" type="self" icon="skills/spells/radiant_aura32.png" wand="0">
	<requirements mp="10" savvyBonus="0.25" mincost="4" />
	<anim sprite="sprites/sfx/summonA/summonA" frames="10" sfx="radiant" framerate="60" centerEffect="1"/>
	<buff useTimer="0" brittle="6" removable="1" allowstacking="0" stacksize="1" icon="skills/spells/radiant_aura64.png" smallicon="skills/spells/radiant_aura32.png">
		<halo name="sprites/sfx/radiance_loop/radiance_loop" first="0" num="4" frameRate="100" />
		<primarybuff id="1" amount="1"/> <!-- Sagacity -->
		<secondarybuff id="9" amount="5"/> <!-- EDR -->
		<secondarybuff id="11" amount="5"/> <!-- resist -->
		<resistbuff necromantic="1"/>
		<sightbuff amount="2"/>
      <damagebuff righteous="1"/>
		<playerHitEffectBuff percentage="35" name="Blinding Flash" />
	</buff>
	<description text="Surrounds you with a halo of light which illuminates the darkness (and your inner strength). Those who dare attack you are occasionally met with a blinding flash which stuns. The aura can only absorb a few hits before it is dissipated."/>
   <ai hint="ally" />
</spell>
  
<spell name="Solar Inscription" type="targetfloor" icon="skills/spells/divine_inscription32.png"
      mine="1" 
      mineradius="1"  
      minePermanent="0"
      mineSpriteDrawOrder="0"
      mineSpritePNGSeries="sprites/sfx/divine_inscription/divine_inscription" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="4" 
      mineSpritePNGRate="100" >
	<effect type="damage" righteous="2" righteousF="0.40" />
	<effect type="paralyze" amount="3" turns="8" self="0"/>
   <effect type="trigger" spell="Ignition Bolt" amount="0" />
	<requirements mp="12" savvyBonus="0.29" mincost="4"/>
   <anim sprite="sprites/sfx/divine_hit/divine_hit" frames="8" framerate="80" sfx="rune_set" centerEffect="0"/>
   <description text="This magic rune uses the burning power of the sun to stop your foes dead ... in their tracks, at least."/>
    <ai hint="mine" />
   </spell>
<spell name="Syzygy" type="self" icon="skills/spells/syzygy32.png" >
	<requirements mp="20" savvyBonus="0.25" mincost="4" />
	<anim sprite="sprites/sfx/divine_hit/divine_hit" frames="8" sfx="radiant" framerate="70" centerEffect="0"/>
	<buff useTimer="0" removable="1" manaUpkeep="4" allowstacking="0" icon="skills/spells/syzygy64.png" smallicon="skills/spells/syzygy32.png">
		<primarybuff id="2" amount="2" /> <!-- Nimbleness -->
		<primarybuff id="1" amount="2" /> <!-- Sagacity -->
		<secondarybuff id="0" amount="12" /> <!-- hp -->
		<secondarybuff id="1" amount="8" /> <!-- mp -->
		<secondarybuff id="6" amount="5" /> <!-- dodge -->
		<damagebuff aethereal="2" />
   </buff>
   <description text="The planets have aligned to grant you extra-ordinary agility, power, and constitution. Requires mana to upkeep."/>     
   </spell>
<spell name="Celestial Aegis" type="self" icon="skills/spells/celestial_aegis32.png" wand="0">
   <requirements mp="26" savvyBonus="0.45" mincost="5" />
   <anim sprite="sprites/sfx/celestialring/celestialring" frames="8" sfx="portal" framerate="80" centerEffect="1"/>
   <buff useTimer="0" removable="1" allowstacking="0" brittle="9" manaUpkeep="5" icon="skills/spells/celestial_aegis64.png" smallicon="skills/spells/celestial_aegis32.png">
      <secondarybuff id="10" amount="2"/> <!-- armour -->
      <secondarybuff id="11" amount="15"/> <!-- resist -->
      <resistbuff necromantic="2"/>
      <resistbuff aethereal="4"/>
      <resistbuff transmutative="4"/>
      <resistbuff righteous="3"/>
   </buff>
   <description text="With this shield of astrological power, the forces of the cosmos protect you. Usually. The effect will dissipate if it must absord too many hits. Requires mana to remain active."/>
   </spell>

<spell name="The Stars Aligned" type="template" templateID="100" anchored="1" icon="skills/spells/stars_aligned32.png" wand="1">
   <requirements mp="40" savvyBonus="0.30" mincost="6" />
   <effect type="damage" aethereal="28" aetherealF="0.71"/>
   <effect type="paralyze" amount="2" turns="5" self="0" />
   <effect type="bleed" />
   <anim sprite="sprites/sfx/celestial_hit/celestial_hit" frames="8" sfx="magic_damage" framerate="80"  centerEffect="1"/>
   <description text="With the stars aligned just so, terrible celestial energies are unleashed upon all around you."/>
   <!-- add some zalgo crap here? -->
   </spell>
	
<!-- Promethean Magic -->

<spell name="Rockburst" type="target" icon="skills/spells/rockburst32.png" wand="1">
	<requirements mp="8" savvyBonus="0.25"/>
	<effect type="damage" crushing="8" slashing="5" blasting="5" affectscaster="1" />
	<anim sprite="sprites/sfx/rockburst/rockburst" frames="9" sfx="earth" framerate="100"  centerEffect="0"/>  
	<description text="This spell causes rock to explode from beneath an enemy's feet." />
   </spell>
<spell name="Dragon's Breath" type="template" templateID="30" anchored="1" icon="skills/spells/dragons_breath32.png" wand="1">
	<requirements mp="10" savvyBonus="0.24" mincost="3" />
	<effect type="damage" conflagratory="4" conflagratoryF="0.20" blasting="2" blastingF="0.1" />
	<effect type="trigger" spell="Dragon's Breath 1" amount="0" />
	<effect type="trigger" spell="Dragon's Breath 2" amount="0" />
	<anim sprite="sprites/sfx/combust_hit/combust_hit" frames="7" firstframe="2" framerate="35" sfx="flame" centerEffect="1"/>
   <description text="You can belch forth a jet of flame, not unlike that incident with the wager involving an entire barrel of Dwarven Rum. It sets anything in the way, including the floor, on fire."/>
   </spell>
<spell name="Dragon's Breath 1" type="template" templateID="31" anchored="1" >
	<effect type="damage" conflagratory="2" conflagratoryF="0.15" blasting="2" blastingF="0.05" />
	<anim sprite="sprites/sfx/combust_hit/combust_hit" frames="8" firstframe="1" framerate="34" sfx="flame_weak" centerEffect="1"/>
   </spell>
<spell name="Dragon's Breath 2" type="template" templateID="32" anchored="1" >
	<effect type="damage" conflagratory="1" conflagratoryF="0.10" blasting="1"  />
	<anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" firstframe="0" framerate="34" sfx="flame_weak" centerEffect="1"/>
	<effect type="trigger" spell="Flamefield 0" />
   </spell>
<spell name="Flamefield 0" 
      type="targetfloor" 
      mineTimer="4" 
      mineUseGlints="1" 
      mineGlintDensity="14" 
      mineSpritePNGSeries="sprites/sfx/flame_field/flame_field" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="10" 
      mineSpritePNGRate="100" 
      mine="1" 
      mineradius="2"
      minePermanent="1" >
   <effect type="damage" conflagratory="1" conflagratoryF="0.05" affectscaster="1" />
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60" centerEffect="1" sfx="flame_weak"/>
   </spell>

<spell name="Rune of Exploding" type="targetfloor"
      icon="skills/spells/rune_of_exploding32.png"
      mineTimer="96"  
      mineSpritePNGSeries="sprites/sfx/rune_exploding/rune_exploding" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="3" 
      mineSpritePNGRate="100" 
      mine="1" 
      mineradius="1"
      mineSpriteDrawOrder="0"
      minePermanent="0" >
   <effect type="damage" conflagratory="1" conflagratoryF="0.20" blasting="1" blastingF="0.1" affectscaster="1" />
   <!-- <effect type="trigger" spell="Thermite Center" /> -->
   <effect type="trigger" spell="Flamefield 1" amount="1" />
   <effect type="trigger" spell="Fire 1" amount="0" />
   <requirements mp="18" savvyBonus="0.13" mincost="8" />
   <anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" sfx="rune_set" centerEffect="0"/>
   <description text="This spell inscribes a magical fiery-exploding rune into the floor. Watch your step!" />
   </spell>
<spell name="Summon Wyrmling" type="targetemptyfloor" icon="skills/spells/summon_wyrmling32.png" >
   <requirements mp="23" savvyBonus="0.23"/>
   <effect type="summon" monsterType="Summon Wyrmling" />
   <anim sprite="sprites/sfx/summonA/summonA" frames="10" framerate="100" sfx="flame" centerEffect="1"/>
   <effect type="trigger" spell="Hollow Thermite Blast" amount="0" />
   <description text="This fiery ritual summons a dragony friend who will happily set people alight and trigger traps for you. Like most Promethean spells, the summoning process has the side effect of shooting fire all over the place." />
   </spell>
<spell name="Obvious Fireball" type="missile" icon="skills/spells/fireball32.png" wand="1" >
	<requirements mp="19" savvyBonus="0.13" mincost="9"/>
	<effect type="damage" blasting="4" blastingF="0.2" affectscaster="1" />
	<anim sprite="sprites/sfx/flame_buff_loop/flame_buff_loop" frames="6" framerate="50" sfx="flame" />
   <impact sprite="sprites/sfx/fireball/fireball" frames="7" firstframe="0" framerate="90" centerEffect="1" sfx="explosion" />
	<effect type="trigger" spell="Flamefield 1" amount="0" />
	<effect type="trigger" spell="Fireball Effect" amount="0" />
	<description text="It's a giant fireball. It goes BOOM. Then with the burning. Oh god, the burning. What more do you want?" />
   </spell>
<spell name="Fireball Effect" type="template" templateID="98" anchored="0" >
   <effect type="damage" conflagratory="2" blasting="2" conflagratoryF="0.25" blastingF="0.2" affectscaster="1" />
   <anim sprite="sprites/sfx/null" frames="1" firstframe="0" framerate="120" sfx="fireball" centerEffect="0"/>
   </spell>
<spell name="Flamefield 1" 
      type="targetfloor" 
      mineTimer="4" 
      mineUseGlints="1" 
      mineGlintDensity="16" 
      mineSpritePNGSeries="sprites/sfx/flame_field/flame_field" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="10" 
      mineSpritePNGRate="100" 
      mine="1" 
      mineradius="3"
      minePermanent="1" >
   <effect type="damage" conflagratory="4" affectscaster="1" />
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60" centerEffect="1" sfx="flame_weak"/>
   </spell>
<spell name="Gog's Tactical Pyre" type="targetfloor"
		icon="skills/spells/tactical_pyre32.png" 
		mineTimer="16" 
		mineSpritePNGSeries="sprites/sfx/pyre_loop/pyre_loop" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="4" 
		mineSpritePNGRate="100" 
		mine="1" 
		mineradius="1"
      mineSpriteDrawOrder="1"
		minePermanent="1" >	
   <requirements mp="16" savvyBonus="0.23" mincost="7" />
  <ai hint="mine"/>
   <effect type="damage" conflagratory="8" conflagratoryF="0.45" affectscaster="1" />
   <anim sprite="sprites/sfx/fireburst/fireburst" frames="7" sfx="flame" centerEffect="1"/>
   <description text="Summons a wall of fire from The Elemental Plane of Walls of Fire. Burns out over several turns as the otherworldly fuel-line succumbs to the Peak Mana crisis. Greater magical ability makes the spell easier to cast and the fire burn hotter." />
 </spell>
	<!-- but does it blend? -->
<spell name="Infernal Torus" type="self" icon="skills/spells/infernal_torus32.png">
   <requirements mp="29" savvyBonus="0.38" mincost="7" />
   <effect type="trigger" spell="Flamefield 2" amount="0" /> <!-- Because you're worth it. -->
   <effect type="trigger" spell="Torus Blast 1" amount="0" />
   <effect type="trigger" spell="Torus Blast 2" amount="0" />
   <effect type="trigger" spell="Torus Blast 3" amount="0" />
   <anim sprite="sprites/sfx/fireburst/fireburst" frames="7" framerate="90" sfx="magic" centerEffect="1"/>
   <impact sprite="sprites/sfx/combust_hit/combust_hit" frames="9" framerate="100" sfx="flame" centerEffect="1"/>
   <description text="By busting some sweet dance moves, you set the dance floor on fire, effectively setting all enemies around you on fire. Also more fire beyond that, it's really quite a mess. Greater magical power makes the fire all the hotter." />
</spell>
  
<spell name="Flamefield 2" 
      type="targetfloor" 
      mineTimer="4" 
      mineUseGlints="1" 
      mineGlintDensity="16" 
      mineSpritePNGSeries="sprites/sfx/flame_field/flame_field" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="10" 
      mineSpritePNGRate="100" 
      mine="1" 
      mineradius="3"
      mineSpriteDrawOrder="1"
      minePermanent="1" >
   <effect type="damage" conflagratory="12" affectscaster="1" />
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60" centerEffect="1" sfx="flame_weak"/>
   </spell>

<!-- make this a horrible area effect fire thing ; OR: don't. 
  <spell name="Volcanonicon" type="target" icon="skills/spells/volcanonicon32.png" wand="1">
    <requirements mp="24"/>
    <effect type="damage" blasting="10" conflagratory="30"/>
    <anim sprite="sprites/sfx/rockburst/rockburst" frames="9" sfx="magic" framerate="100"  centerEffect="0"/>        
  </spell>
	-->
	
<!-- Fire Spells-->



<!-- oil effects are not working prettily --> 
<spell name="Oil Slick2" type="fireball" radius="3" icon="skills/wizard/spell_fire0_32.png" wand="1">
   <requirements mp="5" level="1"/>
   <effect type="oil" amount="55"/>
   <description text="Deposits highly flammable oil all over the place."/>
   <anim sprite="sprites/sfx/manafount/manafont" frames="6" sfx="magic" centerEffect="1"/>
   </spell>
<spell name="Oil Slick" type="targetfloor" icon="skills/wizard/spell_fire0_32.png" wand="1">
   <requirements mp="5" level="1"/>
   <effect type="oil" amount="55"/>
   <description text="Deposits highly flammable oil all over the place."/>
   <anim sprite="sprites/sfx/manafount/manafont" frames="6" sfx="magic" centerEffect="1"/>
   <effect type="trigger" amount="0" spell="Oil Slick2"/>
   </spell>

<!-- END OF WEAPON EFFECT SKILLS -->

<!-- Rogue skills -->

<spell name="Move in Mysterious Way" downtime="24" type="targetemptyfloor" icon="skills/rogue/skill_stealth3_32.png">
	<description text="It's all right, you move in mysterious ways. Perfect for the inconspicuous exit from the scene of a crime."/>
	<effect type="teleport"/>
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic"/>
   </spell>

<!-- perception skills -->


<spell name="Second Sight" type="self" downtime="99" icon="skills/rogue/perception3_32.png">
   <description text="By using your third, fourth, and sometimes fifth eyes, you can nearly see the future. This may prove useful in a scuffle."/>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="tutorialrespond" />
   <buff useTimer="1" time="49" stacksize="1" self="1" icon="skills/rogue/perception3_64.png" smallicon="skills/rogue/perception3_32.png" >
      <senseWallsFlag amount="1"/>
      <sightbuff amount="2"/>
      <secondarybuff id="17" amount="2" /> <!-- trap sight -->
      <secondarybuff id="9" amount="15" /> <!-- EDR -->
      <secondarybuff id="6" amount="5" /> <!-- dodge -->
      <secondarybuff id="8" amount="5" /> <!-- counter -->
      </buff>
   </spell>

<!-- 
<spell name="Spider Sense" type="self" downtime="20" icon="skills/rogue/perception1_32.png" sType="1">
   <description text="You can sense traps with supernatural alertness."/>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="tutorialrespond" />
   <buff useTimer="1" time="24" icon="skills/rogue/perception1_64.png" smallicon="skills/rogue/skill_perception1_32.png" stacksize="1" self="1" >
      <senseTrapFlag amount="1"/>
      <secondarybuff id="6" smount="5"/>
      <sightbuff amount="1"/>
   </buff>
   </spell>
-->
<!--
<spell name="Uncanny Navigation" type="self" downtime="20" icon="skills/rogue/skill_perception2_32.png">
   <description text="You can know exactly where not to go."/>
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic"/>
   <buff icon="skills/rogue/skill_perception2_64.png" smallicon="skills/rogue/skill_perception2_32.png" time="12" stacksize="1" self="1" >
   <senseMapFlag amount="1"/>
   <sightbuff amount="1"/>
   </buff>
   </spell>
-->

<spell name="Blackjack" type="adjacent" icon="skills/rogue/skill_assassination0_32.png" >
	<effect type="damage" crushing="2"/>
	<effect type="sleep" amount="2"/>
	<description text="Jack that mother."/>
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="impact"/>
   </spell>
<spell name="Sneaky Shiv" type="adjacent" icon="skills/rogue/skill_assassination1_32.png" >
	<effect type="damage" piercing="1" piercingF="0.33" secondaryScale="12" bleed="1" />
	<effect type="paralyze" turns="5" amount="2" />
	<description text="Go for the cheap shot, right between the ribs."/>
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="shing"/>
   </spell>
<spell name="Et tu?" type="target" icon="skills/rogue/skill_assassination2_32.png" >
	<effect type="damage" piercing="3" piercingF="0.5" bleed="1" />
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="shing"/>
   </spell>



<spell name="Mystically Drained" type="self" icon="skills/fizzle32.png" >
	<anim sprite="sprites/sfx/black_ritual/black_ritual" frames="10" framerate="100" centerEffect="1" />
	<buff useTimer="1" allowstacking="1" time="48" icon="skills/fizzle64.png" smallicon="skills/fizzle32.png" bad="1" >
		<secondarybuff id="18" amount="-1" />
      <secondarybuff id="3" amount="-1" />
	</buff>
	<description text="Your magical powers are slightly drained for a short time due to infusing your essence into a wand. And you're going to go blind if you keep doing this." />
   </spell>   
   
<spell name="Rod Charge" type="item" downtime="80" consumeItem="0" consumeItemType="wand" icon="skills/wizard/wands0_32.png">
   <description text="By polishing your wand, you can recharge its mystical juice. (Note: mystical juice should not be mixed with wizarding liquid.)"/>
   <effect type="rechargewand"/>
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_damage"/>
   <effect type="trigger" spell="Mystically Drained" />
   </spell>
<spell name="Wand Hack" type="item" downtime="80" consumeItem="0" consumeItemType="wand" icon="skills/wizard/wands2_32.png">
   <description text="Sometimes, necessity is the mother of adaptation."/>
   <effect type="randomizewand"/>
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_damage"/>
   </spell>

<!--
<wandSkills>

<spell name="Arcane Infusement" type="item" downtime="20" consumeItem="0" icon="skills/rogue/skill_wand_lore0_32.png">
	<description text="By polishing your wand, you can recharge its mystical juice. (Note: mystical juice should not be mixed with wizarding liquid.)"/>
	<effect type="rechargewand"/>
	<effect type="rogueSkill"/>
</spell>
<spell name="Energy Vampire" type="item" downtime="20" consumeItem="1" consumeItemType="wand"  icon="skills/rogue/skill_wand_lore1_32.png">
	<description text="This one time, at wizard camp, you shoved a wand in your incinerator. In return, you gained magical energy. Recreate those heady days of your youth."/>
	<effect type="spellpoints" amount="30"/>
	<effect type="rogueSkill"/>
</spell>
<spell name="Eldritch Overload" type="item" downtime="20" consumeItem="1" consumeItemType="wand" icon="skills/rogue/skill_wand_lore2_32.png">
	<description text="The bad news is that this skill destroys a perfectly good magical wand by infusing it with magical energies beyond its breaking point. The good news is that it leaves you with a perfectly serviceable grenade."/>
	<effect type="spawn" itemname="Corrupted Wand"/>
	<effect type="rogueSkill"/>
</spell>
	
</wandSkills>
-->

<!--
<spell name="Blast Key" type="lockable" downtime="20" consumeItem="1" radius="4" icon="skills/rogue/skill_lockpicking2_32.png" >
   <description text="Convert doors and locked treasure chests into delicious, nourishing explosions."/>
   <effect type="damage" dT="fire" amount="5" burn="1"/>
   <effect type="rogueSkill"/>
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic"/>
   </spell>
-->	


<spell name="It Belongs In A Museum" type="item" downtime="72" consumeItem="1" consumeItemType="artifact" icon="skills/rogue/skill_archaeology0_32.png">
   <description text="It's not the years, honey, it's the mileage."/>
   <effect type="sacrificeartifact"/>
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_damage"/>
   </spell>
<spell name="Ancient Kronian Ritual" downtime="128" type="target" icon="skills/rogue/skill_archaeology1_32.png">
   <effect type="rechargeanvil"/>
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_damage"/>
   <description text="Recharges an anvil of Kron. The sad thing is, the Ancient Kronian Ritual mainly consists of sitting around the Anvil moping, drinking beer and complaining about why you can't get any Ancient Kronian Women."/>
   </spell>
<spell name="This Translation Is All Wrong!" downtime="80" type="item" consumeItem="0" consumeItemType="artifact" icon="skills/rogue/skill_archaeology2_32.png">
   <description text="Does anyone here speak English? Or even Greek?"/>
   <effect type="randomizeartifact"/>
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_damage"/>
   </spell>




<!-- Burglary Skills -->

<spell name="Lucky Pick" type="self" downtime="44" consumeItem="0" icon="skills/rogue/skill_burglary0_32.png">
	<description text="This lucky lockpick keeps turning up, again and again. At the same time as itself. Again."/>
	<effect type="spawn" itemname="Lockpick" amount="3"/>
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="ping"/>
   </spell>
<spell name="Ninja Vanish" type="self" downtime="20" icon="skills/rogue/skill_burglary1_32.png" >
	<description text="It's as if you were never there. Except for that dead guy."/>
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_open"/>
		<buff useTimer="1" time="10" icon="skills/rogue/skill_stealth0_64.png" smallicon="skills/rogue/skill_stealth0_32.png" stacksize="1" self="1" >
		<invisible amount="1" />
	</buff>
   </spell>
<spell name="Vending Machine Loot" type="target" downtime="50" icon="skills/rogue/vending_machine_looter32.png" >
   <effect type="vendingmachinesteal" />
   <description text="If no one was watching, it wasn't a crime!" />
   </spell>
<spell name="Lockup" type="target" downtime="20" consumeItem="0" radius="0" icon="skills/rogue/skill_burglary2_32.png" >
	<description text="Locks up a targeted enemy with a handy chain. They won't be going anywhere for quite some time."/>
	<effect type="lockdown" amount="24"/>      <!-- 0 means permanent lockdown -->
   <!-- add a debuff -->
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="chain"/>
   </spell>
<spell name="Five-Finger Discount" type="target" downtime="20" consumeItem="0" icon="skills/rogue/skill_burglary3_32.png" >
	<description text="Steal an item, at random, for free! That said, this skill is deprecated and only in here for save/load compatibility issues. It was never that good in the first place."/>
	<effect type="stealitem"/>
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="pong"/>
   </spell>

<!--
<spell name="Blast Key" type="lockable" downtime="20" consumeItem="1" radius="4" icon="skills/rogue/skill_lockpicking2_32.png" >
	<description text="Convert doors and locked treasure chests into delicious, nourishing explosions."/>
	<effect type="damage" dT="fire" amount="5" burn="1"/>
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic"/>
	<effect type="rogueSkill"/>
</spell>
-->


   <spell name="Gem Transmutation" type="item" downtime="20" consumeItem="1" consumeItemType="gem"  icon="skills/rogue/alchemy2_32.png" >
   <description text="Convert a gem into another more different gem."/>
   <effect type="spawn" itemname="randomgem"/>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" sfx="ping" />
   </spell>
<spell name="Mushroom Transmutation" type="item" downtime="24" consumeItem="1" consumeItemType="mushroom" icon="skills/rogue/fungus2_32.png" >
   <description text="Convert mushrooms into other mushrooms."/>
   <effect type="spawn" itemname="randommushroom"/>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" sfx="ping" />
   </spell>


  <!-- Is Potion Mastery a skill?
	icon="skills/rogue/skill_alchemy2_32.png" -->


<!--
<spell name="Mushroom Gourmet" type="item" downtime="20" consumeItem="1" icon="skills/rogue/skill_mushroom_lore0_32.png" >
	<description text="Convert mushrooms into delicious, nourishing mushroom soup!"/>
	<effect type="spawn" itemname="Mushroom Soup"/>
	<effect type="rogueSkill"/>
</spell>
-->

<!--
<spell name="Spore Stash" type="self" downtime="32" icon="skills/rogue/skill_mushroom_lore2_32.png">
   <description text="Get a spore to use for planting. You don't want to know where from."/>
   <effect type="spawn" itemname="Mushroom Spores" amount="1"/>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" sfx="ping" />
   </spell>
-->

<spell name="Spore Stash" type="targetadjacentcorpse" downtime="20" icon="skills/rogue/skill_mushroom_lore2_32.png">
   <description text="Plant fungal spores on a corpse and see what grows. Don't give me that look; it's just Nature's way of recycling."/>
   <effect type="spawnitemfromlist">
    <option name="Night Cap"/>
    <option name="Plumber's Agaric"/>
    <option name="Azure Mob-Bonnet"/>
    <option name="Spores" amount="3" />
	  <option name="Spores" amount="5" />
    <option name="Fell Truffle"/>
    <option name="Grunge Ear"/>
	 <option name="Greedy Blungecap" />
	 <option name="Odious Puffball" />
	 <option name="Fairywodger" />
	 <option name="Inky Hoglantern" />
	 <option name="Mud Wen" />
	 <option name="The Prince" />
	 <option name="Lobstermane Fungus" />
   </effect>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" sfx="ping" />
   </spell>


  <!-- next skill doesn't need a spell -->

  <!-- Refresh Potions -->

<spell name="Minor Refresh" type="self" icon="skills/placeholder32.png" >
   <effect type="heal" amount="16" />
   <effect type="spellpoints" amount="18" />
   <description text="Refreshes you a bit."/>
   <anim sprite="sprites/sfx/manafount/manafont" frames="7" sfx="choir"/>
   </spell>
<spell name="Medium Refresh" type="self" icon="skills/placeholder32.png" >
   <effect type="heal" amount="26"/>
   <effect type="spellpoints" amount="30" />
   <description text="Refreshes you a bit more."/>
   <anim sprite="sprites/sfx/manafount/manafont" frames="7" sfx="choir"/>
   </spell>
<spell name="Major Refresh" type="self" icon="skills/placeholder32.png" >
   <effect type="heal" amount="44"/>
   <effect type="spellpoints" amount="48" />
   <description text="Refreshes you rather a lot."/>
   <anim sprite="sprites/sfx/manafount/manafont" frames="7" sfx="choir"/>
   </spell>

  <!-- Healing Potions -->

<spell name="Minor Heal Potion" type="self" icon="skills/placeholder32.png" >
   <effect type="heal" amount="20" />
   <description text="Heals you a bit."/>
   <anim sprite="sprites/sfx/manafount/manafont" frames="7" sfx="white"/>
   </spell>
<spell name="Medium Heal Potion" type="self" icon="skills/placeholder32.png" >
   <effect type="heal" amount="36"/>
   <description text="Heals you"/>
   <anim sprite="sprites/sfx/manafount/manafont" frames="7" sfx="white"/>
   </spell>
<spell name="Major Heal Potion" type="self" icon="skills/placeholder32.png" >
   <effect type="heal" amount="64"/>
   <description text="Heals you"/>
   <anim sprite="sprites/sfx/manafount/manafont" frames="7" sfx="white"/>
   </spell>

  <!-- Regen Potions -->
  
<spell name="Minor Regen" type="self" >
   <effect type="heal" amount="1" />
   <description text="Your wounds close with unnatural speed."/>
   <buff useTimer="1" time="10" icon="skills/regen64.png" smallicon="skills/regen32.png">
   </buff>
   <effect type="dot" resistable="0" spell="Regen Life Effect 1" amount="10" />
   <anim sprite="sprites/sfx/manafount/manafont" frames="7" sfx="white"/>
   </spell>
<spell name="Medium Regen" type="target" > <!-- self? -->
   <effect type="heal" amount="2" />
   <description text="Your limbs straighten and your flesh fills with unearthly regrowth." />
   <buff useTimer="1" time="12" icon="skills/regen64.png" smallicon="skills/regen32.png" >
      </buff>
   <effect type="dot"  resistable="0" spell="Regen Life Effect 2" amount="12" />
   <anim sprite="sprites/sfx/manafount/manafont" frames="7" sfx="white" />
   </spell>

<spell name="Major Regen" type="self" >
   <effect type="heal" amount="4" />
   <description text="Your body is being rebuilt with alarming speed, tendon upon bone upon skin upon viscera..." />
   <buff useTimer="1" time="12" icon="skills/regen64.png" smallicon="skills/regen32.png">
   </buff>
   <effect type="dot" spell="Regen Life Effect 3" amount="16"  resistable="0" />
   <anim sprite="sprites/sfx/manafount/manafont" frames="7" sfx="white" />
   </spell>

<spell name="Regen Life Effect 1" type="target" >
	<effect type="heal" amount="2" />
   </spell>
<spell name="Regen Life Effect 2" type="target" >
	<effect type="heal" amount="3" />
   </spell>
<spell name="Regen Life Effect 3" type="target" >
	<effect type="heal" amount="4" />
   </spell>

  <!-- Mana Potions --> 
	
<spell name="Minor Mana Potion" type="self" >
   <effect type="spellpoints" amount="22" />
   <anim sprite="sprites/sfx/manafount/manafont" framerate="100" frames="7" sfx="white" />
   <description text="Sweet mana!" />
   </spell>
<spell name="Medium Mana Potion" type="self" >
   <effect type="spellpoints" amount="40" />
   <anim sprite="sprites/sfx/manafount/manafont" framerate="100" frames="7" sfx="white" />
   <description text="Replenishes your mana." />
   </spell>
<spell name="Major Mana Potion" type="self" >
   <effect type="spellpoints" amount="68" />
   <anim sprite="sprites/sfx/manafount/manafont" framerate="100" frames="7" sfx="white" />
   <description text="Replenishes your mana a lot."/>
   </spell>


	<!-- Sight Potions --> 
<spell name="Improved Vision" type="self" icon="skills/skill_perception.png" >
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="tutorialrespond" />
	<buff useTimer="1" time="70" stacksize="1" icon="skills/skill_perception.png" smallicon="skills/skill_perception_small.png" >
		<effect 
			type="buff" 
			self="1" 
			sprite="sprites/sfx/psionic_generic/psionic_generic" 
			frames="5" framerate="100" 
			sfx="magic" 
			icon="skills/skill_perception.png" 
			smallicon="skills/skill_perception_small.png"/>
		<sightbuff amount="2" />
		<secondarybuff id="17" amount="1" />
	</buff>
	<description text="You can see better in the dungeon's dark depths."/>
   </spell>
<spell name="Clear Vision" type="self" >
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="tutorialrespond" />
	<buff useTimer="1" time="75" stacksize="1" icon="skills/skill_perception.png" smallicon="skills/skill_perception_small.png" >
		<effect type="buff" self="1" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" sfx="magic"  />
		<sightbuff amount="2" /> <!-- sight -->
		<secondarybuff id="4" amount="3" /> <!-- crit -->
		<secondarybuff id="17" amount="2" /> <!-- trap sight -->
	</buff>
	<description text="Your sight is much improved and helps you pick out critical weaknesses in  your enemies' defenses."/>
   </spell>
<spell name="Supreme Sight" type="self" icon="skills/skill_perception.png">
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="tutorialrespond" />
	<buff useTimer="1" time="90" self="1" stacksize="1" icon="skills/skill_perception.png" smallicon="skills/skill_perception_small.png" >
		<effect type="buff" self="1" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" sfx="magic" />
		<sightbuff amount="3"/>
		<secondarybuff id="4" amount="3" /> <!-- crit -->
		<secondarybuff id="9" amount="5" /> <!-- edr -->
		<secondarybuff id="17" amount="3"/>
	</buff>
	<description text="Your vision reigns supreme; you can pick out every step and misstep in combat."/>
   </spell>
<!-- elemental empowerment potions -->
<spell name="Infernal Empowerment" type="self" >
   <effect type="damage" conflagratory="3" /> 
   <anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" framerate="90" sfx="flame_weak" />
	<buff useTimer="1" self="1" time="90" stackable="0" icon="skills/infernal64.png" smallicon="skills/infernal32.png" >
      <resistbuff conflagratory="6" />
      <damagebuff conflagratory="2" />
		<targetHitEffectBuff percentage="30" name="Fire 1" />
	</buff>
	<description text="You have been infused with infernal power and can really feel the burn!"/>
   </spell>
<spell name="Hyperborean Empowerment" type="self" >
   <effect type="damage" hyperborean="3" /> 
   <anim sprite="sprites/sfx/impact_ice/impact_ice" frames="6" framerate="90" sfx="magic" />
	<buff useTimer="1" self="1" time="90" stackable="0" icon="skills/hyperborean64.png" smallicon="skills/hyperborean32.png" >
      <resistbuff hyperborean="6" />
      <damagebuff hyperborean="2" />
		<targetHitEffectBuff percentage="30" name="Small Weak Snowstorm" />               
	</buff>
	<description text="You have been infused with hyperborean power. Cool!"/>
   </spell>
<spell name="Voltaic Empowerment" type="self" >
   <effect type="damage" voltaic="3" /> 
   <anim sprite="sprites/sfx/voltaic_hit/voltaic_hit" frames="8" framerate="90" sfx="elec" />
	<buff useTimer="1" self="1" time="90" stackable="0" icon="skills/voltaic64.png" smallicon="skills/voltaic32.png" >
      <resistbuff voltaic="6" />
      <damagebuff voltaic="2" />
		<targetHitEffectBuff percentage="30" name="Arc 1" />
	</buff>
	<description text="Shockingly, you have been infused with voltaic power!"/>
   </spell>

<!-- Midas Potion -->

<spell name="Brief Touch of Midas" type="self"  >
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="magic_close" />
	<buff useTimer="0" self="1" attacks="8" stackable="1" icon="skills/spells/curse_of_midas64.png" smallicon="skills/spells/curse_of_midas32.png" >
		<effect type="buff" self="1" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" sfx="magic" />
		<targetHitEffectBuff percentage="50" name="Midas" />
		<targetHitEffectBuff percentage="50" name="Midas" />
	</buff>
	<description text="For a short time, all you touch turns to gold. Well, bits of your enemies at least. Mostly."/>
   </spell>
<spell name="Touch of Midas" type="self"  >
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="magic_close" />
	<buff useTimer="0" attacks="12" self="1" stackable="1" icon="skills/spells/curse_of_midas64.png" smallicon="skills/spells/curse_of_midas32.png" >
		<effect type="buff" self="1" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" sfx="magic" />
		<targetHitEffectBuff percentage="50" name="Midas" />
		<targetHitEffectBuff percentage="50" name="Midas" />
	</buff>
	<description text="For a while, all you touch turns to gold. Well, bits of your enemies at least."/>
   </spell>
<spell name="Long Touch of Midas" type="self"  >
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="magic_close" />
	<buff useTimer="0" attacks="20" self="1" stackable="1" icon="skills/spells/curse_of_midas64.png" smallicon="skills/spells/curse_of_midas32.png" >
		<effect type="buff" self="1" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" sfx="magic" />
		<targetHitEffectBuff percentage="50" name="Midas" />
		<targetHitEffectBuff percentage="50" name="Midas" />
	</buff>
	<description text="All you touch turns to gold. Well, bits of your enemies at least."/>
   </spell>

	<!-- Strength Potions -->

<spell name="Minor Burl" type="self" >
	<anim sprite="sprites/sfx/fleshy_buff/fleshy_buff" frames="6" framerate="100" centerEffect="1" sfx="portal" />
	<buff useTimer="1" time="68" allowstacking="0" icon="skills/stat_str64.png" smallicon="skills/stat_str32.png">
		<primarybuff id="0" amount="3"/> <!-- Burliness -->
	</buff>
	<description text="You are imbued with great strength." />
   </spell>
<spell name="Medium Burl" type="self" >
	<anim sprite="sprites/sfx/fleshy_buff/fleshy_buff" frames="6" framerate="100" centerEffect="1" sfx="portal" />
	<buff useTimer="1" time="73" allowstacking="0" icon="skills/stat_str64.png" smallicon="skills/stat_str32.png">
		<primarybuff id="0" amount="5"/> <!-- Burliness -->
	</buff>
	<description text="You are imbued with awesome strength!" />
   </spell>
<spell name="Major Burl" type="self" >
	<anim sprite="sprites/sfx/fleshy_buff/fleshy_buff" frames="6" framerate="100" centerEffect="1" sfx="portal" />
	<buff useTimer="1" time="85" allowstacking="0" icon="skills/stat_str64.png" smallicon="skills/stat_str32.png">
		<primarybuff id="0" amount="10"/> <!-- Burliness -->
	</buff>
	<description text="You are imbued with colossal strength!!" />
</spell>

	<!-- Invisibility Potions -->

<spell name="Brief Invisibility" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_open" />
	<buff useTimer="1" time="6" icon="skills/rogue/skill_stealth0_64.png" smallicon="skills/rogue/skill_stealth0_32.png" stackable="0" self="1" >
		<invisible amount="1" />
      <sightbuff amount="-3" />
	</buff>
	<description text="For just a moment, it's as if you were never there."/>
   </spell>
<spell name="Minor Invisibility" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_open" />
	<buff useTimer="1" time="12" icon="skills/rogue/skill_stealth0_64.png" smallicon="skills/rogue/skill_stealth0_32.png" stackable="0" self="1" >
		<invisible amount="1" />
      <sightbuff amount="-3" />
	</buff>
	<description text="It's as if you were never there!"/>
   </spell>
<spell name="Invisibility" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_open" />
	<buff useTimer="1" time="24" icon="skills/rogue/skill_stealth0_64.png" smallicon="skills/rogue/skill_stealth0_32.png" stackable="0" self="1" >
		<invisible amount="1" />
      <sightbuff amount="-2" />
	</buff>
	<description text="No one can see you; time to make your escape."/>
   </spell>
<spell name="Major Invisibility" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_open" />
	<buff useTimer="1" time="48" icon="skills/rogue/skill_stealth0_64.png" smallicon="skills/rogue/skill_stealth0_32.png" stackable="0" self="1" >
		<invisible amount="1" />
      <sightbuff amount="-1" />
	</buff>
	<description text="You are quite thoroughly invisible - don't blow your cover!"/>
   </spell>

	<!-- Armour Potions -->

<spell name="Minor Armour" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="metal_drop" />
	<buff useTimer="0" time="63" self="1" allowstacking="0" icon="skills/skill_armour.png" smallicon="skills/skill_armour_small.png">
		<secondarybuff id="10" amount="1"/> <!-- Armour -->
	</buff>
	<description text="This potion magically armours you." />
   </spell>
<spell name="Armouring" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="metal_drop" />
	<buff brittle="7" useTimer="0" time="0" self="1" allowstacking="0" icon="skills/skill_armour.png" smallicon="skills/skill_armour_small.png">
		<secondarybuff id="10" amount="4"/> <!-- Armour -->
	</buff>
	<description text="Your skin hardens like iron around your body yet still bends like flesh. You are magically armoured! Getting hit repeatedly will cause this spell to lose its effect." />
   </spell>
<spell name="Major Armour" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="metal_drop" />
	<buff useTimer="0" time="63" self="1" allowstacking="0" icon="skills/skill_armour.png" smallicon="skills/skill_armour_small.png">
		<secondarybuff id="10" amount="4"/> <!-- Armour -->
	</buff>
	<description text="This potion magically armours you." />
   </spell>

	<!-- HP Buff -->
	
<spell name="Minor Health" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="choir"/>
	<buff useTimer="1" time="70" self="1" allowstacking="1" icon="skills/stat_con64.png" smallicon="skills/stat_con32.png">
		<secondarybuff id="13" amount="1" /> <!-- life regen --> 
		<secondarybuff id="0" amount="5" /> <!-- life --> 
	</buff>
	<description text="This potion enhances your health a bit." />
   </spell>
<spell name="Medium Health" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="choir"/>
	<buff useTimer="1" time="70" self="1" allowstacking="1" icon="skills/stat_con64.png" smallicon="skills/stat_con32.png">
		<secondarybuff id="13" amount="2" /> <!-- life regen --> 
		<secondarybuff id="0" amount="12" /> <!-- life --> 
	</buff>
      <description text="This potion enhances your health." />
   </spell>
<spell name="Major Health" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="choir"/>
	<buff useTimer="1" time="70" self="1" allowstacking="1" icon="skills/stat_con64.png" smallicon="skills/stat_con32.png">
		<secondarybuff id="13" amount="3" /> <!-- life regen --> 
		<secondarybuff id="0" amount="26" /> <!-- life --> 
	</buff>
	<description text="This potion enhances your health a lot." />
   </spell>

   <!-- Poison -->
<spell name="Minor Poison" type="target" >
	<effect type="damage" toxic="1" affectscaster="1"/>
   </spell>
<spell name="Poison" type="target" >
	<effect type="damage" toxic="2" affectscaster="1"/>
   </spell>   
<spell name="Major Poison" type="target" >
	<effect type="damage" toxic="4" affectscaster="1"/>
   </spell>   
   
<spell name="Doom Hit" type="target" >
	<effect type="damage" necromantic="1" affectscaster="1" percent="100" />
   <effect type="damage" necromantic="2" affectscaster="1" percent="50" />
   <effect type="damage" necromantic="4" affectscaster="1" percent="25" />
   <effect type="damage" necromantic="8" affectscaster="1" percent="12" />
   <effect type="damage" necromantic="16" affectscaster="1" percent="6" />
   </spell>    
   
<spell name="Unpleasant Poison" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="darkmagic" />
	<buff useTimer="1" time="20" self="1" allowstacking="1" icon="skills/spells/weakness64.png" smallicon="skills/spells/weakness32.png" bad="1" >
		<secondarybuff id="13" amount="-2" /> <!-- life regen --> 
		<secondarybuff id="0" amount="-5" /> <!-- life --> 
	</buff>
   <effect type="dot" spell="Minor Poison" amount="20" />
	<description text="This potion is quite unpleasant." />
   </spell>

<spell name="Vile Poison" type="target" icon="skills/vile_poison32.png" wand="1" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="darkmagic" />
	<buff
      useTimer="1"
      time="30"
      self="0"
      allowstacking="0"
      stacksize="1"
      icon="skills/vile_poison64.png"
      smallicon="skills/vile_poison32.png"
      bad="1" >
      
		<secondarybuff id="13" amount="-4" /> <!-- life regen --> 
		<secondarybuff id="0" amount="-8" /> <!-- life -->
      <primarybuff id="0" amount="-1" />
      <primarybuff id="1" amount="-1" />
      <primarybuff id="2" amount="-1" />
      <primarybuff id="3" amount="-1" />
      <primarybuff id="4" amount="-1" />
      <primarybuff id="5" amount="-1" />
	</buff>
   <effect type="dot" spell="Minor Poison" amount="30" affectsCaster="0" self="0" requirebuff="1" />
	<description text="This potion does vile things to one's innards." />
   </spell>

<spell name="Terrible Poison" type="self" >
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="darkmagic" />
   <buff useTimer="1" time="42" self="1" allowstacking="1" icon="skills/spells/weakness64.png" smallicon="skills/spells/weakness32.png" bad="1" >
      <secondarybuff id="13" amount="-8" /> <!-- life regen --> 
      <secondarybuff id="0" amount="-10" /> <!-- life -->
      <primarybuff id="0" amount="-2" />
      <primarybuff id="1" amount="-2" />
      <primarybuff id="2" amount="-2" />
      <primarybuff id="3" amount="-2" />
      <primarybuff id="4" amount="-2" />
      <primarybuff id="5" amount="-2" />
   </buff>
   <description text="This potion does unspeakably awful things to one's insides." />
   </spell>

<spell name="Inevitable Doom" type="target" icon="skills/inevitable_doom32.png" wand="1" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="darkmagic" />
	<buff
      useTimer="1"
      time="100"
      self="0"
      allowstacking="0"
      stacksize="1"
      icon="skills/inevitable_doom64.png"
      smallicon="skills/inevitable_doom32.png"
      bad="1" >
      
		<secondarybuff id="13" amount="-4" /> <!-- life regen --> 
		<secondarybuff id="0" amount="-8" /> <!-- life -->
      <primarybuff id="0" amount="-1" />
      <primarybuff id="1" amount="-1" />
      <primarybuff id="2" amount="-1" />
      <primarybuff id="3" amount="-1" />
      <primarybuff id="4" amount="-1" />
      <primarybuff id="5" amount="-1" />
	</buff>
   <effect type="dot" spell="Doom Hit" amount="100" affectsCaster="0" self="0" requirebuff="1" />
	<description text="This being is doomed to die." />
   </spell>

  <!-- Magic charges -->
  
<spell name="Minor Thaumaturgic Charge" type="self" >
   <buff useTimer="1" time="64" stackable="0" self="1" icon="skills/spells/zenziz64.png" smallicon="skills/spells/zenziz32.png">
      <secondarybuff id="1" amount="4"/> <!-- mana -->
      <secondarybuff id="3" amount="2"/> <!-- spellpower -->
      <secondarybuff id="5" amount="3"/> <!-- haywire -->
      <secondarybuff id="11" amount="-5"/> <!-- resist -->
   </buff>
   <description text="Your skin tingles as it sheds extra thaumaturgons; Magic's potency is increased around you."/>
   </spell>
<spell name="Thaumaturgic Charge" type="self" >
   <buff useTimer="1" time="64" stackable="0" self="1" icon="skills/spells/zenziz64.png" smallicon="skills/spells/zenziz32.png">
      <secondarybuff id="1" amount="8"/> <!-- mana -->
      <secondarybuff id="3" amount="4"/> <!-- spellpower -->
      <secondarybuff id="5" amount="6"/> <!-- haywire -->
      <secondarybuff id="11" amount="-10"/> <!-- resist -->
   </buff>
   <description text="Your hair stands on end as it is animated by excess magical energy; Mystical energy is powerful around you."/>
   </spell>
<spell name="Major Thaumaturgic Charge" type="self" >
   <buff useTimer="1" time="64" stackable="0" self="1" icon="skills/spells/zenziz64.png" smallicon="skills/spells/zenziz32.png">
      <secondarybuff id="1" amount="16"/> <!-- mana -->
      <secondarybuff id="3" amount="8"/> <!-- spellpower -->
      <secondarybuff id="5" amount="12"/> <!-- haywire -->
      <secondarybuff id="11" amount="-20"/> <!-- resist -->
   </buff>
   <description text="Your veins crawl with thaumaturgic power they cannot safely contain; You catch flickers of the tiny curled dimensions which you should not. Magic is deadly around you."/>
   </spell>

<!-- Misc Buffs -->

<spell name="Righteous Radiance" type="self" icon="skills/spells/radiant_aura32.png" wand="0">   
	<buff useTimer="1" time="47" icon="skills/spells/radiant_aura64.png" smallicon="skills/spells/radiant_aura32.png">
		<primarybuff id="1" amount="2"/> <!-- Sagacity -->
      <sightbuff amount="2"/>
		<damagebuff righteous="2"/>
		<resistbuff righteous="2"/>
		<halo name="sprites/sfx/glintA/glintA" first="0" num="5" frameRate="100"/>
      </buff> 
	<!-- anim: indicates the spell effect that is used. (this thing is context-sensitive, and is overloaded to poop.) 
		sprite - the sprite directory
		frames - the # of frames, starting at zero (so since mark of chthon has frames from 0 to 17, we have 18 frames total
		sfx - which spell effect noise is used? (there is a list, it's in the source code, I will grudgingly move it out...
		centereffect - is this effect centered on the source tile?      
	-->
	<effect type="trigger" spell="Blinding Flash" />
	<description text="You glow with righteous radiance! This helps you see in the dark, makes you feel smarter than other people, and allows you to judge monsters with righteous fury." />
   </spell>

<spell name="Dire Empowerment" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="naughty" />
	<buff useTimer="1" time="47" allowstacking="0" icon="skills/dire_empowerment64.png" smallicon="skills/dire_empowerment32.png">
		<halo name="sprites/sfx/zalgoA/zalgoA" first="0" num="10" frameRate="100" />
		<secondarybuff id="2" amount="1" /> <!-- melee power -->
		<secondarybuff id="4" amount="2" /> <!-- crit -->
      <resistbuff necromantic="1" />
      <damagebuff necromantic="1" />
		<targetHitEffectBuff percentage="25" name="Zalgohit1" />
      <targetHitEffectBuff percentage="25" name="Zalgohit1" />
      </buff>
   <description text="You are infused with the power of dark magics which grant unnatural strength and necromantic energies." />
   </spell>

<!-- REDO
<spell name="Essence of Yog Sothoth" type="self" icon="items/potion_coffeepot.spr">
  <buff time="50" >
    <primarybuff id="0" amount="3"/>
    <primarybuff id="1" amount="3"/>
    <primarybuff id="2" amount="3"/>
    <primarybuff id="3" amount="3"/>
    <primarybuff id="4" amount="3"/>
    <primarybuff id="5" amount="3"/>
  </buff>
  <description text="Flesh was not built to contain such power. Your heart feels like it is going to explode as your mind reels over the abyss of The Void."/>
  <anim sprite="sprites/parts/impact_necromatic/impact_necromatic" frames="5" sfx="magic"/>
   </spell>
-->

<!--Item specific Spells-->

<!-- Makeshift Bomb Boom ; explodes -->

<spell name="Makeshift Bomb Center" type="target" >
  <effect type="damage" blasting="3" conflagratory="2" affectscaster="1" />
	<anim sprite="sprites/sfx/smallfireexplosion/smallfireexplosion" frames="9" framerate="90" centerEffect="1" sfx="explosion"/>
	<effect type="trigger" spell="Makeshift Bomb Blast" />
   </spell>
<spell name="Makeshift Bomb Blast" type="template" templateID="10" >
  <effect type="damage" blasting="2" conflagratory="1" affectscaster="1" />
  <anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" framerate="80" centerEffect="1" sfx="flame"/>
   </spell>
  
<!-- Iron Bomb Boom ; explodes, some frags -->

<spell name="Iron Bomb Center" type="target" >
   <effect type="damage" blasting="6" conflagratory="4" affectscaster="1" />
   <anim sprite="sprites/sfx/impactB/impactB" frames="5" framerate="100" centerEffect="1" sfx="explosion"/>
   <effect type="trigger" spell="Iron Bomb Blast" />
   </spell>
<spell name="Iron Bomb Blast" type="template" templateID="11" >
   <effect type="damage" blasting="4" conflagratory="2" affectscaster="1" />
   <anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" framerate="80" centerEffect="1" sfx="blast"/>
   </spell>

<!-- Thermite Bomb Boom ; starts fires -->
<spell name="Thermite Center" type="targetfloor" >
	<anim sprite="sprites/sfx/smallfireexplosion/smallfireexplosion" frames="9" framerate="90" centerEffect="1" sfx="explosion"/>
	<effect type="trigger" spell="Thermite Burn" />
	<effect type="trigger" spell="Thermite Blast" />
   </spell>
<spell name="Thermite Burn" 
      type="targetfloor" 
      mine="1" 
      mineradius="1"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/thermite_loop/thermite_loop" 
      mineSpritePNGFirst="0" mineSpritePNGNum="4" mineSpritePNGRate="90" 
      mineTimer="16" 
      minePermanent="1" >
	<effect type="damage" conflagratory="7" affectscaster="1" />
	<anim sprite="sprites/sfx/thermite_hit/thermite_hit" frames="8" framerate="80" sfx="flame_weak" centerEffect="1"/>
</spell>
  
<spell name="Thermite Blast" type="template" templateID="10">
  <effect type="damage" conflagratory="4" blasting="4" affectscaster="1" />
  <anim sprite="sprites/sfx/thermite_hit/thermite_hit" frames="8" framerate="80" sfx="blast"/>
</spell>
  
<spell name="Hollow Thermite Blast" type="template" templateID="09" >
  <effect type="damage" conflagratory="4" blasting="4" affectscaster="1" />
  <anim sprite="sprites/sfx/thermite_hit/thermite_hit" frames="8" framerate="80" sfx="flame"/>
   </spell>

<!-- Frag Bomb Boom ; some explode, lots of frags -->

<spell name="Frag Bomb Center" type="target" >
   <effect type="damage" blasting="8" slashing="6" piercing="2" affectscaster="1" />
   <anim sprite="sprites/sfx/smallfireexplosion/smallfireexplosion" frames="9" framerate="90" centerEffect="1" sfx="explosion"/>
   <effect type="trigger" spell="Frag Bomb Blast" />
   </spell>
<spell name="Frag Bomb Blast" type="template" templateID="99" >
   <effect type="damage" slashing="8" piercing="4" affectscaster="1" />
   <anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" framerate="80" centerEffect="1" sfx="metal_get"/>
   </spell>

<!-- Concussion Bomb -->

<spell name="Concussion Bomb Center" type="target" >
   <effect type="damage" blasting="6" affectscaster="1" />
   <anim sprite="sprites/sfx/blastB/blastB" frames="4" framerate="90" centerEffect="1" sfx="explosion"/>
   <effect type="trigger" spell="Concussion Bomb Blast" />
   <effect type="knock" amount="2" self="0"/>
   </spell>
<spell name="Concussion Bomb Blast" type="template" templateID="11" >
   <effect type="damage" blasting="4" affectscaster="1" />
   <effect type="knock" amount="1" self="0"/>
   <anim sprite="sprites/sfx/blastB/blastB" frames="4" framerate="80" centerEffect="1" sfx="blast"/>
   </spell>  

<!-- Grenade Blast -->

<spell name="Grenade Center" type="target" >
   <effect type="damage" blasting="14" slashing="6" piercing="4" affectscaster="1" />
   <anim sprite="sprites/sfx/blastB/blastB" frames="4" framerate="70" centerEffect="1" sfx="explosion"/>
   <effect type="trigger" spell="Grenade Blast" />
   </spell>
<spell name="Grenade Blast" type="template" templateID="11" >
   <effect type="damage" slashing="12" blasting="5" piercing="4" affectscaster="1" />
   <anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" framerate="80" centerEffect="1" sfx="blast"/>
   </spell>  

<!-- Other Special Thrown Effects -->

<spell name="Bolas Root" type="target" >
	<!-- <effect type="paralyze" turns="5" /> -->
   <effect type="lockdown" amount="5" />
   <buff useTimer="1" time="5" allowstacking="1" icon="skills/bolas_root64.png" smallicon="skills/bolas_root32.png" bad="1" self="0">
      <secondarybuff id="6" amount="-8"/> <!-- dodge -->
      </buff>
   <description text="Rooted by bolas! Dodging is more difficult, movement is impossible." />
	<anim sprite="sprites/sfx/skathas_roots/skathas_roots" frames="6" centerEffect="0"/>
   </spell>

<!-- Special Bolt Effects-->

<spell name="Clockwork Drill Hit" type="target" >
  <effect type="trigger" spell="Fleshbore"/>
  <anim sprite="sprites/sfx/corpse_hit_mini/corpse_hit_mini" frames="4" framerate="100" sfx="impact" centerEffect="0"/>
  </spell>
<!-- Oh god there were two of these in the spelldb
<spell name="Ignition Bolt" type="target" >
	<effect type="damage" conflagratory="1" affectscaster="1" />
	<anim sprite="sprites/sfx/fireburst/fireburst" frames="7" framerate="80" sfx="flame_weak"/>
   </spell>-->

<spell name="Big Dig" type="template" templateID="100" >
   <effect type="dig" regengfx="1"/>
   <effect type="damage" blasting="16" />
   <anim sprite="sprites/sfx/digging_ray_hit/digging_ray_hit" frames="9" framerate="90" sync="1" sfx="magic" centerEffect="1"/>
</spell>

<spell name="Mass Destruction" type="target" >
   <effect type="trigger" spell="Thermite Center" />
   <effect type="trigger" spell="Generic Fireball" />
   <effect type="trigger" spell="Big Dig" />
   <effect type="trigger" spell="Burning Blinding Flash" />
   </spell>

<!-- Acid Flask Pool -->

<spell name="Weak Acid Pool" type="targetfloor" 
   mine="1" 
   mineTimer="20"
   mineradius="1" 
   minePermanent="1"       
   mineSpritePNGSeries="sprites/sfx/acidpool/acidpool" 
   mineSpriteDrawOrder="0"
   mineSpritePNGFirst="0" 
   mineSpritePNGNum="4" 
   mineSpritePNGRate="100" >
   <effect type="damage" acidic="1" affectscaster="1" />
   <!-- <anim sprite="sprites/sfx/manafount/manafont" frames="6" sfx="magic" centerEffect="1"/> -->
   <ai hint="mine" />
   </spell>
<spell name="Acid Pool" type="targetfloor" 
   mine="1" 
   mineTimer="20"
   mineradius="1" 
   mineSpriteDrawOrder="0" 
   minePermanent="1"  
   minespritePNGSeries="sprites/sfx/acidpool/acidpool" 
   mineSpritePNGFirst="0" 
   mineSpritePNGNum="4" 
   mineSpritePNGRate="100" >
   <effect type="damage" acidic="3" affectscaster="1" />
   <!-- <anim sprite="sprites/sfx/manafount/manafont" frames="6" sfx="magic" centerEffect="1"/> -->
   </spell>
<spell name="Strong Acid Pool" type="targetfloor" 
   mine="1" 
   mineTimer="20"
   mineradius="1" 
   minePermanent="1"
   mineSpriteDrawOrder="0"
   minespritePNGSeries="sprites/sfx/acidpool/acidpool" 
   mineSpritePNGFirst="0" 
   mineSpritePNGNum="4" 
   mineSpritePNGRate="100" >
   <effect type="damage" acidic="6" affectscaster="1" />
   <!-- <anim sprite="sprites/sfx/manafount/manafont" frames="6" sfx="magic" centerEffect="1"/> -->
   </spell>

<!-- Poison Flask Cloud -->

<spell name="Small Weak Poison Cloud" 
      type="targetfloor" 
      icon="skills/spells/conjure_miasma32.png" 
      mineTimer="12" 
      mineUseGlints="1" 
      mineGlintDensity="8"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/skullpuffB/skullpuffB" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="10" 
      mineSpritePNGRate="140" 
      mine="1" 
      mineradius="1"
      minePermanent="1" >
   <effect type="damage" toxic="1" asphyxiative="1" affectscaster="1" />
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" framerate="100" centerEffect="1" />
   </spell>

<spell name="Weak Poison Cloud" 
      type="targetfloor" 
      icon="skills/spells/conjure_miasma32.png" 
      mineTimer="12" 
      mineUseGlints="1" 
      mineGlintDensity="8"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/skullpuffB/skullpuffB" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="10" 
      mineSpritePNGRate="140" 
      mine="1" 
      mineradius="2"
      minePermanent="1" >
   <effect type="damage" toxic="1" asphyxiative="1" affectscaster="1" />
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" framerate="100" centerEffect="1" />
  <ai hint="target"/>
</spell>

<spell name="Poison Cloud 1" 
      type="targetfloor" 
      icon="skills/spells/conjure_miasma32.png" 
      mineTimer="12"
      mineUseGlints="1" 
      mineGlintDensity="8"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/skullpuff/skullpuff" 
      mineSpritePNGFirst="0" 
      mineSpritePNGNum="10" 
      mineSpritePNGRate="140" 
      mine="1" 
      mineradius="2"
      minePermanent="1" >
   <effect type="damage" toxic="2" asphyxiative="2" affectscaster="1" />
   <anim sprite="sprites/sfx/miasmapuffbig/miasmapuffbig" frames="6" framerate="100" centerEffect="1" />
   </spell>

<!-- Purely visual -->
<spell name="Blast Effect A" type="target" >
  <effect type="damage" blasting="1"/>
	<anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="80" sfx="magic" centerEffect="0"/>
</spell>
  
<spell name="Fire 0" 
      type="targetfloor" 
      mine="1" 
      mineradius="1"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/burnA/burnA" 
      mineSpritePNGFirst="0" mineSpritePNGNum="4" mineSpritePNGRate="100" 
      mineTimer="10" 
      minePermanent="1" >
   <effect type="damage" conflagratory="3" affectscaster="1" />
   <anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" framerate="80" sfx="flame_weak" centerEffect="1"/>
   </spell>
<spell name="Fire 1" 
      type="targetfloor" 
      mine="1" 
      mineradius="1"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/burnA/burnA" 
      mineSpritePNGFirst="0" mineSpritePNGNum="4" mineSpritePNGRate="90" 
      mineTimer="10" 
      minePermanent="1" >
   <effect type="damage" conflagratory="6" affectscaster="1" />
   <anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" framerate="80" sfx="flame_weak" centerEffect="1"/>
   </spell>
<spell name="Arc 1" 
      type="targetfloor" 
      mine="1" 
      mineradius="1"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/arcA/arcA" 
      mineSpritePNGFirst="0" mineSpritePNGNum="4" mineSpritePNGRate="90" 
      mineTimer="5" 
      minePermanent="1" >
   <effect type="damage" voltaic="2" voltaicF="0.2" affectscaster="1" />
   <anim sprite="sprites/sfx/voltaic_hit/voltaic_hit" frames="8" framerate="90" sfx="elec" />
   </spell>

<!-- For Lutefisk Paradox -->
<spell name="Lutefisk Blast 1" type="template" templateID="98" >
  <effect type="damage" blasting="7" blastingF="0.10" affectscaster="1" />
  <anim sprite="sprites/sfx/thermite_hit/thermite_hit" frames="8" framerate="40" sfx="blast"/>
   </spell>
<spell name="Lutefisk Blast 2" type="template" templateID="99" >
  <effect type="damage" blasting="7" blastingF="0.10" affectscaster="1" />
  <anim sprite="sprites/sfx/thermite_hit/thermite_hit" frames="8" framerate="40" sfx="blast"/>
   </spell>
<spell name="Lutefisk Blast 3" type="template" templateID="100" >
  <effect type="damage" blasting="7" blastingF="0.10" affectscaster="1" />
  <anim sprite="sprites/sfx/thermite_hit/thermite_hit" frames="8" framerate="40" sfx="blast"/>
   </spell>

<spell name="Lutefisk Paradox" type="self" icon="skills/spells/infernal_torus32.png">
  <effect type="trigger" spell="Flamefield 2" amount="0" />
  <!-- Because you're worth it. -->
  <effect type="trigger" spell="Lutefisk Blast 1" amount="0" />
  <effect type="trigger" spell="Lutefisk Blast 2" amount="0" />
  <effect type="trigger" spell="Lutefisk Blast 3" amount="0" />
  <anim sprite="sprites/sfx/fireburst/fireburst" frames="7" framerate="90" sfx="magic" centerEffect="1"/>
  <impact sprite="sprites/sfx/combust_hit/combust_hit" frames="9" framerate="100" sfx="flame" centerEffect="1"/>
  <description text="It's the lutefisk paradox, run!" />
</spell>
  
  

<!-- Random Spells -->

<spell name="Boulderization" type="missile" icon="skills/spells/boulderization32.png" wand="1">
   <requirements mp="20" savvyBonus="0.20" mincost="4" />
   <effect type="damage" crushing="15" crushingF="0.2" />
   <effect type="knock" amount="1" self="0"/>
   <impact sprite="sprites/sfx/boulder_hit/boulder_hit" frames="7" sfx="earth" framerate="80"  centerEffect="0"/>
   <anim sprite="sprites/sfx/boulder.png" frames="1" sfx="earth"/>
   <description text="Calls forth a boulder from The Elemental Plane Of Large Rocks That Fly Around At Dangerous Velocities which slams through foes, pushing them aside while mashing their squishy-bits to a fine paste."/>
   </spell>
<!-- laser -->
<spell name="Laser Blast" type="target" icon="skills/placeholder32.png" wand="1">
	<effect type="damage" blasting="6" conflagratory="6"  aethereal="4" affectscaster="1"/>
	<description text="Pew pew, laser!"/>
	<anim sprite="sprites/sfx/celestial_hit/celestial_hit" frames="8" sfx="magic_damage" framerate="80"  centerEffect="0"/>
   <effect type="trigger" spell="Fire 1" />
   </spell>


<!-- <3 -->
<spell name="This Root Shall Suffer" type="self" >
   <effect type="trigger" percent="50" spell="Dire Empowerment" amount="6" />
   <effect type="trigger" percent="50" spell="Froda's Jump Discontinuity" amount="9" />
   <effect type="trigger" percent="50" spell="Unholy Warcry" amount="9" />
   <effect type="trigger" percent="30" spell="Rune of Exploding" amount="11" />
   <effect type="trigger" percent="30" spell="Rune of Exploding" amount="13" />
   <effect type="trigger" percent="30" spell="Rune of Exploding" amount="15" />
   <effect type="trigger" percent="30" spell="Rune of Exploding" amount="17" />
   <effect type="trigger" percent="50" spell="Froda's Jump Discontinuity" amount="12" />
   <effect type="trigger" percent="30" spell="Lutefisk Blast 2" amount="14" />
   <effect type="trigger" percent="30" spell="Unholy Warcry" amount="16" />
   <effect type="trigger" percent="30" spell="Unholy Warcry" amount="9" />
   <effect type="trigger" percent="30" spell="Flamefield 1" amount="19" />
   <effect type="trigger" percent="50" spell="Fire 1" amount="24" />
   <effect type="trigger" percent="50" spell="Froda's Jump Discontinuity" amount="25" />
   <effect type="trigger" percent="50" spell="Hollow Thermite Blast" amount="25" />
   <effect type="trigger" percent="50" spell="Froda's Jump Discontinuity" amount="33" />
   <effect type="trigger" percent="50" spell="Rune of Exploding" amount="33" />
   <effect type="trigger" percent="50" spell="Rune of Exploding" amount="37" />
   <effect type="trigger" percent="50" spell="Rune of Exploding" amount="38" />
   <effect type="trigger" percent="50" spell="Rune of Exploding" amount="40" />
   <effect type="trigger" percent="50" spell="Froda's Jump Discontinuity" amount="44" />
   <effect type="trigger" percent="50" spell="Tentacular Doom" amount="52" />
   <effect type="trigger" percent="50" spell="Voltaic Arc 2" amount="35" />
   <effect type="trigger" percent="50" spell="Voltaic Arc 1" amount="41" />
   <effect type="trigger" percent="50" spell="Voltaic Arc 1" amount="18" />
   </spell>
   

<!-- fountain effects -->
  <fountain name="Touch of Midas" text="You find a shiny penny in the fountain."/>
  <fountain name="Armouring" text="You feel defended."/>
  <fountain name="Invisibility" text="You feel transparent and at one with the water."/>
  <fountain name="Medium Burl" text="You feel burly."/>
  <fountain name="Medium Regen" text="Your body just got a little moister."/>
  <fountain name="Clear Vision" text="When you gaze into the water, everything seems so clear..."/>
  <fountain name="Azure Magicks" text="There are little mushrooms growing in the water! How cute. Also, disgusting."/>
  <fountain name="Regal Vim" text="You feel like a prince."/>
  <fountain name="Plaid Power" text="The water irradiates you with mystical plaid energy."/>
  <fountain name="Curse Removal" text="You feel refreshed."/>
  <fountain name="Dire Empowerment" text="Your mind overflows with dark thoughts."/>
  <fountain name="Hyperborean Empowerment" text="Brr! This water's cold!"/>
  <fountain name="Infernal Empowerment" text="Wow, this water's boiling!"/>

  
  <fountain name="Unpleasant Poison" text="The water is poisoned! Curses!"/>
  <fountain name="Acid Burn" text="The water burns like acid! The water IS acid!"/>
  <fountain name="Lingering Weakness" text="This water tastes foul! You feel sick."/>
  <fountain name="Lingering Dullness" text="This water tastes foul! You feel stupid."/>

<!-- 1.0.3 spells -->

<spell name="Alcohol Poisoning" type="target">
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="darkmagic" />
   <effect type="damage" toxic="4" self="1" />
   <buff useTimer="1" time="12"
         allowstacking="1"
         icon="skills/alcohol_poisoning64.png"
         smallicon="skills/alcohol_poisoning32.png"
         bad="1" >
      <halo name="sprites/sfx/glintA/glintA" first="0" num="5" frameRate="100"/>
      <secondarybuff id="0" amount="-3"/> <!-- hp -->
      <secondarybuff id="1" amount="-3"/> <!-- mp -->
      <primarybuff id="2" amount="-1"/> <!-- nim -->
      <sightbuff amount="-1" />
      </buff>
   <description text="Ugh, looks like you overdid it a touch."/>
</spell>

<spell name="Hungry Hero" type="self" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="darkmagic" />
	<buff useTimer="1" time="35" self="1" allowstacking="1" icon="skills/hungry64.png" smallicon="skills/hungry32.png" bad="1" >
      <primarybuff id="0" amount="-1" />
      <primarybuff id="1" amount="-1" />
      <primarybuff id="2" amount="-1" />
      <primarybuff id="3" amount="-1" />
      <primarybuff id="4" amount="-1" />
      <primarybuff id="5" amount="-1" />
	</buff>
	<description text="Hero needs food ... badly!" />
   </spell>

<!-- 1.0.4 spells -->

<!-- Power Overwhelming -->
<spell name="Thaumaturgic Conflux" type="self" icon="skills/wizard/leylines2_64.png">
   <buff useTimer="1" allowstacking="0" time="20" icon="skills/conflux64.png" smallicon="skills/conflux32.png" >
      <halo name="sprites/sfx/conflux/conflux" first="0" num="3" frameRate="100"/>
      <secondarybuff id="14" amount="10"/> <!-- mana regen -->
      <secondarybuff id="3" amount="5"/> <!-- magpow -->
      <secondarybuff id="11" amount="-15"/> <!-- resist -->
      </buff>
   <description text="Power ... overwhelming. It burns like a chili cookoff!"/>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="portal" />
   </spell>

<!-- Doesn't work.
<spell name="Diggle Egg Lay" type="targetfloor" >
   <effect type="spawn" itemname="Diggle Egg" amount="1"/>
   <ai hint="mine"/>
   </spell>
  -->
  
<!-- Curses:
   - easy target
   - nice guy
   - ???
   -->

<spell name="Easy Target Curse" type="target" icon="skills/spells/easy_target32.png" wand="1" >
	<anim sprite="sprites/sfx/target/target" frames="5" framerate="90" sfx="cursed" centerEffect="1"/>
	<buff useTimer="0" brittle="1" self="0" stacksize="1" allowstacking="0" icon="skills/spells/easy_target64.png" smallicon="skills/spells/easy_target32.png" bad="1">
      <secondarybuff id="6" amount="-15"/> <!-- dodge -->
      </buff>
   <description text="The subject of this unfortunate curse finds their enemies' strikes landing rather more often than mundane statistics would suggest."/>
</spell>

<spell name="Generic Fireball" type="targetfloor" icon="skills/spells/fireball32.png" wand="1" >
	<effect type="damage" blasting="10" conflagratory="10" affectscaster="1" />
   <anim sprite="sprites/sfx/fireball/fireball" frames="7" firstframe="0" framerate="90" centerEffect="1" sfx="explosion" />
	<effect type="trigger" spell="Flamefield 1" amount="0" />
	<effect type="trigger" spell="Fireball Effect" amount="0" />
	<description text="It's a giant fireball. It goes BOOM. Then with the burning. Oh god, the burning. What more do you want?" />
   </spell>
<spell name="Generic Fireball Effect" type="template" templateID="98" anchored="0" >
   <effect type="damage" conflagratory="10" blasting="10" affectscaster="1" />
   <anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" firstframe="0" framerate="90" sfx="fireball" centerEffect="0"/>
   </spell>

<spell name="Generic Blinding Flash" type="self" icon="skills/spells/blinding_light32.png" wand="1">
	<effect type="trigger" spell="Generic Blinding Area Hit" amount="0" />
	<anim sprite="sprites/sfx/blinding_flash/blinding_flash" frames="8" sfx="magic_damage" framerate="60" centerEffect="0" />
	<description text="Blinds those in a ring around you with a burning flash of light."/>
   </spell>
<spell name="Generic Blinding Area Hit" type="template" templateID="20" >
	<effect type="damage" righteous="10" aethereal="5" self="0" affectscaster="1" />
	<effect type="paralyze" amount="2" turns="4" self="0" />
	<anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" />
   </spell>

<spell name="Generic Tentacular Doom" type="targetfloor" icon="skills/spells/eldritch_pillar32.png"
		mineTimer="5" 
		mineUseGlints="1" 
		mineGlintDensity="16" 
		mineSpritePNGSeries="sprites/sfx/zalgoA/zalgoA"  
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="10" 
		mineSpritePNGRate="100" 
		mine="1"
      mineSpriteDrawOrder="1"
		mineradius="4"
		minePermanent="1" >
	<requirements mp="12" savvyBonus="0.25" />
	<effect type="damage" necromantic="5" aethereal="2" affectsCaster="1" />
	<effect type="dot" spell="Zalgo1" amount="1" />
	<anim sprite="sprites/sfx/corpus_burst/corpus_burst" frames="7" framerate="100" sfx="magic_damage" centerEffect="1" />
	<description text="Open one of your six mouths and sing the song that ends the Earth." />  
   </spell>

<spell name="Fungal Mana 0" type="self" >
   <effect type="spellpoints" amount="1" />
   </spell>	
<spell name="Nightcap Fungal Mana" type="self" icon="skills/skill_mushroomlore.png" >
	<effect type="spellpoints" amount="6" />
	<effect type="dot" self="1" resistable="0" amount="8" spell="Fungal Mana 0" />
	<anim sprite="sprites/sfx/goosplatA/goosplatA" frames="4" framerate="100" sfx="magic_damage" />
	<description text="The Nightcap replenishing your mana with tingling fungual power."/>
	<buff useTimer="1" time="8" allowstacking="1" icon="skills/fungal_mana64.png" smallicon="skills/fungal_mana32.png">
      </buff>
   </spell>

<spell name="Tesla's Bolt Hit" type="target" wand="0" >
   <effect type="damage" affectsCaster="1" voltaic="9" voltaicF="0.05" blasting="1" />
   <effect type="paralyze" amount="2" affectsCaster="1" turns="1" self="0" />
   <anim sprite="sprites/sfx/voltaic_hit/voltaic_hit" frames="8" framerate="80" sfx="elec" />
   <effect type="trigger" spell="Blast Effect A" />
   <description text="A lightning strike inspired by the Wizard Tesla. Indoor use only."/>
   </spell>

<spell name="Monstrous Nerve Staple" type="target" icon="skills/spells/nerve_staple32.png" >
   <requirements mp="14" savvyBonus="0.25" mincost="3" />
   <effect type="damage" existential="9" existentialF="0.45" />
   <effect type="paralyze" turns="1" self="0" />
   <anim sprite="sprites/sfx/rage/rage" frames="3" framerate="50" sfx="disintegrate" />  
   <buff useTimer="1" time="20" stacksize="3" self="0" bad="1" icon="skills/spells/nerve_staple64.png" smallicon="skills/spells/nerve_staple32.png">
      <primarybuff id="1" amount="-3"/> <!-- Sag -->
      <primarybuff id="3" amount="-3"/> <!-- cad -->
      <primarybuff id="4" amount="-3"/> <!-- stu -->
      <primarybuff id="5" amount="-3"/> <!-- sav -->
      <secondarybuff id="11" amount="-10"/> <!-- resist -->
      <resistbuff existential="20" />
      </buff>
   <description text="Deals crippling existential damage to one being. Indiscrete use of this spell may provoke economic sanctions." />
   </spell>

<!-- 106 spells -->

<spell name="Weak Acidhit" type="target" >
   <effect type="damage" acidic="1" affectsCaster="1" />
</spell>
  
<spell name="Weak Acid Burn" type="target" icon="skills/spells/acid_burn32.png" wand="1">
	<effect type="damage" bleed="1" acidic="3" affectsCaster="1"/>
	<anim sprite="sprites/sfx/acid_burn/acid_burn" frames="7" sfx="magic" framerate="100" centerEffect="1"/>
	<buff useTimer="1" time="5" stacksize="1" allowstacking="0" self="0" icon="skills/spells/acid_burn64.png" smallicon="skills/spells/acid_burn32.png" bad="1">
		<halo name="sprites/sfx/acid_puff/acid_puff" first="0" num="6" frameRate="100"/>
		<secondarybuff id="0" amount="-4"/> <!-- hp -->
		<secondarybuff id="10" amount="-1"/> <!-- armor -->
		<resistbuff crushing="-1" slashing="-1"/>
   </buff>
   <effect type="dot" amount="5" spell="Acidhit0" />
   <description text="This moderately deadly acid burns flesh and armour alike. But just moderately." />
</spell>

<spell name="Weak Acid Bolt" type="missile" >
   <effect type="damage" blasting="1" affectsCaster="1" />
   <anim sprite="sprites/sfx/acid_bolt/acid_bolt" frames="3" framerate="80" sfx="missile" />
   <effect type="trigger" spell="Weak Acid Burn" />
   <effect type="trigger" spell="Weak Acid Pool" />
   </spell>

<spell name="Mosolov Cocktail Hit" type="target" >
   <effect type="damage" conflagratory="6" affectscaster="1" sfx="flame_weak"/>
   <effect type="trigger" spell="Blast Effect A" />
   <effect type="trigger" spell="Fire 0" />   
   </spell>

<spell name="Necromantic Blinding" type="self">
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="darkmagic" />
   <buff useTimer="1" time="33"
         allowstacking="1"
         icon="skills/spells/necroblind64.png"
         smallicon="skills/spells/necroblind32.png"
         bad="1" self="1">
      <halo name="sprites/sfx/glintA/glintA" first="0" num="5" frameRate="100"/>
      <secondarybuff id="17" amount="-1"/> <!-- trap sight -->
      <primarybuff id="2" amount="-1"/> <!-- nim -->
      <sightbuff amount="-1" />
      </buff>
   <description text="Exposure to black magics has leapt from figurative to literal by dimming the light in yours eyes."/>
   </spell>

<spell name="Pedantic Beating" type="target" wand="0">
   <effect type="paralyze" amount="2" turns="2" />
   <effect type="damage" crushing="4" crushingF="0.5" primaryScale="0" />
   <description text="Will they ever learn?" />
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="blast" />
   </spell>

<!-- 107+ spells -->

<!-- let's clean this up. -->
<spell name="Manadot1" type="self" >
   <effect type="spellpoints" amount="1" />
   </spell>
<spell name="Manadot2" type="self" >
   <effect type="spellpoints" amount="2" />
   </spell>

<!-- 1.0.8 spells -->

  <spell name="Antimagic Field" type="target" icon="skills/antimagic32.png" wand="1" >
    <anim sprite="sprites/sfx/target/target" frames="5" framerate="90" sfx="cursed" centerEffect="1"/>
    <buff
          useTimer="1"
          time="15"
          self="0"
          stacksize="1"
          allowstacking="0"
          icon="skills/antimagic64.png"
          smallicon="skills/antimagic32.png"
          bad="1">
      <mute amount="1"/>
    </buff>
    <description text="Your magical energies have been suppressed by anti-magical energy forces."/>
  </spell>

  <spell name="Antimagic Cloud"
        type="targetfloor"
        icon="skills/spells/conjure_miasma32.png"
        mineTimer="24"
        mineUseGlints="1"
        mineGlintDensity="8"
        mineSpriteDrawOrder="1"
        mineSpritePNGSeries="sprites/sfx/skullpuffB/skullpuffB"
        mineSpritePNGFirst="0"
        mineSpritePNGNum="10"
        mineSpritePNGRate="140"
        mine="1"
        mineradius="2"
        minePermanent="1" >
    <effect type="trigger" affectscaster="0" spell="Antimagic Field" />
    <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" framerate="100" centerEffect="1" />
    <ai hint="mine"/>
  </spell>

<spell name="Lesser Targeted Mana Drain" type="missile" wand="0">
   <effect type="drainMana" amount="25"/>
   <anim sprite="sprites/sfx/energy_ball/energy_ball" frames="6" framerate="80" />
   <impact sprite="sprites/sfx/arcA/arcA" frames="4" framerate="80" centerEffect="0" sfx="weakness" />
   <description text="Well, snap. There goes your magic."/>
   </spell>

<spell name="Targeted Mana Drain" type="missile" wand="0">
   <effect type="drainMana" amount="50"/>
   <anim sprite="sprites/sfx/energy_ball/energy_ball" frames="6" framerate="80" />
   <impact sprite="sprites/sfx/arcA/arcA" frames="4" framerate="80" centerEffect="0" sfx="weakness" />
   <description text="Well, snap. There goes your magic."/>
   </spell>

<spell name="Greater Targeted Mana Drain" type="missile" wand="0">
   <effect type="drainMana" amount="90"/>
   <anim sprite="sprites/sfx/energy_ball/energy_ball" frames="6" framerate="80" />
   <impact sprite="sprites/sfx/arcA/arcA" frames="4" framerate="80" centerEffect="0" sfx="weakness" />
   <description text="Well, snap. There goes your magic."/>
   </spell>

  <spell name="Bullseye Curse" type="target" icon="skills/spells/easy_target32.png" wand="1" >
    <anim sprite="sprites/sfx/target/target" frames="5" framerate="90" sfx="cursed" centerEffect="1"/>
    <buff useTimer="0" brittle="1" self="0" stacksize="1" allowstacking="0" icon="skills/spells/easy_target64.png" smallicon="skills/spells/easy_target32.png" bad="1">
      <secondarybuff id="6" amount="-50"/>
      <secondarybuff id="11" amount="-50"/>
      <!-- dodge -->
    </buff>
    <description text="The subject of this unfortunate curse has no defense against anything whatsoever. Jinkies!"/>
  </spell>

<spell name="Thaumoentropic Missile" type="missile" icon="skills/magic_license32.png" downtime="14" >
   <effect type="damage" aetherealF="0.25" />
   <effect type="pacify" amount="1" />
   <effect type="trigger" spell="Antimagic Field" />
   <description text="You have a license to cast and to take away the right to cast. Any monster hit by this spell will lose their casting ability for a short time." />
   <anim sprite="sprites/sfx/aetherial_missile/aetherial_missile" frames="6" framerate="100" sfx="aetherial" />
   <impact sprite="sprites/sfx/impactA/impactA" frames="6" framerate="80" sfx="blast" centerEffect="0"/>
   </spell>

<spell name="Leyline Siphoning" type="self" downtime="30" icon="skills/magic_tap32.png" >
   <effect type="spellpoints" amount="2" />
   <description text="Effecting your knowledge of leylines, you are siphoning vital essence from the aethereal realm. Try not to anger any outer beings by doing this too much."/>
   <buff
      useTimer="1"
      time="12"
      stackable="0"
      icon="skills/magic_tap64.png"
      smallicon="skills/magic_tap32.png">
   </buff>
   <effect resistable="0" type="dot" spell="Regen Mana 2" amount="12" />
   <anim sprite="sprites/sfx/manafount/manafont" frames="7" framerate="100" sfx="white"/>
   </spell>


<spell name="Extra-planar Concentration" downtime="63" type="self" icon="skills/extraplanar_concentration32.png" >
   <effect type="spellpoints" amount="2" />
   <description text="Extremely intense concentration allows you to greatly increase your mana regeneration for a short while. Such concentration may cause you to forget that you're in a dungeon filled with murderous monsters, so please be mindful of your surroundings when entering this state of mind."/>
   <buff
      useTimer="1"
      time="9"
      icon="skills/extraplanar_concentration64.png"
      smallicon="skills/extraplanar_concentration32.png">
      <secondarybuff id="18" amount="-2" /> <!-- sight -->
      <secondarybuff id="1" amount="10" /> <!-- mana -->
      <secondarybuff id="14" amount="15" /> <!-- mana regen -->
      <secondarybuff id="6" amount="-50" /> <!-- dodge -->
      <secondarybuff id="7" amount="-50" /> <!-- block -->
      <secondarybuff id="8" amount="-50" /> <!-- counter -->
   </buff>
   <effect type="dot" resistable="0" spell="Regen Mana 3" amount="9" />
   <anim sprite="sprites/sfx/arcA/arcA" frames="4" framerate="100" sfx="white"/>
   </spell>

<spell name="Blood Mana" type="self" icon="skills/skill_bloodmagic.png" >
   <effect percent="100" type="spellpoints" amount="1" amountF="0.05" taxa="Animal" />
   <effect percent="100" type="spellpoints" amount="1" amountF="0.05" taxa="Demon" />
   <effect percent="100" type="spellpoints" amount="1" amountF="0.05" taxa="Other" />   
   </spell>

<spell name="Vital Siphon" type="target" icon="skills/vital_siphon32.png" >
   <!-- somewhat uneven gain here -->
   <effect percent="100" type="spellpoints" amountF="0.05" amount="1" taxa="Animal"/>
   <effect percent="100" type="spellpoints" amountF="0.05" amount="1" taxa="Demon"/>
   <effect percent="100" type="spellpoints" amountF="0.05" amount="1" taxa="Other"/>
   <effect percent="25" type="spellpoints" amountF="0.05" amount="1" />
   </spell>

<spell name="Psychic Vampire" type="target" icon="skills/psychic_vampire32.png" >
   <!-- somewhat uneven gain here -->
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" />  
   <effect percent="50" type="confuse" self="0" amount="7"/>
   <effect percent="80" type="spellpoints" amount="1" />
   <effect percent="50" type="spellpoints" amountF="0.1" />
   <effect percent="25" type="spellpoints" amountF="0.05" amount="1" />
   <description text="Blah!" />
   </spell>

  <spell name="Enormous Blinding Mist Cloud"
      type="targetfloor"
      mineTimer="16"
      mineUseGlints="1"
      mineGlintDensity="10"
        mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/lethian_mist_mini/lethian_mist_mini"
      mineSpritePNGFirst="0"
      mineSpritePNGNum="6"
      mineSpritePNGRate="100"
      mine="1"
      mineradius="4" >
    <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" sfx="magic" centerEffect="1"/>
    <effect type="trigger" spell="Darkened Vision" />
    <effect type="damage" asphyxiative="2" />
  </spell>

<spell name="Ennui" type="target" icon="skills/bored32.png" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" centerEffect="1" sfx="darkmagic" />
	<buff useTimer="1" time="30" self="0" stackable="1" stacksize="2" icon="skills/bored64.png" smallicon="skills/bored32.png" bad="1" >
      <primarybuff id="0" amount="-1" />
      <primarybuff id="1" amount="-1" />
      <primarybuff id="2" amount="-1" />
      <primarybuff id="3" amount="-1" />
      <primarybuff id="4" amount="-1" />
      <primarybuff id="5" amount="-1" />
      <secondarybuff id="6" amount="-10" /> <!-- dodge -->
      <secondarybuff id="7" amount="-10" /> <!-- block -->
      <secondarybuff id="8" amount="-10" /> <!-- counter -->
	</buff>
	<description text="Trying to care ... failing. Meh; ability to do anything useful is much reduced." />
</spell>

<spell name="Depressing Antimagic Cloud"
        type="targetfloor"
        icon="skills/spells/conjure_miasma32.png"
        mineTimer="24"
        mineUseGlints="1"
        mineGlintDensity="8"
        mineSpriteDrawOrder="1"
        mineSpritePNGSeries="sprites/sfx/skullpuffB/skullpuffB"
        mineSpritePNGFirst="0"
        mineSpritePNGNum="10"
        mineSpritePNGRate="140"
        mine="1"
        mineradius="2"
        minePermanent="1" >
    <effect type="trigger" affectscaster="1" spell="Antimagic Field" />
    <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" framerate="100" centerEffect="1" />
    <ai hint="mine"/>
</spell>
  
<!-- for berserk -->
<!-- wow, do we ever need to make sure this gets consumed by ranged attacks -->
<spell name="Killing Blow" downtime="40" type="self" icon="skills/killing_blow32.png" >
   <anim sprite="sprites/sfx/rage/rage" frames="3" framerate="50" sfx="ping" />
	<buff useTimer="0" self="1" attacks="1" stackable="0" stacksize="1" icon="skills/killing_blow64.png" smallicon="skills/killing_blow32.png" >
		<effect type="buff" self="1" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" sfx="magic" />
      <secondarybuff id="2" amount="5"/> <!-- melee power --> 
      <secondarybuff id="4" amount="100"/> <!-- crit --> 
	</buff>
	<description text="Your next attack is going to make a real splash."/>
   </spell>  

<!-- for perception -->
<spell name="Third Sight" downtime="32" anchored="1" type="template" templateID="101" icon="skills/see_invisible32.png" wand="1" >
   <description text="Reveal all that is hidden."/>
   <effect type="removeinvisibility"/>  
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" sfx="magic" />
   </spell>
<spell name="Eye Laser Blast" type="target" downtime="32" icon="skills/eye_lasers32.png" wand="0">
   <effect type="damage" blasting="12" blastingF="1" conflagratory="8" conflagratoryF="1" aethereal="8" aetherealF="1" secondaryScale="18" affectscaster="1"/>
	<description text="Pew pew, laser!"/>
	<anim sprite="sprites/sfx/celestial_hit/celestial_hit" frames="8" sfx="magic_damage" framerate="80"  centerEffect="0"/>
   <effect type="trigger" spell="Fire 1" />
   </spell>

<!-- for blood magic -->
<spell name="Create Haematic Phylactery" type="self" downtime="100" consumeItem="0" icon="skills/haematic_phylactery32.png">
	<description text="Pour your blood and soul into a secret hidden thing that you can tap when the need is greatest."/>
	<effect type="spawn" itemname="Haematic Phylactery" amount="1"/>
   <effect type="trigger" spell="Haematic Drain" />
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="ping"/>
   </spell>

<!-- TODO  Haematic Drain debuff -->
<spell name="Haematic Drain" type="self" >
	<anim sprite="sprites/sfx/bloodmagic/bloodmagic" frames="7" framerate="100" centerEffect="1" />
	<buff useTimer="0" allowstacking="1" stacksize="20" icon="skills/haematic_phylactery64.png" smallicon="skills/haematic_phylactery32.png" bad="0" >
		<secondarybuff id="0" amount="-5" />
      <secondarybuff id="1" amount="-8" />
      <secondarybuff id="13" amount="-2" />
      <secondarybuff id="14" amount="-2" />
      <primarybuff id="0" amount="-4" />
	</buff>
	<description text="Your vitality has been tapped by a unique form of blood magic." />
   </spell>

<spell name="Haematic Refresh" type="self" icon="skills/haematic_phylactery32.png" wand="0">
	<requirements mp="1" />
	<effect type="removebuffbyname" name="Haematic Drain" amount="1" />
	<effect type="heal" amount="50" amountF="0.25"/>
   <effect type="spellpoints" amount="25" />
	<description text="Return vitality to your body!" />
	<anim sprite="sprites/sfx/summonA/summonA" frames="10" framerate="60" centerEffect="1" sfx="choir" />
	</spell>

<!-- crossbow special attacks -->
<!-- placeholder; TODO: proper coding of multishot -->
<spell name="Fight In The Shade" type="target" downtime="32" icon="skills/fight_in_the_shade32.png" >
   <effect type="damage" piercing="1" />
   </spell>

<!-- placeholder; TODO: proper coding of crossbow counterattack -->
<spell name="Maverick Counterattack" type="target" downtime="32" icon="skills/maverick32.png" >
   <effect type="damage" piercing="1" />
   </spell>

<!-- placeholder; TODO: proper coding of bolt ray attack -->
<spell name="Impossible Shot" type="target" downtime="32" icon="skills/impossible_shot32.png" >
   <effect type="damage" piercing="1" />
   </spell>

<!-- placeholder; TODO: proper coding of double throw attack -->
<spell name="Dual Pitch" type="target" downtime="32" icon="skills/dual_pitcher32.png" >
   <effect type="damage" crushing="1" />
   </spell>

<spell name="Monster Toss" type="target" attack="1" downtime="32" icon="skills/monster_toss32.png" >
   <effect type="damage" blasting="1" />
   <effect type="knock" />
   <effect type="knock" />
   </spell>

<spell name="Trap Throw" type="target" downtime="32" icon="skills/trap_throw32.png" >
   <effect type="damage" slashing="1" />
   </spell>
  
  <spell name="Give Me a Ring" type="self" icon="skills/rogue/alchemy2_32.png" >
    <description text="Generates a ring."/>
    <effect type="spawn" itemname="randomring"/>
    <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" sfx="ping" />
  </spell>
  <fountain name="Give Me a Ring" text="You find something in the fountain."/>

<!-- Crossbow and Thrown spell effects -->
<!-- make these more interesting later -->

<spell name="Crossbow Blast" type="target" attack="1" >
   <description text="This technique, robed in rumour and behatted by hearsay, allows a crossbow bolt to hit with many times the force expected, knocking an enemy back and causing great damage."/>
   <effect type="damage" blasting="2" crushing="2"/>
   <effect type="knock" amount="2" self="0"/>
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60"  sfx="impact" centerEffect="0"/>
   </spell>

<spell name="Monster Toss" type="adjacent" attack="1" >
   <description text="This technique, robed in rumour and behatted by hearsay, allows a crossbow bolt to hit with many times the force expected, knocking an enemy back and causing great damage."/>
   <effect type="knock" amount="5" self="0"/>
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60"  sfx="impact" centerEffect="0"/>
   </spell>

<!-- for dodge -->
<spell name="Adventurer Aikido" type="target" attack="1" >
   <description text="You've read an article in the back of Adventurer Monthly about this, now let's see if it works... (Theoretically turns a dodge into a counterattack. Sometimes.)"/>
   <effect type="damage" crushing="3" />
   <effect type="paralyze" turns="1" self="0"/>
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60"  sfx="impact" centerEffect="0"/>
   </spell>

<!-- assassination -->

<spell name="Venomous Infusion" downtime="36" type="self" icon="skills/attack_poison32.png" >
   <anim sprite="sprites/sfx/acid_ball/acid_ball" frames="4" framerate="100" sfx="naughty" />
	<buff useTimer="0" self="1" attacks="6" stackable="0" stacksize="1" icon="skills/attack_poison64.png" smallicon="skills/attack_poison32.png" >
		<effect type="buff" self="1" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" sfx="magic" />
      <damagebuff toxic="3" />
      <secondarybuff id="4" amount="3"/> <!-- crit -->
      <targetHitEffectBuff percentage="100" name="Vile Poison" />
      <!-- <targetHitEffectBuff name="Vile Poison" percentage="50" taxa="Animal" />
      <targetHitEffectBuff name="Vile Poison" percentage="50" taxa="Demon" />
      <targetHitEffectBuff name="Vile Poison" percentage="50" taxa="Other" />
      <targetHitEffectBuff name="Vile Poison" percentage="50" taxa="Vegetable" /> -->
	</buff>
	<description text="Infuse your weapon (or boot?) with a vile poison. Lasts for only a few attacks so make it count."/>
   </spell>


<spell name="Sneak Attack Effect" type="target" icon="skills/rogue/skill_assassination0_32.png" attack="1" >
	<effect type="damage" piercing="10" bleed="1" />
   <effect type="knock" amount="1" />
   <effect type="paralyze" amount="1" turns="3"/>
	<description text="Jack that mother."/>
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="impact"/>
   </spell>
<spell name="Sneak Attack" downtime="80" type="targetmonster" icon="skills/sneak_attack32.png">
	<description text="You are a deadly shadow - perform a sneak attack from nowhere and everywhere."/>
   <effect type="trigger" spell="Sneak Attack Effect" />
	<effect type="trigger" spell="Xeuclid's Translation" amount="1" />
   <anim sprite="sprites/sfx/null" frames="1" framerate="100" sfx="naughty" centerEffect="1"/>
	<impact sprite="sprites/sfx/hero_glow/hero_glow" frames="3" framerate="80" centerEffect="1"/>
   </spell>
   
<spell name="Spirit Steal" type="self" >
   <effect type="trigger" spell="Stolen Spirit" taxa="Animal" />
   <effect type="trigger" spell="Stolen Spirit" taxa="Demon" />
   <effect type="trigger" spell="Stolen Spirit" taxa="Other" />
   </spell>

<spell name="Soul Steal" type="self" >
   <effect type="trigger" spell="Stolen Soul" taxa="Animal" />
   <effect type="trigger" spell="Stolen Soul" taxa="Demon" />
   <effect type="trigger" spell="Stolen Soul" taxa="Other" />
   </spell>
   

<spell name="Combat Momentum" type="self" icon="skills/momentum32.png" wand="0">
	<anim sprite="sprites/sfx/rage/rage" frames="3" framerate="50" sfx="wait" />
	<buff useTimer="1" time="5" stacksize="5" icon="skills/momentum64.png" smallicon="skills/momentum32.png">
		<damagebuff piercing="1" /> 
      <secondarybuff id="8" amount="2"/> <!-- counter -->
      </buff>
	<description text="Сохраняйте боевой темп для усиления эффективности удара. Рви и мечи!" />
   </spell>

<spell name="Invisible Geometries Drain" self="1" icon="skills/invisible_geometries32.png" type="self" wand="0">
   <effect type="drainCasterMana" amount="75"/>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="blast" />
   <description text="Well, snap. There goes your magic."/>
   </spell>

<spell name="Invisible Geometries" type="rook" downtime="3" icon="skills/invisible_geometries32.png">
   <description text="A master of leylines can use invisible geometries to move-without-moving -- but only in cardinal directions. Be warned though, for moving through the aethereal realm greatly saps magical strength."/>
   <effect type="teleport"/>
   <effect type="trigger" spell="Invisible Geometries Drain" self="1" />
   <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60" sfx="teleport_short" centerEffect="0"/>
   </spell>

<spell name="Remember Your Charlemagne" downtime="50" type="missile" icon="skills/rogue/charlemagne32.png" wand="1">
   <effect type="damage" blasting="3" blastingF="1.0" primaryScale="1" />
   <effect type="knock" amount="1" self="0"/>
   <impact sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" sfx="impact" framerate="80" centerEffect="1"/>
   <anim sprite="sprites/sfx/birdattack/birdattack" frames="6" framerate="100" sfx="magic_damage" />
   <description text="'Let my armies be the rocks and the trees and the birds in the sky...'"/>
   <effect type="pacify" />
	<effect type="confuse" self="0" />
   <effect type="trigger" spell="Feather Cloud" />
   </spell>
<spell name="Feather Cloud" 
		type="targetfloor" 
		mineTimer="3" 
		mineUseGlints="1" 
		mineGlintDensity="10"
      mineSpriteDrawOrder="1"
		mineSpritePNGSeries="sprites/sfx/feather/feather" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="20" 
		mineSpritePNGRate="140" 
		mine="1" 
		mineradius="2" >
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" centerEffect="1"/>
   <effect type="pacify" />
	<effect type="confuse" self="0" />
   </spell> 

<spell name="Regen Mana 1" type="target" >
	<effect type="spellpoints" amount="1" />
   </spell>
<spell name="Regen Mana 2" type="target" >
	<effect type="spellpoints" amount="2" />
   </spell>
<spell name="Regen Mana 3" type="target" >
	<effect type="spellpoints" amount="3" />
   </spell>

   <!-- for Vampirism -->
   
<spell name="Batty Companions" type="template" templateID="99">
   <effect type="summon" monsterType="Batty" percent="22" amount="3" />
   <anim sprite="sprites/sfx/summonA/summonA" frames="10" framerate="100" sfx="blast" centerEffect="1"/>
   </spell>
<spell name="Batty Form" downtime="30" type="self" icon="skills/batty32.png" wand="0">
   <buff useTimer="1" time="20" stacksize="1" self="1"  icon="skills/batty64.png" smallicon="skills/batty32.png">    
      <polymorph name="Batty"/>
      <primarybuff id="0" amount="-5"/> <!-- Bur -->
      <secondarybuff id="2" amount="-10"/> <!-- melee -->
      <secondarybuff id="10" amount="-4"/> <!-- armour -->
      <secondarybuff id="6" amount="50" /> <!-- dodge -->
      <secondarybuff id="12" amount="25" /> <!-- sneak -->
      </buff>
   <effect type="trigger" spell="Batty Companions"/>
   <description text="You can transform into a batty to make your escape. REEeee! (That's the sound a bat makes.)" />
   <anim sprite="sprites/sfx/mystic_missile/mystic_missile" frames="4" framerate="90"  centerEffect="0" sfx="magic" />
   </spell>

   
  <spell name="Flamefield 1"
        type="targetfloor"
        mineTimer="4"
        mineUseGlints="1"
        mineGlintDensity="20"
        mineSpritePNGSeries="sprites/sfx/flame_field/flame_field"
        mineSpritePNGFirst="0"
        mineSpritePNGNum="10"
        mineSpritePNGRate="100"
        mine="1"
        mineradius="2"
        minePermanent="1" >
    <effect type="damage" conflagratory="3" conflagratoryF="0.05" affectscaster="1" />
    <anim sprite="sprites/sfx/impactA/impactA" frames="6" framerate="60" centerEffect="1" sfx="flame_weak"/>
  </spell>

<!-- Diggle Trouble -->
<spell name="Diggle Nog Effect" type="self" icon="skills/core_diggle32.png" >
   <effect type="trigger" spell="Diggle Nog Form" percent="50" />
   </spell>

<spell name="Diggle Nog Form" type="self" icon="skills/core_diggle32.png" wand="0">
   <buff useTimer="1" time="32" stacksize="1" self="1"  icon="skills/core_diggle64.png" smallicon="skills/core_diggle32.png" >    
      <polymorph name="Diggle"/>
      <primarybuff id="0" amount="1"/><!-- Bur -->
      <primarybuff id="3" amount="1"/><!-- Cad -->
      <secondarybuff id="2" amount="2"/><!-- melee -->
      <secondarybuff id="10" amount="2"/><!-- armour -->
      <secondarybuff id="6" amount="5" /> <!-- dodge -->
      <damagebuff piercing="3" />
      </buff>
   <description text="It looks like you drank a little too much Diggle Nog." />
   </spell>

<spell name="Very Weak Icebolt" type="missile" icon="skills/placeholder32.png" wand="0">
	<requirements mp="8" savvyBonus="0.2"/>
	<effect type="damage" blasting="2" hyperborean="3" affectscaster="1"/>
	<description text="Pew pew, ice!" monsterText="hurls an ineffectual ice bolt!"/>
	<anim sprite="sprites/sfx/energy_ball/energy_ball" frames="6" framerate="90" sfx="magic" />
	<impact sprite="sprites/sfx/glacial_hit/glacial_hit" frames="6" framerate="90" sfx="magic" />
   <effect type="trigger" spell="Small Weak Snowstorm" />
   </spell>

<spell name="Weak Spiky Hit" type="target" icon="skills/placeholder32.png" >
   <effect type="damage" piercing="3" />
   </spell>
<spell name="Spiky Hit" type="target" icon="skills/placeholder32.png" >
   <effect type="damage" piercing="6" />
   </spell>

<spell name="Anemone Hit" type="target" icon="skills/placeholder32.png" >
   <effect type="damage" piercing="1" toxic="3" />
   <effect type="trigger" spell="Vile Poison" percent="50" />
   </spell>

<spell name="Weak Aethereal Missile" type="missile" >
   <effect type="damage" affectsCaster="1" aethereal="3" aetherealF="0.10" blasting="2" />
   <anim sprite="sprites/sfx/aetherial_missile/aetherial_missile" frames="6" framerate="100" sfx="aetherial" />
   <impact sprite="sprites/sfx/impactA/impactA" frames="6" framerate="80" sfx="blast" centerEffect="0"/>
   <description text="An aethereal missile. Nothing at all like Magic Missile." monsterText="fires an aethereal missile!"/>
   </spell>

<spell name="Lingering Weakness Missile" type="missile" >
	<anim sprite="sprites/sfx/hex_orb/hex_orb" frames="6" framerate="100" sfx="hex_missile" />
	<impact sprite="sprites/sfx/curse_loop/curse_loop" frames="7" framerate="100" sfx="magic_damage" />
	<buff useTimer="1" allowstacking="1" stacksize="20" time="93" icon="skills/spells/lifedrained64.png" smallicon="skills/spells/lifedrained32.png" bad="1" >
		<secondarybuff id="0" amount="-1" />
	</buff>
	<description text="A lingering weakness saps your life-force due to contact with dark magicks." />
   </spell>
<spell name="Lingering Dullness Missile" type="missile" >
	<anim sprite="sprites/sfx/hex_orb/hex_orb" frames="6" framerate="100" sfx="hex_missile" />
	<impact sprite="sprites/sfx/curse_loop/curse_loop" frames="7" framerate="100" sfx="magic_damage" />
	<buff useTimer="1" allowstacking="1" stacksize="20" time="73" icon="skills/spells/magicdrained64.png" smallicon="skills/spells/magicdrained32.png" bad="1" >
		<secondarybuff id="1" amount="-2" />
      <secondarybuff id="3" amount="-1" />
	</buff>
	<description text="A dullness afflicts your mind due to contact with dark magicks." />
   </spell>

<spell name="Midas Missile" type="missile" >
   <impact sprite="sprites/sfx/glintA/glintA" frames="5" framerate="100" sfx="item_purchased" centerEffect="1"/>
	<anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="100" sfx="item_purchased" centerEffect="1"/>
	<effect type="damage" transmutative="4" transmutativeF="0.15" midas="1" affectsCaster="1" />
   </spell>

<spell name="Dig Effect" type="targetfloor" >
   <effect type="dig" regengfx="1"/>
   <anim sprite="sprites/sfx/digging_ray_hit/digging_ray_hit" frames="9" framerate="90" sync="1" sfx="magic" centerEffect="0"/>
   </spell>

<spell name="Transdimensional Dodging" downtime="3" type="self" icon="skills/transdimensional_dodge32.png" >
   <anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" sfx="ping" />
	<buff useTimer="0" self="1" stackable="0" removable="1" stacksize="1" icon="skills/transdimensional_dodge64.png" smallicon="skills/transdimensional_dodge32.png" >
		<effect type="buff" self="1" sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="100" sfx="magic" />
      <dodgebuff percentage="100" name="Froda's Jump Discontinuity" />
      <secondarybuff id="6" amount="3"/> <!-- dodge -->
	</buff>
	<description text="Sometimes you can dodge almost out of reality (and then back into it). Whether this ends up being a good thing is to be seen on a per-case basis. You may activate this ability at will."/>
   </spell>

<!-- 1.0.10 stuff -->

<spell name="Alchemical Inspiration" type="self" >
   <anim sprite="sprites/sfx/lightningarc/lightningarc" frames="7" framerate="100" sfx="magic" />
	<buff useTimer="1" self="1" time="30" stackable="0" icon="skills/alchemical_inspiration64.png" smallicon="skills/alchemical_inspiration32.png" >
      <secondarybuff id="21" amount="1"/>
	</buff>
	<description text="Inspiration flows through your fingertips as booze through your still and potions through funny-shaped glassware, filled to the brim with foaming portent. (Spillage of portentious foam should be cleaned immediately as it has been known to leave Fateful Encrustment.)"/>
   </spell>

<spell name="Acidhit1" type="target" >
   <effect type="damage" acidic="4" affectsCaster="1" />
   </spell>
  
<spell name="Acidhit2" type="target" >
   <effect type="damage" acidic="8" affectsCaster="1" />
   </spell>

<spell name="Strong Acid Burn" type="target" icon="skills/spells/acid_burn32.png" wand="1">
	<effect type="damage" bleed="1" acidic="12" affectsCaster="1"/>
	<anim sprite="sprites/sfx/acid_burn/acid_burn" frames="7" sfx="magic" framerate="100" centerEffect="1"/>
	<buff useTimer="1" time="8" stacksize="1" allowstacking="0" self="0" icon="skills/spells/acid_burn64.png" smallicon="skills/spells/acid_burn32.png" bad="1">
		<halo name="sprites/sfx/acid_puff/acid_puff" first="0" num="6" frameRate="100"/>
		<secondarybuff id="0" amount="-10"/> <!-- hp -->
		<secondarybuff id="10" amount="-10"/> <!-- armor -->
		<resistbuff crushing="-5" slashing="-5"/>
   </buff>
   <effect type="dot" amount="8" spell="Acidhit2" />
   <description text="This powerful acid burns flesh and armour alike." />
</spell>

<!-- new holy hand grenade effects -->
<spell name="Holy Blinding Flash" type="targetfloor" icon="skills/spells/blinding_light32.png" wand="0">
   <anim sprite="sprites/sfx/blinding_flash/blinding_flash" frames="8" sfx="magic_damage" framerate="40" centerEffect="0" />
	<effect type="trigger" spell="Holy Blinding Area Hit" amount="0" />
   </spell>
<spell name="Holy Blinding Area Hit" type="template" templateID="09" >
	<effect type="damage" righteous="10" aethereal="3" self="0" affectscaster="1" />
	<effect type="paralyze" amount="2" turns="4" self="0" />
	<anim sprite="sprites/sfx/glintA/glintA" frames="0" framerate="60" centerEffect="0" />
   </spell>
<spell name="Holy Hand Grenade Hit" type="template" templateID="100" anchored="0" icon="skills/spells/stars_aligned32.png" wand="1">
   <effect type="damage" righteous="10" />
   <effect type="paralyze" amount="2" turns="5" self="0" />
   <effect type="bleed" />
   <anim sprite="sprites/sfx/celestial_hit/celestial_hit" frames="8" sfx="magic_damage" framerate="80"  centerEffect="1"/>
   <!-- <effect type="trigger" spell="Generic Fireball" /> -->
   <effect type="trigger" spell="Holy Blinding Flash" />
   <effect type="trigger" spell="Fire 0" percent="25" />
   <effect type="trigger" spell="Fire 1" percent="10" />
   </spell>

<!-- Don't be boring, Fungal Arts, damn you. -->

<spell name="Sporification" type="targetfloor" icon="skills/rogue/skill_mushroom_lore2_32.png" wand="0" >
	<effect type="trigger" affectsCorpses="0" spell="Spore Cloud Effect" />
   <effect type="trigger" affectsCorpses="1" spell="Fungal Bloom 1" amount="4" /> 
   </spell>

<spell name="Fungling" type="targetfloor" icon="skills/rogue/skill_mushroom_lore2_32.png" wand="0" >
   <effect type="trigger" affectsCorpses="0" spell="Spore Cloud Effect" />
   <effect type="trigger" affectsCorpses="1" spell="Fungal Bloom 2" amount="4" /> 
   </spell>

<spell name="Fungal Bloom 1" type="targetfloor" wand="0">
   <effect type="spawnitemfromlist">
      <option name="Night Cap"/>
      <!-- <option name="Spores" amount="3" /> Bugger. -->
      <option name="Grunge Ear"/>
      <option name="Fairywodger" />
      <option name="Inky Hoglantern" />
      <option name="Mud Wen" />
      <option name="The Prince" />
      <option name="Lobstermane Fungus" />
   </effect>
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" centerEffect="1"/>
   </spell>

<spell name="Fungal Bloom 2" type="targetfloor" wand="0">
   <effect type="spawnitemfromlist">
      <option name="Plumber's Agaric"/>
      <option name="Azure Mob-Bonnet"/>
      <!-- <option name="Spores" amount="5" /> -->
      <option name="Fell Truffle"/>
      <option name="Greedy Blungecap" />
      <option name="Odious Puffball" />
   </effect>
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" centerEffect="1"/>
   </spell>

<spell name="Spore Cloud Effect" type="targetfloor" 
		mineTimer="5" 
		mineUseGlints="0" 
      mineSpriteDrawOrder="1"
		mineSpritePNGSeries="sprites/sfx/spores/spores" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="4" 
		mineSpritePNGRate="100" 
		mine="1" 
		mineradius="1"
      minePermanent="1" >  
   <effect type="damage" toxic="1" />
   </spell>

  <spell name="Consume Booze" type="target" >
    <effect type="consumebooze"/>
  </spell>
  <spell name="Consume Food" type="target" >
    <effect type="consumefood"/>
  </spell>

  <spell name="Supreme Lingering Weakness Missile" type="missile" >
    <anim sprite="sprites/sfx/hex_orb/hex_orb" frames="6" framerate="100" sfx="hex_missile" />
    <impact sprite="sprites/sfx/curse_loop/curse_loop" frames="7" framerate="100" sfx="magic_damage" />
    <buff useTimer="1" allowstacking="1" stacksize="20" time="93" icon="skills/spells/lifedrained64.png" smallicon="skills/spells/lifedrained32.png" bad="1" >
      <secondarybuff id="0" amount="-3" />
    </buff>
    <description text="A lingering weakness saps your life-force due to contact with dark magicks." />
  </spell>
  <spell name="Supreme Lingering Dullness Missile" type="missile" >
    <anim sprite="sprites/sfx/hex_orb/hex_orb" frames="6" framerate="100" sfx="hex_missile" />
    <impact sprite="sprites/sfx/curse_loop/curse_loop" frames="7" framerate="100" sfx="magic_damage" />
    <buff useTimer="1" allowstacking="1" stacksize="20" time="73" icon="skills/spells/magicdrained64.png" smallicon="skills/spells/magicdrained32.png" bad="1" >
      <secondarybuff id="1" amount="-6" />
      <secondarybuff id="3" amount="-3" />
    </buff>
    <description text="A dullness afflicts your mind due to contact with dark magicks." />
  </spell>
  
<!-- 1.0.11 spells -->

<!-- from Essence's Core Rebalance mod; Gaslamp Games Salutes you!-->
<spell name="I'm Not Left Handed" type="self" >
   <buff usetimer="1" time="2" icon="skills/warrior/swordplay3_64.png" smallicon="skills/warrior/swordplay3_32.png">
      <secondaryBuff id="8" amount="16" /> 
      <description text="By switching hands unexpectly you are able to launch startling, unsettling counteroffensives." /> 
      </buff>
   </spell>

<spell name="Nice Combo!" type="target" attack="1">
   <effect type="damage" crushing="1" crushingF="0.25" primaryScale="0"/>
   <effect type="trigger" spell="Nice Combo!" percent="25"/>
   </spell>

<spell name="Watched by the Council" type="self">
	<buff usetimer="1" time="12" smallicon="skills/rogue/perception3_32.png" icon="skills/rogue/perception3_64.png">
	<description text="You are being watched by the Bolt Council. Do them proud, and they may reward you. Of course, no one konws exactly what the Bolt Council approves of, so to you it will seem like they randomly drop powerful arrows at your feet. Also, occasionally vending machines. On your head. Watch out for that."/>
      </buff>
	<effect type="trigger" percent="2" spell="Honour the Council" amount="2"/>
	<effect type="trigger" percent="2" spell="Honour the Council" amount="3"/>
 	<effect type="trigger" percent="3" spell="Honour the Council" amount="4"/>
	<effect type="trigger" percent="4" spell="Honour the Council" amount="5"/>
	<effect type="trigger" percent="5" spell="Honour the Council" amount="6"/>
	<effect type="trigger" percent="6" spell="Honour the Council" amount="7"/>
	<effect type="trigger" percent="7" spell="Honour the Council" amount="8"/>
	<effect type="trigger" percent="8" spell="Honour the Council" amount="9"/>
	<effect type="trigger" percent="8" spell="Honour the Council" amount="10"/>
	<effect type="trigger" percent="10" spell="Honour the Council" amount="11"/>
	<effect type="trigger" percent="10" spell="Honour the Council" amount="12"/>
	</spell>

<spell name="Honour the Council" type="target">
   <effect type="trigger" spell="Council's Gift"/>
   <effect type="trigger" spell="Council's Blessing" percent="7"/>
   </spell>
	

<spell name="Council's Gift" type="targetfloor" >
	<anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="100" sfx="item_purchased" centerEffect="1"/>
	<effect type="spawnitemfromlist">
		<option name="Cruelly Barbed Iron Bolt"/>
		<option name="Cruelly Barbed Iron Bolt"/>
		<option name="Cruelly Barbed Iron Bolt"/>
 	   	<option name="Poison Bottle Bolt"/>
	    	<option name="Clockwork Drill Bolt"/>
		</effect>
	</spell>

<spell name="Council's Blessing" type="self">
	<effect type="trigger" amount="2" spell="Fountain of Ammo"/>
	<effect type="trigger" amount="2" spell="Rubble"/>
	<effect type="paralyze" resistable="0" turns="2" affectsCaster="1" />
	<impact sprite="sprites/sfx/fulminaric_bolt/fulminaric_bolt" frames="10" sync="1" sfx="lightning_bolt" framerate="90"  centerEffect="0"/>
	<effect type="create" turns="1" objectSprite="dungeon/bolt_dispenser.spr" self="0"/>
<description text="The Bolt Council has elected to grace you with a vending machine. It appears broken, however -- I wonder what they intend to do with it?"/>
   </spell>

	
<spell name="Fountain of Ammo" type="template" anchored="1" templateID="100">
	<anim sprite="sprites/sfx/combust_hit/combust_hit" frames="9" framerate="80" centerEffect="1" sfx="flame"/>
	<effect type="trigger" percent="80" spell="Council's Gift"/>  <!-- Seems broken; only seems to actually go off about 40% of the time. --> 
        </spell>

<spell name="Rubble" type="target">
<effect type="create" turns="16" objectSprite="dungeon/statue_dredmor_broken.png"/>
 	</spell>

<spell name="Lucky Find" type="self"> 
   <effect type="spawnitemfromlist">
      <option name="Aqua Vitae"/>
      <option name="Aqua Regia"/>
      <option name="Aqua Fortis"/>
      <option name="Burnt Out Wand"/>
      <option name="Leather Boots"/>
      <option name="Silver Ring"/>
      <option name="Gold Ring"/>
      <!--<option name="Platinum Ring"/>    -->
      <option name="Night Cap"/>
      <option name="Fairywodger"/>
      <option name="Inky Hoglantern"/>
      <option name="Sewer Brew"/>
      <option name="Cheese"/>
      <option name="Plastic Ingot"/>
      <option name="Steel Ingot"/>
      <option name="Rough Iron Sword"/>
      <option name="Rough Iron Mace"/>
      <option name="Rough Iron Axe"/>
      <option name="Sliced Bread"/>
      <option name="Leather Cap"/>
      </effect>
   </spell>

<spell name="Luckier Find" type="self"> 
   <effect type="spawnitemfromlist">
      <option name="Acidium Salis"/>
      <option name="Oil of Vitriol"/>
      <option name="Potion of Mana"/>
      <option name="Potion of Healing"/>
      <option name="Sapphire"/>
      <option name="Diamond"/>
      <option name="Bituminous Coal"/>
      <option name="Black Pearl"/>    
      <option name="Pyrite Sun"/>
      <option name="Diggle Egg"/>
      <option name="Greedy Blungecap"/>
      <option name="Potion of Purity"/>
      <option name="Rough Steel Sword"/>
      <option name="Rough Steel Mace"/>
      <option name="Rough Steel Axe"/>
      <option name="Bronze Ingot"/>
      <option name="Brass Ingot"/>
      <option name="Electrum Ingot"/>
      <option name="Spring-loaded Power Core"/>
      <option name="Voltaic Cell"/>
      </effect>
   </spell>

<spell name="Luckiest Find" type="self"> 
   <effect type="spawnitemfromlist">
      <option name="Potion of Restoration"/>
      <option name="Hand Grenade"/>
      <option name="Nzappa Zap"/>
      <option name="Potion of Healing"/>
      <option name="Steel Sword"/>
      <option name="Steel Mace"/>
      <option name="Steel Axe"/>
      <option name="Emerald"/>    
      <option name="Ruby"/>
      <option name="Hordratic Lutefisk Cube"/>
      <option name="Acid Flask"/>
      <option name="Steel Ingot"/>
      <option name="Potion of Invisibility"/>
      <option name="Dire Sandwich"/>
      <option name="Acid Bottle Bolt"/>
      <option name="Firey Wand"/>
      <option name="Kilt"/>
      <option name="Thieving Gloves"/>
      <option name="Dandy Black Velvet Boots"/>
      <option name="Trapper's Toolbelt"/>
      </effect>
   </spell>

	
<!-- end Essence spells -->

<spell name="Crushed Bones" type="target">
	<buff useTimer="1" time="68" 
		self="0" 
		stacksize="1" 
		allowstacking="0" 
		icon="skills/crushed_bones64.png" 
		smallicon="skills/crushed_bones32.png"
      bad="1" >
      <primarybuff id="0" amount="-2"/> <!-- Burliness -->
      <primarybuff id="2" amount="-4"/> <!-- Nimbleness -->
      <secondarybuff id="2" amount="-2"/> <!-- melee power -->
      <secondarybuff id="7" amount="-5"/> <!-- block -->
      <secondarybuff id="10" amount="-3"/> <!-- armour -->
   </buff>
	<anim sprite="sprites/sfx/corpse_hit_mini/corpse_hit_mini" frames="4" framerate="100" sfx="impact" centerEffect="0"/>
   <description text="Bones have been crushed! This is undeniably unpleasant, to say nothing of the utter inconvenience." />
   </spell>

<spell name="Beaned" type="target" >
   <effect type="damage" crushing="1" crushingF="0.25" primaryScale="0"/>
   <effect type="knock" amount="1" />
   </spell>

   
<!-- spell : on fire (to replace burn) -->

<!-- spreading fire mine -->

<!-- basically the RotDG butcher spell -->
<spell name="Butchery" type="target" icon="skills/bloody32.png" wand="0">
	<!-- spawn some meats -->
	<effect affectsCorpses="0" type="spawnitemfromlist">
		<option name="Offal"/>
		<option name="Cube of Flesh"/>
		<option name="Offal"/>
		<option name="Cube of Flesh"/>
		<option name="Fresh Steak"/>
		<option name="Ground Meat"/>
		<option name="Ground Meat"/>
		<option name="Steak"/>
		<option name="Aged Steak"/>    
		</effect>
	<description text="You butcher animals for their fresh, fresh, fresh meat. This occurs automatically in the midst of combat due to the butchering reflexes you've honed into muscle-memory, as they say." />
	<anim sprite="sprites/sfx/mystic_missile/mystic_missile" frames="4" framerate="90"  centerEffect="0" sfx="magic" />
 </spell>


<spell name="Lesser Syzygy" type="self" icon="skills/lesser_syzygy32.png" >
	<requirements mp="20" savvyBonus="0.25" mincost="4" />
	<anim sprite="sprites/sfx/divine_hit/divine_hit" frames="8" sfx="radiant" framerate="70" centerEffect="0"/>
	<buff useTimer="0" removable="1" manaUpkeep="5" allowstacking="0" icon="skills/lesser_syzygy64.png" smallicon="skills/lesser_syzygy32.png">
		<primarybuff id="2" amount="1" /> <!-- Nimbleness -->
		<primarybuff id="1" amount="1" /> <!-- Sagacity -->
		<secondarybuff id="0" amount="8" /> <!-- hp -->
		<secondarybuff id="1" amount="6" /> <!-- mp -->
		<secondarybuff id="6" amount="4" /> <!-- dodge -->
		<damagebuff aethereal="1" />
   </buff>
   <description text="A few of the planets have aligned to grant you mildly extra-ordinary agility, power, and constitution. Requires mana to upkeep."/>     
   </spell>

<!-- 1.0.11 -->

<spell name="One Tile Concussion Blast" type="target" >
   <effect type="damage" blasting="6" affectscaster="1" />
   <anim sprite="sprites/sfx/blastB/blastB" frames="4" framerate="90" centerEffect="1" sfx="explosion"/>
   <effect type="knock" amount="2" self="0"/>
   </spell>

<spell name="Mini Harmless Steam Cloud" 
		type="targetfloor" 
		mineTimer="4" 
		mineUseGlints="1" 
		mineGlintDensity="10"
      mineSpriteDrawOrder="1"
		mineSpritePNGSeries="sprites/sfx/lethian_mist_mini/lethian_mist_mini" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="6" 
		mineSpritePNGRate="100" 
		mine="1" 
		mineradius="1" >
   <anim sprite="sprites/sfx/smokepuffbig/smokepuffbig" frames="6" centerEffect="1"/>
   </spell>

<spell name="Smoke Ray" type="beam" >
	<effect type="trigger" spell="Mini Harmless Steam Cloud" />
   <anim sprite="sprites/sfx/null" frames="1" firstframe="0" framerate="100"/>
	</spell>

<spell name="Delayed Smoke Ray" type="beam" > <!-- doesn't work? -->
	<effect type="trigger" spell="Mini Harmless Steam Cloud" amount="1"/>
   <anim sprite="sprites/sfx/null" frames="1" firstframe="0" framerate="100"/>
	</spell>

<spell name="Weak Existential Despair Missile" type="missile" >
	<anim sprite="sprites/sfx/hex_orb/hex_orb" frames="6" framerate="100" sfx="hex_missile" />
	<impact sprite="sprites/sfx/curse_loop/curse_loop" frames="7" framerate="100" sfx="magic_damage" />
	<description text="A lingering existential despair saps your will to live." />
   <effect type="damage" existential="2" />
   <effect type="trigger" spell="Ennui" />
   </spell>
   
<spell name="Existential Despair Missile" type="missile" >
	<anim sprite="sprites/sfx/hex_orb/hex_orb" frames="6" framerate="100" sfx="hex_missile" />
	<impact sprite="sprites/sfx/curse_loop/curse_loop" frames="7" framerate="100" sfx="magic_damage" />
	<description text="A lingering existential despair saps your will to live." />
   <effect type="damage" existential="7" />
   <effect type="trigger" spell="Ennui" />
   </spell>
   
<spell name="Wand Aethereal Missile" type="missile" >
   <effect type="damage" affectsCaster="1" aethereal="10" aetherealF="2.00" secondaryScale="23" blasting="2" blastingF="1.00" />
   <anim sprite="sprites/sfx/aetherial_missile/aetherial_missile" frames="6" framerate="100" sfx="aetherial" />
   <impact sprite="sprites/sfx/impactA/impactA" frames="6" framerate="80" sfx="blast" centerEffect="0"/>
   <description text="An aethereal missile. Nothing at all like Magic Missile." monsterText="fires an aethereal missile!"/>
   </spell>

<spell name="Wand Midas" type="target" >
	<anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="100" sfx="item_purchased" centerEffect="1"/>
	<effect type="damage" transmutative="10" transmutativeF="0.5" secondaryScale="23" midas="1" affectsCaster="1" />
   </spell>

<spell name="Wand Firebolt" type="missile" icon="skills/placeholder32.png" wand="1">
	<requirements mp="8" savvyBonus="0.2"/>
	<effect type="damage" blasting="6" blastingF="1.00" conflagratory="10" conflagratoryF="1.00" secondaryScale="23" affectscaster="1"/>
	<description text="Pew pew, fire!" monsterText="shoots a reasonably impressive bolt of fire!"/>
	<anim sprite="sprites/sfx/flame_buff_loop/flame_buff_loop" frames="6" framerate="50" sfx="flame" />
	<impact sprite="sprites/sfx/explosion_med/explosion_med" frames="8" framerate="90" sfx="flame_weak" />
  <effect type="trigger" spell="Fire 1" />
   </spell>

<!-- fleshsmithing revision -->
<spell name="Summon Zomby" type="targetcorpse" icon="skills/spells/zombyfycation32.png" >
	<requirements mp="1" />
	<effect type="summon" monsterType="Zomby" amount="8" />
	<!-- <anim sprite="sprites/sfx/summonA/summonA" frames="10" framerate="100" sfx="blast" centerEffect="1"/>-->
	<anim sprite="sprites/sfx/corpus_burst/corpus_burst" frames="7" sfx="naughty" framerate="100" centerEffect="1" />
	<description text="Give new life to the rather recently dead - as your undead Zomby minion!" />
	</spell>

<spell name="Burning Blinding Flash" type="targetfloor" icon="skills/spells/blinding_light32.png" wand="0">
   <anim sprite="sprites/sfx/blinding_flash/blinding_flash" frames="8" sfx="magic_damage" framerate="40" centerEffect="0" />
	<effect type="trigger" spell="Burning Blinding Area Hit" amount="0" />
   </spell>

<spell name="Burning Blinding Area Hit" type="template" templateID="09" >
	<effect type="damage" conflagratory="10" aethereal="3" self="0" affectscaster="1" />
	<effect type="paralyze" amount="2" turns="3" self="0" />
	<anim sprite="sprites/sfx/glintA/glintA" frames="0" framerate="60" centerEffect="0" />
   </spell>

<!-- Daggers and Polearms -->

<!-- Various awful effects -->

<spell name="Horrid Bleeding" type="target" >
	<effect type="damage" piercing="2" piercingF="0.20" secondaryScale="2" /> <!-- melee : caster or target? -->
   </spell>

<spell name="Geysering Wound" type="target" icon="skills/blood_geyser_strike32.png" wand="1">
	<requirements mp="10" savvyBonus="0.18" mincost="3" />  
	<anim sprite="sprites/sfx/fleshbore/fleshbore" frames="7" sfx="dagger_strike" framerate="100" centerEffect="1"/>
	<buff useTimer="1" time="4" self="0" stacksize="5" allowstacking="1"
         icon="skills/blood_geyser_strike64.png"
         smallicon="skills/blood_geyser_strike32.png"
         bad="1" >
		<halo name="sprites/sfx/blood_loop/blood_loop" num="6" frameRate="100" />
      <secondarybuff id="7" amount="-20"/> <!-- block -->
		<secondarybuff id="10" amount="-2"/> <!-- armor -->
      <secondarybuff id="2" amount="-3" /> <!-- meleepower -->
		<resistbuff crushing="-1" slashing="-1" blasting="-1" piercing="-1"/>
  </buff>
	<effect type="dot" amount="4" spell="Horrid Bleeding" requirebuff="1" />
	<description text="What an awful mess!" />
   <!-- do we have a command that shoots blood everywhere? -->
</spell>

<!-- Daggers -->

<spell name="Blood Geyser Strike" type="adjacent" attack="1" icon="skills/blood_geyser_strike32.png" downtime="9" >
   <effect type="damage" piercing="4" primaryScale="2" piercingF="0.4" /> <!-- NIM -->
   <effect type="trigger" spell="Geysering Wound" taxa="Animal" />
   <description text="Providing your enemy has veins, this attack spills the precious fluid contained therein. It doesn't work terribly well on undead robots made of wood. Damage scales to nimbleness." />
   </spell>

<spell name="Silent Deadly Dagger Sneaky Stance" downtime="1" type="self" icon="skills/dagger_offensive32.png" wand="0">
	<buff useTimer="0" stacksize="1" allowstacking="0" removable="1" bad="0"
         icon="skills/dagger_offensive64.png"
         smallicon="skills/dagger_offensive32.png" >
		<secondarybuff id="4" amount="25"/> <!-- crit -->
		<secondarybuff id="12" amount="25"/> <!-- sneak -->
      <secondarybuff id="2" amount="-5"/> <!-- melee -->
      <damageBuff piercing="2" />
      <!--<damagebuff slashing="-1" piercing="-1" />-->
	</buff>
   <anim sprite="sprites/sfx/null" frames="1" framerate="80" centerEffect="0" sfx="dagger_strike" />
	<description text="What is more deadly than the attack never seen? This combat stance enhances your sneakiness and chance to score critical hits on enemies at the cost of raw melee power." />
   <effect type="removebuffbyname" name="Very Sharp Wall of Blades Stance"/>
   </spell>

<spell name="Two Attacks One Dagger!" type="target" attack="1" >
   <effect type="damage" piercing="1" piercingF="0.15" secondaryScale="12" /> <!-- scale by sneak -->
   <!-- sneak in an extra attack -->
   </spell>
   
<spell name="Dagger Poison Attack" type="adjacent" attack="1" downtime="12" icon="skills/daggery32.png" >
   <effect type="trigger" spell="Vile Poison" />
   <effect type="trigger" spell="Small Weak Poison Cloud" />
   <effect type="damage" toxic="3" toxicF="1" primaryScale="3" />
   </spell>
   
<spell name="Liechtenauer's Switcheroo" type="adjacent" attack="1" downtime="8" icon="skills/switcheroo32.png" >
   <!--<effect type="trigger" spell="Dagger Double Attack" />-->
   <description text="Pull the old Umkehrung on an adjacent opponent, switching places with them while sneaking in an extra daggery attack." />
   <effect type="paralyze" turns="1" after="1" />
   <effect type="swapwithmonster" skipanimation="1" after="1" resistable="0"/>
   </spell>

<spell name="Blade Wall Block Visual" type="self" >
   <anim sprite="sprites/sfx/bladewallblock/bladewallblock" frames="4" framerate="100" centerEffect="0" sfx="blades" />
   </spell>
<spell name="Blade Wall Block Effect" type="self" >
   <effect type="trigger" spell="Blade Wall Block Visual" amount="0" />
   <effect type="damage" piercing="1" slashing="1" /> <!-- make some counterattack happen? -->
   </spell>
   
<spell name="Very Sharp Wall of Blades Stance" downtime="1" type="self" icon="skills/dagger_defensive32.png" wand="0">
	<buff useTimer="0" stacksize="1" allowstacking="0" removable="1" bad="0"
         icon="skills/dagger_defensive64.png"
         smallicon="skills/dagger_defensive32.png" >
		<secondarybuff id="7" amount="25"/> <!-- block -->
		<secondarybuff id="8" amount="25"/> <!-- counter -->
      <secondarybuff id="2" amount="-5"/> <!-- melee -->
      <!--<damagebuff slashing="-1" piercing="-1" />-->
      <playerHitEffectBuff percentage="100" name="Blade Wall Block Effect" />
	</buff>
   <anim sprite="sprites/sfx/null" frames="1" framerate="80" centerEffect="0" sfx="dagger_strike" />
	<description text="Who would dare try to breach a wall made of very sharp, very fast blades? This combat stance enhances your ability to block and counter attacks at the cost of raw melee power." />
   <effect type="removebuffbyname" name="Silent Deadly Dagger Sneaky Stance"/>
   </spell>

<spell name="Devouring Wound Technique" type="adjacent" attack="1" downtime="16" icon="skills/thaumitic_strike32.png" >
   <effect type="trigger" spell="Thaumite Infection" />
   <description text="Just one wound inflicted by this most horrible technique will devour an enemy from the inside. This is not generally considered an honourable way to fight, no matter what the Monks of Assassination would have you believe. Damage scales by Caddishness." />
   <effect type="damage" putrefying="2" putrefyingF="0.5" transmutative="2" transmutativeF="0.5" primaryScale="3" />
   
   </spell>   
   
<!-- Polearms -->

<spell name="Polearm Repel Stage 2" type="target" downtime="1" icon="skills/polearming32.png"  >
   <!--<effect type="trigger" spell="Dagger Double Attack" />-->
   <effect type="paralyze" turns="1" />
   <effect type="knock" amount="1" after="1" percentage="50" />
   <effect type="knock" amount="1" after="1" />
   </spell>

<spell name="Polearm Repel" type="target" attack="1" downtime="1" icon="skills/polearming32.png"  >
   <!--<effect type="trigger" spell="Dagger Double Attack" />-->
   <effect type="trigger" spell="Polearm Repel Stage 2" />
   </spell>

<spell name="Count Tilly's Long-range Pike Bombardment" type="template" templateID="31" anchored="1" attack="1" downtime="3" icon="skills/polearm_linear32.png" >
   <effect type="damage" slashing="1" slashingF="0.5" crushing="1" crushingF="0.5" secondaryScale="2" /> <!-- scale by melee -->
   <effect type="trigger" spell="Blast Effect A" />
   <effect type="paralyze" turns="1" after="1" />
   <description text="When Count Tilly tells you to attack the fellow on the next street over, you find a way to make it work. This is a long-range linear attack which may stun enemies." />
   </spell>     
   
<spell name="Polearm Massive Attack" type="target" >
   <effect type="damage" slashing="1" slashingF="0.5" crushing="1" crushingF="0.5" secondaryScale="2" /> <!-- scale by melee power -->
   <effect type="trigger" spell="Blast Effect A" />
   <effect type="paralyze" turns="1" after="1" />   
   </spell>   

<spell name="The Sensible Swiss Defensive Stance" downtime="1" type="self" icon="skills/polearm_defensive32.png" wand="0">
	<buff useTimer="0" stacksize="1" allowstacking="0" removable="1" bad="0"
         icon="skills/polearm_defensive64.png"
         smallicon="skills/polearm_defensive32.png" >
		<secondarybuff id="7" amount="20"/> <!-- block -->
      <secondarybuff id="8" amount="10"/> <!-- counter -->
		<secondarybuff id="4" amount="-25"/> <!-- crit -->
      <secondarybuff id="2" amount="-5"/> <!-- melee -->
      <!--<damagebuff slashing="-1" piercing="-1" />-->
      <playerHitEffectBuff percentage="50" name="Polearm Repel"/>
      <targetHitEffectBuff percentage="50" name="Polearm Repel"/>
	</buff>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="metal_drop" />
	<description text="A sensible stance for uncertain times." />
   <effect type="removebuffbyname" name="Wallenstein's Inevitable Victory Stance"/>
   </spell>

<spell name="Wallenstein's Inevitable Victory Stance" downtime="1" type="self" icon="skills/polearm_offensive32.png" wand="0">
	<buff useTimer="0" stacksize="1" allowstacking="0" removable="1" bad="0"
         icon="skills/polearm_offensive64.png"
         smallicon="skills/polearm_offensive32.png" >
		<secondarybuff id="7" amount="-10"/> <!-- block -->
		<secondarybuff id="8" amount="-10"/> <!-- counter -->
      <secondarybuff id="4" amount="-10"/> <!-- crit -->
      <secondarybuff id="2" amount="5"/> <!-- melee -->
      <!--<damagebuff slashing="-1" piercing="-1" />-->
      <playerHitEffectBuff percentage="50" name="Polearm Massive Attack"/>
      <targetHitEffectBuff percentage="50" name="Polearm Massive Attack"/>
	</buff>
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="metal_drop" />
	<description text="Victory is assured! (Probably.)" />
   <effect type="removebuffbyname" name="The Sensible Swiss Defensive Stance"/>
   </spell>

<spell name="Talhoffer's Lunge Strike"
       downtime="7"
       type="template"
       templateID="701"
       anchored="1"
       icon="skills/polearm_longrange32.png"
       attack="1">
   <description text="Why not attack from far away to better keep danger at bay? You begin now to understand why Talhoffer lived so long." />
   <!-- <effect type="trigger" spell="Polearm Massive Attack" /> -->
   <effect type="damage" slashing="1" slashingF="0.25" crushing="1" crushingF="0.25" secondaryScale="2" /> <!-- melee power -->
   <effect type="trigger" spell="Blast Effect A" />
   <effect type="paralyze" turns="1" after="1" percentage="50" />   
   <anim sprite="sprites/sfx/impact_piercing/impact_piercing" frames="3" sfx="polearm_strike" framerate="100" centerEffect="0"/>
   </spell>

   
<spell name="Pope of the Polearm Mastery Sweep"
      downtime="13" type="template"
      templateID="700" anchored="1"
      icon="skills/polearm_sweep32.png" attack="1">
   <description text="Sweep aside your enemies like the dirt they are! Performs a stunning knockback area-attack."/>
   <effect type="trigger" spell="Polearm Repel" />
   <anim sprite="sprites/sfx/impact_piercing/impact_piercing" frames="3" sfx="polearm_strike" framerate="100" centerEffect="0"/>
   </spell>

<!-- Drunkenness -->

<spell name="Nip of Courage" downtime="1" type="self" icon="skills/courage32.png" wand="0">
	<requirements booze="10" />
	<buff useTimer="0" stacksize="1" allowstacking="0" removable="0" bad="0"
         icon="skills/courage64.png"
         smallicon="skills/courage32.png" >
      <primarybuff id="0" amount="1" />
      <primarybuff id="3" amount="1" />
	</buff>
	<description text="You feel stronger; more aggressive..." />
   </spell>

<spell name="Buzzing with Magic" downtime="1" type="self" icon="skills/buzzing32.png" wand="0">
	<requirements booze="15" />
	<buff useTimer="0" stacksize="1" allowstacking="0" removable="0" bad="0"
         icon="skills/buzzing64.png"
         smallicon="skills/buzzing32.png" >
      <primarybuff id="0" amount="1" /> <!-- bur -->
      <primarybuff id="2" amount="-1" /> <!-- nim -->
      <primarybuff id="3" amount="1" /> <!-- cad -->
	</buff>
	<description text="Now you're starting to feel it." />
   </spell>

<spell name="Wizard Krunk" downtime="1" type="self" icon="skills/sewer_brew32.png" wand="0">
	<requirements booze="20" />
	<buff useTimer="0" stacksize="1" allowstacking="0" removable="0" bad="0"
         icon="skills/sewer_brew64.png"
         smallicon="skills/sewer_brew32.png" >
      <primarybuff id="2" amount="-2" /> <!-- nim -->
      <primarybuff id="1" amount="-2" /> <!-- sag -->
      <primarybuff id="3" amount="2" /> <!-- cad -->
	</buff>
	<description text="You feel like a real Wizard!" />
   </spell>

<spell name="The Ballmer Peak" downtime="1" type="self" icon="skills/ballmer32.png" wand="0">
	<requirements booze="25" />
	<buff useTimer="0" stacksize="1" allowstacking="0" removable="0" bad="0"
         icon="skills/ballmer64.png"
         smallicon="skills/ballmer32.png" >
		<secondarybuff id="2" amount="5"/> <!-- melee -->
      <secondarybuff id="3" amount="5"/> <!-- magpow -->
      <primarybuff id="2" amount="-2" /> <!-- nim -->
      <primarybuff id="1" amount="-2" /> <!-- sag -->
      <primarybuff id="3" amount="2" /> <!-- cad -->
	</buff>
	<description text="YOU CAN DO ANYTHING YOU SET YOUR MIND TO." />
   </spell>
   
<spell name="Magically Liquoured" downtime="1" type="self" icon="skills/liquored32.png" wand="0">
	<requirements booze="30" />
	<buff useTimer="0" stacksize="1" allowstacking="0" removable="0" bad="0"
         icon="skills/liquored64.png"
         smallicon="skills/liquored32.png" >
      <secondarybuff id="9" amount="-10"/> <!-- edr -->
      <primarybuff id="2" amount="-5" /> <!-- nim -->
      <primarybuff id="1" amount="-5" /> <!-- sag -->
	</buff>
	<description text="Why is the room spinny?" />
   </spell>

<spell name="Dangerously Mana-blasted" downtime="1" type="self" icon="skills/blasted32.png" wand="0">
	<requirements booze="40" />
	<buff useTimer="0" stacksize="1" allowstacking="0" removable="0" bad="0"
         icon="skills/blasted64.png"
         smallicon="skills/blasted32.png" >
		<secondarybuff id="7" amount="-20"/> <!-- block -->
      <secondarybuff id="8" amount="-20"/> <!-- counter -->
      <secondarybuff id="9" amount="-20"/> <!-- edr -->
      <primarybuff id="2" amount="-8" /> <!-- nim -->
      <primarybuff id="1" amount="-8" /> <!-- sag -->
	</buff>
	<description text="It'sh all gone wrong, terribly wrong." />
   </spell>

<spell name="Lekon Confusion Effect" 
		type="targetfloor" 
		mineTimer="8" 
		mineSpritePNGSeries="sprites/sfx/lekon/lekon" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="16" 
		mineSpritePNGRate="160" 
		mine="1"
      mineSpriteDrawOrder="1"
		mineradius="1"
      minePermanent="1"
		wand="0">
	<effect type="pacify" />
	<effect type="confuse" />
	<anim sprite="sprites/sfx/mystic_missile/mystic_missile" frames="4" sfx="blast" centerEffect="1"/>
   <description text="It's a confusing yet humourous glyph!"/>
   </spell>

   <!-- This is probably a terrible idea. But I'm aiming for that Dom3 open-ended die-roll. - dgb -->
<spell name="Recursive Stab" type="target" >
   <effect type="damage" piercing="3" />
   <effect type="trigger" spell="Recursive Stab" percent="50" />
   </spell>

<spell name="Healing Rain"
		type="targetfloor" 
		icon="skills/spells/lethian_mist32.png" 
		mineTimer="5" 
		mineUseGlints="1" 
		mineGlintDensity="8" 
		mineSpritePNGSeries="sprites/sfx/raindrop/raindrop" 
		mineSpritePNGFirst="0" mineSpritePNGNum="6" mineSpritePNGRate="100" 
		mine="1" 
		mineradius="1"
      minePermanent="1"
      minesMustBeUnobstructed="0" >
	<description text="Healing Rain."/>
	<effect type="heal" amount="1" amountF="0.025" affectscaster="1" taxa="Player" />
	<anim sprite="sprites/sfx/water_impact/water_impact" frames="7" sfx="choir" centerEffect="1"/>
   </spell>

<!-- generic lightning mines -->
<spell name="Voltaic Arc 0" 
      type="targetfloor" 
      mine="1" 
      mineradius="1"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/LitarcB/LitarcB" 
      mineSpritePNGFirst="0" mineSpritePNGNum="8" mineSpritePNGRate="90" 
      mineTimer="14" 
      minePermanent="0" >
   <effect burn="1" type="damage" voltaic="3" affectscaster="1" />
   <anim sprite="sprites/sfx/lightningstrike/lightningstrike" frames="6" framerate="100" sfx="elec" centerEffect="1"/>
   <ai hint="mine" />
   </spell>
   
<spell name="Voltaic Arc 1" 
      type="targetfloor" 
      mine="1" 
      mineradius="1"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/LitarcB/LitarcB" 
      mineSpritePNGFirst="0" mineSpritePNGNum="8" mineSpritePNGRate="70" 
      mineTimer="14" 
      minePermanent="0" >
   <effect burn="1" type="damage" voltaic="8" affectscaster="1" />
   <anim sprite="sprites/sfx/lightningstrike/lightningstrike" frames="6" framerate="70" sfx="elec" centerEffect="1"/>
   <ai hint="mine" />
   </spell>

<spell name="Voltaic Arc 2" 
      type="targetfloor" 
      mine="1" 
      mineradius="1"
      mineSpriteDrawOrder="1"
      mineSpritePNGSeries="sprites/sfx/LitarcB/LitarcB" 
      mineSpritePNGFirst="0" mineSpritePNGNum="8" mineSpritePNGRate="50" 
      mineTimer="14" 
      minePermanent="0" >
   <effect burn="1" type="damage" voltaic="16" affectscaster="1" />
   <anim sprite="sprites/sfx/lightningstrike/lightningstrike" frames="6" framerate="70" sfx="elec" centerEffect="1"/>
   <ai hint="mine" />
   </spell>
   
<!-- 1.1.1 -->

<spell name="Monstrous Invisibility" type="target" >
	<anim sprite="sprites/sfx/psionic_generic/psionic_generic" frames="5" framerate="70" sfx="magic_open" />
	<buff useTimer="1" time="6" icon="skills/rogue/skill_stealth0_64.png" smallicon="skills/rogue/skill_stealth0_32.png" stackable="0" self="0" >
		<invisible amount="1" />
      </buff>
	<description text="Where'd it go!?"/>
   </spell>
   
<spell name="Greater Necrodrain" type="self">
   <effect type="drainMana" amount="75"/>
   <anim sprite="sprites/sfx/energy_ball/energy_ball" frames="6" framerate="80" />
   <impact sprite="sprites/sfx/arcA/arcA" frames="4" framerate="80" centerEffect="0" sfx="weakness" />
   <description text="Well, snap. There goes your magic."/>
   </spell>
   
<spell name="Easy Target Sucker Curse" type="self" icon="skills/spells/easy_target32.png" >
	<anim sprite="sprites/sfx/target/target" frames="5" framerate="90" sfx="cursed" centerEffect="1"/>
	<buff useTimer="0" brittle="1" self="0" stacksize="1" allowstacking="0" icon="skills/spells/easy_target64.png" smallicon="skills/spells/easy_target32.png" bad="1">
      <secondarybuff id="6" amount="-20"/> <!-- dodge -->
      <secondarybuff id="7" amount="-20"/> <!-- block -->
      <secondarybuff id="8" amount="-20"/> <!-- counter -->
      </buff>
   <description text="The subject of this unfortunate curse finds their enemies' strikes landing rather more often than mundane statistics would suggest."/>
   </spell>

<spell name="Self Darkened Vision" type="self">
   <anim sprite="sprites/sfx/glintA/glintA" frames="5" framerate="60" centerEffect="0" sfx="darkmagic" />
   <buff useTimer="1" time="24"
         allowstacking="1"
         icon="skills/spells/blinding_goodness64.png"
         smallicon="skills/spells/blinding_goodness32.png"
         bad="1" self="0">
      <halo name="sprites/sfx/glintA/glintA" first="0" num="5" frameRate="100"/>
      <secondarybuff id="17" amount="-2"/> <!-- trap sight -->
      <primarybuff id="2" amount="-3"/> <!-- nim -->
      <sightbuff amount="-1" />
      </buff>
   <description text="Your vision is darkened, causing you to stumble even more awkwardly through the dungeon."/>
   </spell>
   
<spell name="Gog's Tactical Pyre 2"
      type="targetfloor" 
		icon="skills/spells/tactical_pyre32.png" 
		mineTimer="16" 
		mineSpritePNGSeries="sprites/sfx/pyre_loop/pyre_loop" 
		mineSpritePNGFirst="0" 
		mineSpritePNGNum="4" 
		mineSpritePNGRate="100" 
		mine="1" 
		mineradius="1"
      mineSpriteDrawOrder="1"
		minePermanent="1"
      minesMustBeUnobstructed="0">	
   <requirements mp="16" savvyBonus="0.23" mincost="7" />
  <ai hint="mine"/>
   <effect type="damage" conflagratory="8" conflagratoryF="0.45" affectscaster="1" />
   <anim sprite="sprites/sfx/fireburst/fireburst" frames="7" sfx="flame" centerEffect="1"/>
   <description text="Summons a wall of fire from The Elemental Plane of Walls of Fire. Burns out over several turns as the otherworldly fuel-line succumbs to the Peak Mana crisis. Greater magical ability makes the spell easier to cast and the fire burn hotter." />
   </spell>
<spell name="Pyromatic Implosion" type="self">
   <effect type="trigger" spell="Gog's Tactical Pyre 2" />
   </spell>

<spell name="Stone Sole Pummeling" type="target">
   <effect type="triggerfromlist">
      <option name="Bleeding Out" />
      <option name="Crippling Wound" />
      </effect>
   </spell>

<spell name="Healing Rain Self" type="self">
   <effect type="trigger" spell="Healing Rain" />   
   </spell>
   
</spellDB>
